{%extends "base.html" %}
<!-- scroller -->
<!-- https://benfrain.com/playground/scroller.html -->

{% block notification_bell%}
{%if current_user.notification_count == 0 %}
<span id="Dividend_Wealth_Notification_Bell_count" style="display:none" class="badge red z-depth-1 mr-1"> {{current_user.notification_count}}</span>
{%else%}
<span id="Dividend_Wealth_Notification_Bell_count" class="badge red z-depth-1 mr-1"> {{current_user.notification_count}}</span>
{%endif%}
{%endblock%}


{% block content  %}
{%load crispy_forms_tags%}
{% load custom_tags %}
{%load static%}
<style type="text/css">
.profile-img-constraint{
  max-height: 28px!important;
  max-width: 28px!important;
  object-fit:cover;
}

.picture_modal{
  max-height: 600px!important;
  object-fit:cover;
}

.group-cover-img{
    max-height: 300px!important;
    width:auto;
    object-fit:cover;
}

.modal-profile-pic{
  height: 170px;
  width: 170px;
  object-fit:cover;
}

        .pn-ProductNav_Wrapper {
          position: relative;
          padding: 0 1px;
          box-sizing: border-box;
        }

        .pn-ProductNav {
          /* Make this scrollable when needed */
          overflow-x: auto;
          /* We don't want vertical scrolling */
          overflow-y: hidden;
          /* For WebKit implementations, provide inertia scrolling */
          -webkit-overflow-scrolling: touch;
          /* We don't want internal inline elements to wrap */

          /* white-space: nowrap; */

          /* If JS present, let's hide the default scrollbar */
          /* positioning context for advancers */
          position: relative;

        }
        .js .pn-ProductNav {
          /* Make an auto-hiding scroller for the 3 people using a IE */
          -ms-overflow-style: -ms-autohiding-scrollbar;
          /* Remove the default scrollbar for WebKit implementations */
        }
        .js .pn-ProductNav::-webkit-scrollbar {
          display: none;
        }

        .pn-ProductNav_Contents {
          float: left;
          -webkit-transition: -webkit-transform .2s ease-in-out;
          transition: -webkit-transform .2s ease-in-out;
          transition: transform .2s ease-in-out;
          transition: transform .2s ease-in-out, -webkit-transform .2s ease-in-out;
          position: relative;
        }

        .pn-ProductNav_Contents-no-transition {
          -webkit-transition: none;
          transition: none;
        }

        .pn-ProductNav_Link {
          text-decoration: none;
          color: #888;
          font-size: 1.2rem;
          font-family: -apple-system, sans-serif;
          display: -webkit-inline-box;
          display: -ms-inline-flexbox;

          -webkit-box-align: center;
              -ms-flex-align: center;
                  align-items: center;
          display: inline-block;
          border: 1px solid transparent;
          padding: 0 1px;
        }
        .pn-ProductNav_Link + .pn-ProductNav_Link {
          border-left-color: #eee;
        }
        .pn-ProductNav_Link[aria-selected="true"] {
          color: #111;
        }

        .pn-Advancer {
          /* Reset the button */
          -webkit-appearance: none;
             -moz-appearance: none;
                  appearance: none;
          background: transparent;
          padding: 0;
          border: 0;
          /* Now style it as needed */
          position: absolute;
          top: 0;
          bottom: 0;
          /* Set the buttons invisible by default */
          opacity: 0;
          -webkit-transition: opacity .3s;
          transition: opacity .3s;
        }
        .pn-Advancer:focus {
          outline: 0;
        }
        .pn-Advancer:hover {
          cursor: pointer;
        }

        .pn-Advancer_Left {
          left: 0;
        }
        [data-overflowing="both"] ~ .pn-Advancer_Left, [data-overflowing="left"] ~ .pn-Advancer_Left {
          opacity: 1;
        }

        .pn-Advancer_Right {
          right: 0;
        }
        [data-overflowing="both"] ~ .pn-Advancer_Right, [data-overflowing="right"] ~ .pn-Advancer_Right {
          opacity: 1;
        }

        .pn-Advancer_Icon {
          width: 20px;
          height: 44px;
          fill: #bbb;
        }

        .pn-ProductNav_Indicator {
          position: absolute;
          bottom: 0;
          left: 0;
          height: 0px;
          width: 0px;
          background-color: transparent;
          -webkit-transform-origin: 0 0;
                  transform-origin: 0 0;
          -webkit-transition: background-color .2s ease-in-out, -webkit-transform .2s ease-in-out;
          transition: background-color .2s ease-in-out, -webkit-transform .2s ease-in-out;
          transition: transform .2s ease-in-out, background-color .2s ease-in-out;
          transition: transform .2s ease-in-out, background-color .2s ease-in-out, -webkit-transform .2s ease-in-out;
        }
        .stock-card{
          max-width: 300px;
          max-height: 500px;
          min-width: 300px;
        }
        .group-card{
          max-width: 300px;
          max-height: 500px;
        }
        .group-card-img{
          height:160px;
            object-fit:cover;
        }
    .tag-overflow {

        overflow-x: scroll;
        -webkit-overflow-scrolling: touch;
      }
      .tag-overflow::-webkit-scrollbar {
        display: none;
      }
    /*  https://stackoverflow.com/questions/12991351/css-force-image-resize-and-keep-aspect-ratio */
      .feed-img {
  display: block;
  max-width:230px;
  max-height:95px;
  width: auto;
  height: auto;
  object-fit:cover;
}

/* .ui.button {
  background-color: rgb(233, 236, 239);
} */
.button-overflow{
  overflow: visible;
}

    </style>

<style>
  /* for the status symol */
  /* https://codepen.io/letsandeepio/pen/oOexoP */
  .circle {
  margin-left: 0px;
  width:0.8rem;
  height: 0.8rem;
  background-color: red;
  border-radius: 50%;
 animation: crescendo 1s alternate infinite ease-in;
}

@keyframes crescendo {
  0%   {
    transform: scale(.8);
    opacity: 0.8;
  }
  100% {
    transform: scale(1.1);
    opacity: 1;
  }
}

/* for the status symol */

  .post-body {
    max-width: 100%;
  }

  .post-words {
  word-wrap: break-word;
  }
  .group-img {
    max-height: 100%;
    height: auto;
    width: 110px; /* ie8 */
}

  .cancela,.cancela:link,.cancela:visited,.cancela:hover,.cancela:focus,.cancela:active{
    color: inherit;
    text-decoration: none;
}


.autocomplete {
  position: relative;
  display: inline-block;
}

.autocomplete-items {
  position: absolute;
  border: 1px solid #d4d4d4;
  border-bottom: none;
  border-top: none;
  z-index: 99;
  /*position the autocomplete items to be the same width as the container:*/
  top: 100%;
  left: 0;
  right: 0;
}

.autocomplete-items div {
  padding: 10px;
  cursor: pointer;
  background-color: #fff;
  border-bottom: 1px solid #d4d4d4;
}

/*when hovering an item:*/
.autocomplete-items div:hover {
  background-color: #e9e9e9;
}

/*when navigating through the items using the arrow keys:*/
.autocomplete-active {
  background-color: DodgerBlue !important;
  color: #ffffff;
}
.payment, .payment:hover{
  background-color: #111111 !important;
  color: #fff;
}

textarea.test,textarea.test:focus,textarea.test:active
{
width: 100%;
height: 100%;
border-color: Transparent;
outline:0px !important;
-webkit-appearance:none;
box-shadow: none;
}
/* https://stackoverflow.com/questions/40112618/bootstrap4-adding-scrollbar-to-div?rq=1 */
.anyClass {
  height:150px;
  overflow-y: scroll;
    -webkit-overflow-scrolling: touch;
}
.anyClass::-webkit-scrollbar {
  display: none;
}
/*for stock menue pill I got rid of deep purple and replaced it */

.md-pills .nav-link.active, .md-pills .show>.nav-link {
    background-color: #3ad2a8 !important;
    box-shadow: 0 2px 5px 0 rgba(0,0,0,.16), 0 2px 10px 0 rgba(0,0,0,.12);
    border-radius: .28571429rem;
}

.unchecked-notification{
  background-color: #edf6f4 !important;
}

.btn-outline-info, .btn-outline-info:hover {
    color: #111111!important;
    background-color: transparent!important;
    border: 2px solid #111111!important;
}

.stock-info-metrics{
  height:100px;
  overflow-y: scroll;
    -webkit-overflow-scrolling: touch;
}
.stock-info-metrics::-webkit-scrollbar {
  display: none;
}
.notification_modal {
  height:350px;
  overflow-y: scroll;
    -webkit-overflow-scrolling: touch;
}
.notification_modal::-webkit-scrollbar {
  display: none;
}

.group_files_container {
  max-height:500px;
  overflow-y: scroll;
    -webkit-overflow-scrolling: touch;
}
.group_files_container::-webkit-scrollbar {
  display: none;
}

.group_stocks_container {
  max-height:500px;
  overflow-y: scroll;
    -webkit-overflow-scrolling: touch;
}
.group_stocks_container::-webkit-scrollbar {
  display: none;
}

.alert_message {
    position: fixed;

}
/*https://stackoverflow.com/questions/2571573/css-footer-position-stick-to-bottom-of-browser */
.podbar {
    bottom:0;
    position:fixed;
    z-index:150;
    _position:absolute;
    _top:expression(eval(document.documentElement.scrollTop+
        (document.documentElement.clientHeight-this.offsetHeight)));
    height:50px;
}
/*https://stackoverflow.com/questions/12035400/how-can-i-remove-the-no-file-chosen-tooltip-from-a-file-input-in-chrome */
input[type='file'] {
  /* opacity:0 */
}
/*https://tympanus.net/codrops/2015/09/15/styling-customizing-file-inputs-smart-way/ */
.inputfile {
	width: 0.1px;
	height: 0.1px;
	opacity: 0;
	overflow: hidden;
	position: absolute;
	z-index: -1;
}

strong {
font-weight: bold !important;
}
  /*http://jsfiddle.net/yHNEv/ */
.img-wrap {
    position: relative;
    font-size: 0;
}
.img-wrap .close {
    position: absolute;
    top: 2px;
    right: 2px;
    z-index: 100;
    background-color: #FFF;
    padding: 5px 2px 2px;
    color: #000;
    font-weight: bold;
    cursor: pointer;
    opacity: .2;
    text-align: center;
    font-size: 22px;
    line-height: 10px;
    border-radius: 50%;
    opacity: 1;
}
.img-wrap:hover .close {

}
.button-boder-radius{
  border-radius: .28571429rem;
}


.notification.icon {
  position: absolute;

}
.notification.icon .notification-number {
  position: absolute;
  right: -5px;
  top: 0px;
  z-index: 1;
  background: #cc2311;
  border: 3px solid #FFF;
  border-radius: 50%;
  padding-top: 5px;
  height: 20px;
  width: 20px;
  font-family: sans-serif;
  text-align: center;
  font-size: 10px;
  font-weight: 200;
  line-height: 10px;
  color: #FFF;
  -webkit-animation: bounce 1s infinite;
}

@-webkit-keyframes bounce {
  0%, 100%, 20%, 53%, 80% {
    -webkit-transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    transition-timing-function: cubic-bezier(0.215, 0.61, 0.355, 1);
    -webkit-transform: translate3d(0, 0, 0);
    -ms-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
  }
  40%, 43% {
    -webkit-transition-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    transition-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    -webkit-transform: translate3d(0, -30px, 0);
    -ms-transform: translate3d(0, -30px, 0);
    transform: translate3d(0, -30px, 0);
  }
  70% {
    -webkit-transition-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    transition-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    -webkit-transform: translate3d(0, -15px, 0);
    -ms-transform: translate3d(0, -15px, 0);
    transform: translate3d(0, -15px, 0);
  }
  90% {
    -webkit-transform: translate3d(0, -4px, 0);
    -ms-transform: translate3d(0, -4px, 0);
    transform: translate3d(0, -4px, 0);
  }
}

.modal-dialog.modal-notify.modal-info .fas {
    color: #3ad2a8!important;
}
.modal-dialog.modal-notify.modal-info .modal-header {
    background-color:  #3ad2a8!important;
}
.straight-line-text{
  white-space:nowrap;

}
.card-header, .black-skin .form-header {
    background-color: #3ad2a8!important;
}

.nav-pills .nav-link.active, .nav-pills .show>.nav-link {
    color: #ffffff!important;
    background-color: #3ad2a8!important;
}
.nav-item-theme, .nav-item-theme:hover  {
    color: #222222;
    text-decoration: none;
}
.payment-list{
    width: 100%;
    min-height: 250px;
    background: #edf3f7;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}
.payment-list h1 {
    color: #525f7f;
    font-size: 24px;
    font-weight: 400;
    text-align: center;
    margin-top: 10px;
    margin-bottom: 10px;
}
 .payment-list h2 {
    color: #8898aa;
    font-size: 13px;
    font-weight: 500;
    text-align: center;
}
</style>

<!-- turn of other blue outline elements of bootstrap4
https://stackoverflow.com/questions/8622686/how-come-i-cant-remove-the-blue-textarea-border-in-twitter-bootstrap-->
<!-- textarea:hover,
input:hover,
textarea:active,
input:active,
textarea:focus,
input:focus,
button:focus,
button:active,
button:hover,
label:focus,
.btn:active,
.btn.active -->
<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->

<!-- <script src="https://cdn.rawgit.com/mervick/emojionearea/master/dist/emojionearea.min.js"></script>
<script src="https://cdn.rawgit.com/ichord/At.js/801c87dc/dist/js/jquery.atwho.min.js"></script>
<script src="https://cdn.rawgit.com/ichord/Caret.js/master/dist/jquery.caret.min.js"></script>
<link href="https://cdn.rawgit.com/ichord/At.js/801c87dc/dist/css/jquery.atwho.css" rel="stylesheet"> -->

<script  src="{% static 'js/emojionearea.min.js' %}"></script>
<script src="{% static 'js/jquery.atwho.min.js' %}"></script>
<script src="{% static 'js/jquery.caret.min.js' %}"></script>
<link href="{% static 'css/jquery.atwho.css' %}" rel="stylesheet">
    <!-- Page Content -->
    {% load static %}
    <script src="{% static 'js/waypoints-master/lib/jquery.waypoints.min.js' %}"></script>
    <script src="{% static 'js/waypoints-master/lib/shortcuts/infinite.js' %}"></script>


<div class="container">
  <!-- Jumbotron -->
  <div class="podbar">
    <div  id="alert_footer"class=" ">
    </div>
    </div>
        <div class="row wow fadeIn pt-5">
            <!-- Blog Entries Column -->
            <div class="col-md-9 pb-4">
              <div class="jumbotron p-0 mb-2">
                <!-- Card image -->
                <div id="jumbotron_iframe_container" class="d-flex justify-content-center view overlay rounded-top">
                  <!-- display iframe if there is a meeting in progross  -->
                  {%if object.zoom_active_meeting%}
                        {% if current_user == object.creator %}
                        <!-- show group img for main user  -->
                        <iframe id="display_zoom_iframe" class="" src="{{zoom_iframe_url}}" width="100%" height="300px" allowfullscreen="" frameborder="0"></iframe>
                        {%else%}
                        <iframe id="display_zoom_iframe" class="" src="{{zoom_iframe_url}}" width="100%" height="300px" allowfullscreen="" frameborder="0"></iframe>
                        {%endif%}
                  {%else%}
                  <div id="jumbotron_group_picture" class="">
                    <img src="{{object.group_picture.url}}" class="img-fluid group-cover-img pt-2" alt="Sample image" width="100%" height="300px">
                    <a href="#">
                      <div class="mask rgba-white-slight"></div>
                    </a>
                  </div>
                  {%endif%}
                </div>
                <!-- Card content -->
                <div class="card-body bg-white text-dark ">
                  <!-- Title -->
                  {% if object.zoom_active_meeting%}
                    {% if current_user != object.creator %}
                    <div id="active_zoom_meeting_info" class="text-center">
                      <p>Active Zoom Meeting:</p>
                      <div>If the zoom meeting is not displaying on your screen:<a href="{{object.zoom_join_url}}">Join Confrence Here </a></div>
                    </div>

                    {%else%}
                    <div  id="active_zoom_meeting_info" class="text-center">
                      <p>Active Zoom Meeting:</p>
                      <div>If a zoom page did not appear:<a href="{{object.zoom_start_url}}">Start Your Confrence Here </a></div>
                    </div>
                    {%endif%}
                  {%endif%}

                  {% if object.zoom_active_meeting%}

                  <div id="end_zoom_meeting_button" class="text-center">
                    <a  class="btn btn-primary btn-sm btn-rounded mb-1 " onclick="zoom_creator_close_meeting()">End Zoom Meeting</a>
                  </div>

                  {%endif%}
                  <h3 id="group_title" class="card-title h3 my-2 text-center"><strong>{{object.title|title}}</strong></h3>
                  <!-- Text -->
                  <hr>
                  <div class="container">
                    {% if current_user == object.creator %}
                            {% if group_admin_zoom_account_linked == "true" %}
                            <div class="text-center">
                              <a onclick="zoom_create_meeting()" target="_blank" rel="noopener noreferrer"><img class="px-2 pb-1" width="32" height="32" src="{% static 'play-button.svg' %}" />Start Instant Zoom Meeting</a>
                              <div style="display:none">Icons made by <a href="https://www.flaticon.com/authors/those-icons" title="Those Icons">Those Icons</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
                            </div>

                            <div class="text-center">
                              <a  class="btn btn-default btn-sm btn-rounded  mb-3" data-toggle="modal" data-target="#modalLoginForm">Add Existing Zoom Meeting Here</a>
                            </div>


                            {%else%}
                            <a id="autherize_zoom_button" href="https://zoom.us/oauth/authorize?client_id=i1lnKwB8TLKipg_Mn5HLnQ&response_type=code&redirect_uri=https%3A%2F%2Ffdc6e0d6.ngrok.io%2Fzoom%2F" target="_blank" rel="noopener noreferrer"><img src="https://marketplacecontent.zoom.us/zoom_marketplace/img/add_to_zoom.png" height="32" alt="Add to ZOOM" /></a>
                            {%endif%}
                    {%endif%}
                  <div class="d-flex justify-content-start">
                    <span>
                      <!-- <button class=" ">Joined</button> -->
                      {% if current_user == object.creator %}

                      {%else%}
                      <div class="dropdown">
    <button class="ui tiny button " type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Joined
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <a class="dropdown-item"  data-toggle="modal" data-target="#Leave_Group_Modal">Leave Group</a>

    </div>
  </div>
    {%endif%}
                    </span>
                    <span>
                      <button id="Guidelines"class="ui tiny button " data-toggle="modal" data-target="#centralModalSm" >Guidelines</button>
                    </span>

                  </div>
                    </div>
                    <!-- add zoom url modal  -->
                    <!-- add existing meeting modal  -->
                    <div class="modal fade" id="modalLoginForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                      aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                          <div class="modal-header text-center">
                            <h4 class="modal-title w-100 font-weight-bold">Meeting link</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body mx-3">
                            <button id="zoom_add_existing_meeting_close_modal"  type="button" class="close" data-dismiss="modal" aria-label="Close">
                              </button>
                            <form class="text-center p-2"  method="post">
                            <div >
                              <input  type="url" id="zoom_meeting_url" class="form-control mb-4" placeholder="meeting url">
                            </div>
                              </form>
                              <div class=" d-flex justify-content-center">
                                <button onclick="zoom_add_existing_meeting()" class="btn btn-default">Login</button>
                              </div>
                          </div>

                        </div>
                      </div>
                    </div>

                    <!--Modal for leaving group  -->
                    <div class="modal fade" id="Leave_Group_Modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <button id="Leave_Group_Modal_button"  type="button" class="close" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                                  <div class="text-center">
                                    <h3>Are you sure you want to leave this group?</h3>
                                    <p>You will lose all these premium features and will be downgraded to free account at the end of the current billing cycle.</p>
                                    <button onclick="close_Leave_Group_Modal()" class=" btn btn-primary btn-sm button-boder-radius button-overflow waves-effect waves-light ml-3  hoverable">Never Mind</button>
                                    <button onclick="leave_group_confirm()" class=" btn btn-danger btn-sm button-boder-radius button-overflow waves-effect waves-light ml-3  hoverable">Leave Group</button>
                                  </div>
                                  <form id="leave_group_form" class="" action="{% url 'core:group' slug=object.slug %}" method="post">
                                        {%csrf_token%}
                                        <input type="hidden" id="leave_group_input" name="user_leave_group" value="">
                                    </form>
                          </div>

                        </div>
                      </div>
                    </div>
                    <!--Modal for leaving group  -->
<!-- modal letting user know that they have been kicked from the group  -->
<button style="display:none" id="aknowledge_kicked_from_group_button" data-toggle="modal" data-target="#kicked_from_group"></button>
                    <div class="modal fade" id="kicked_from_group" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                      <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                          </div>
                          <div class="modal-body">
                                  <div class="text-center">
                                    <h3>Unfortunatley you have been kicked from the group</h3>
                                    <button onclick="redirect_user_after_kicked()" class=" btn btn-primary btn-sm button-boder-radius button-overflow waves-effect waves-light ml-3  hoverable">OK</button>
                                  </div>
                          </div>

                        </div>
                      </div>
                    </div>
                    <!-- Guidelines modal  -->
                          <div class="modal fade" id="centralModalSm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                            aria-hidden="true">
                            <!-- Change class .modal-sm to change the size of the modal -->
                            <div class="modal-dialog modal-lg" role="document">
                              <div class="modal-content">
                                <div class="modal-header">
                                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                  </button>
                                </div>
                                <div class="modal-body">
                                  <div class="text-center mb-2">
                                    <h3>Group Guidelines</h3>
                                  </div>
                                  <div class="row">
                                    <div class="col-6">
                                      {%if display_metrics == "true" %}
                                      <h4 class="text-center"><strong>Group Metrics</strong></h4>
                                      <h4><strong>{{object.posts_today}}</strong></h4>
                                      <p>New posts today</p>
                                      <p><strong>{{object.posts_last_thirty_days}}</strong> in the last <strong>30</strong> days</p>
                                      <hr>
                                      <h4><strong>{{object.group_activeness}}%</strong></h4>
                                        <p>Avg percentage of time in a day members spend in group</p>
                                      <hr>
                                      <h4><strong>{{object.avg_members_online}}</strong></h4>
                                        <p>Avg num Members online</p>
                                      <hr>
                                      <h4><strong>{{object.avg_member_joining_a_week}}</strong></h4>
                                        <p>Members joined this week </p>
                                      <hr>
                                      <h5><strong>Admin and Moderators:</strong></h5>
                                      <div class="d-flex justify-content-start">
                                        {% for member in object.groupmember_set.all %}
                                          {% if member.member_status == "d" or member.member_status == "a" %}
                                            {% if member.userprofile.profile_pic %}
                                              <img class="ui mini avatar image mr-1 profile-img-constraint" src="{{member.userprofile.profile_pic.url}}"><span></span>
                                            {%else%}
                                              <img class="ui mini avatar image profile-img-constraint" src="{% static "img/default-profile-picture-gmail-2.png" %}"><span></span>
                                            {%endif%}
                                          {%endif%}
                                        {% endfor %}
                                      </div>
                                      <div class="d-flex justify-content-start">
                                        {% for member in object.groupmember_set.all %}
                                            {% if member.member_status == "d" or member.member_status == "a" %}
                                              <p class="ml-1">{{member.userprofile.user.username}}</p>
                                            {%endif%}
                                        {% endfor %}
                                      </div>
                                      {%endif%}
                                    </div>
                                    <div class="col-6 ">
                                      <h4 class="text-center"><strong>Rules/Guidelines</strong></h4>
                                      {{object.rules_guidlines|safe}}
                                    </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                </div>
                              </div>
                            </div>
                          </div>
                </div>
              </div>

                <ul class="mt-2 nav nav-pills mb-3 d-flex justify-content-around" id="pills-tab" role="tablist">
                    <li class="nav-item">
                      <div id="notification_alert_container" style="display:none"  class="notification icon">
                        <div id="notification_alert_count" class="notification-number">0</div>
                      </div>
                        <a class="nav-link nav-item-theme" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true" onclick="remove_group_alert_icon()">Alerts
                        </a>
                    </li>
                    <li class="nav-item ">
                      <div id="board_alert_container" style="display:none"  class="notification icon">
                        <div id="board_alert_count" class="notification-number">0</div>
                      </div>
                      <a class="nav-link text-center nav-item-theme" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false" onclick="remove_group_board_icon()">Board</a>
                    </li>
                    <li style="display:none" class="nav-item ">
                      <a class="nav-link text-center nav-item-theme" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab" aria-controls="pills-contact" aria-selected="false">Stocks</a>
                    </li>
                    <li  class="nav-item ">
                      <a class="nav-link nav-item-theme" id="pills-files-tab" data-toggle="pill" href="#pills-feed" role="tab" aria-controls="pills-contact" aria-selected="false">Files</a>
                    </li>
                </ul>
          <div class="tab-content px-0 py-0" id="pills-tabContent">
                  <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                    <!--/////////////////////////// Alert -->
                    <hr>
                    <div class="">
                      <div class="d-flex justify-content-center"><h2>Alerts</h2></div>
                    </div>
                    <hr>
                    {%if admin %}
                    <button class="fluid ui button"data-toggle="modal" data-target="#modalPush">Create Alert</button>
                    {%endif%}

                    <div class="group_files_container" id="alert_container_group">
                    {%for object in alert_list%}
                    <div id="Post{{object.pk}}"class="loaded-post ">
                    <div class="mb-1 media list-group-item-action rounded border border-light my-1 container-fluid for-loop-id-post"  id="headingOnePost{{object.pk}}">
                              <div class="ml-0 col-12 px-0">
                                    <div class="media-body my-3 mx-0 ">
                                                <div class="d-flex justify-content-between mb-2">
                                                  <span>
                                                        <div class="d-flex justify-content-start">
                                                              <span>
                                                                <div class="">
                                                                <a href="{{object.get_absolute_url}}" class="cancela">
                                                                      {%load static%}
                                                                  {%if object.author.profile_pic%}
                                                                <img class="ui fluid avatar image  mr-0" src="{{object.author.profile_pic.url}}" >
                                                                {%else%}
                                                                  <img class="ui fluid avatar image  mr-0"  src=" {% static "img/default-profile-picture-gmail-2.png" %}" >
                                                                {%endif%}
                                                                </a>
                                                                </div>
                                                            </span>
                                                        <span>
                                                          <div class="d-flex justify-content-start ml-1">
                                                                  <span>  <p>@{{object.author.user|safe}}</p></span>
                                                                  {% if object.post_comment.all%}
                                                                <span>  <a class="cancela post_dropdown_icon{{object.pk}}" data-toggle="collapse" data-target="#collapseOne{{object.pk}}" aria-expanded="false" aria-controls="collapseOne{{object.pk}}">
                                                                    <i class="angle down icon"></i>
                                                                  </a>
                                                                </span>
                                                                {%else%}
                                                                <span>  <a  style ="display:none" class="cancela post_dropdown_icon{{object.pk}}" data-toggle="collapse" data-target="#collapseOne{{object.pk}}" aria-expanded="false" aria-controls="collapseOne{{object.pk}}">
                                                                    <i class="angle down icon"></i>
                                                                  </a>
                                                                </span>
                                                                  {%endif%}
                                                                </div>
                                                        </span>
                                                      </div>
                                                </span>
                                                <span class="text-right text-muted"><div class="d-flex justify-content-end"><p>{{object.published|timesince|upto:','}}</p>  <p>  - </p>  <i id="grouppost{{object.pk}}"class="eye icon"></i> </div>   </span>
                                                </div>

                                            <a  class="cancela">
                                              {%if object.title%}
                                                  <h5 class="mt-0">{{object.title|title|safe}}</h5>
                                              {%endif%}
                                                  <div class="my-1 post-words text-left container" id="container"> <p>{{object.description|safe}}</p></div>
                                              </a>
                                                      <div class="post_pictures col-12">
                                                    <div class="d-flex justify-content-center">
                                                      {%for pic in object.postpicture_set.all%}
                                                        {% if forloop.counter < 3 %}
                                                      <img  id="post_pic_{{pic.pk}}" class="ui small rounded image my-2 mx-1  hoverable feed-img" data-toggle="modal" data-target="#picture_modal_screen" src="{{pic.post_picture.url}}" alt="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)">
                                                      {%endif%}
                                                      {%endfor%}
                                                        </div>
                                                    <div class="d-flex justify-content-center">
                                                      {%for pic in object.postpicture_set.all%}
                                                      {% if forloop.counter > 2 %}
                                                      <img id="post_pic_{{pic.pk}}" class="ui small rounded image my-2 mx-1 hoverable feed-img" data-toggle="modal" data-target="#picture_modal_screen" src="{{pic.post_picture.url}}" alt="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)">
                                                      {%endif%}
                                                      {%endfor%}
                                                    </div>
                                                  </div>
                                                    <a href="{{object.get_absolute_url}}" class="cancela"></a>
                                            <div class="d-flex justify-content-start tag-overflow">

                                            </div>
                                                <div class="d-flex justify-content-between mt-2">
                                                    <span><i style="display:none"  class="thumbs up outline icon" id="post_like_{{object.pk}}" onclick="post_comment_reply_action(this.id)">{{object.likes}}</i> </span>
                                                    <span><i style="display:none" name="{{object.title|title|safe}}" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo" id="{{object.pk|safe}}" post_display="headingOnePost{{object.pk}}" onClick="reply_click(this)" class="comment outline icon post_comment_button_num">{{object.comment_count|safe}}</i></span>
                                                    {%if object.repost %}
                                                    <span><i style="display:none" data-toggle="modal" data-target="#exampleModal2" class="retweet icon" post_display="repost{{object.repost.pk}}" postid="{{object.repost.pk}}"  onClick="reply_click_repost(this)">{{object.repost_count}}</i></span>
                                                    {%else%}
                                                    <span><i style="display:none" data-toggle="modal" data-target="#exampleModal2" class="retweet icon" post_display="headingOnePost{{object.pk}}" postid="{{object.pk}}" onClick="reply_click_repost(this)">{{object.repost_count}}</i></span>
                                                    {%endif%}
                                                    <span>
                                                      <div class="dropdown">
                                    <a class="cancela"  id="dropdownpost" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="ellipsis vertical icon"></i>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownpost">
                                      <a class="dropdown-item" id="post_archive_{{object.pk}}"  onclick="post_comment_reply_action(this.id)"><i class="archive icon"></i>Archive</a>
                                      <a class="dropdown-item" id="post_report_{{object.pk}}"  onclick="post_comment_reply_action(this.id)" ><i class="ban icon"></i>Report</a>
                                      {%if  current_user == object.author or admin or moderator %}
                                      <a class="dropdown-item" id="post_delete_{{object.pk}}" onclick="post_comment_reply_action(this.id)"><i class="trash alternate icon"></i> Delete</a>
                                      {%endif%}
                                    </div>
                                  </div>
                                                    </span>
                                                </div>
                                          </div>
                                  </div>
                       </div>
                    </div>
                    {%empty%}
                    <div id="empty_alert_list" class="payment-list mt-3">
                      <h1>No Alerts Yet!</h1>
                      {% if group_creator%}
                        <h2>Post an alert here </h2>
                      {% else %}
                    <h2>We'll keep you posted</h2>
                      {%endif%}
                    </div>
                       {%endfor%}
                  </div>


                    <!--Modal: modalPush-->
<div class="modal fade" id="modalPush" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-notify modal-info" role="document">
    <!--Content-->
    <div class="modal-content text-center">
      <!--Header-->
      <div class="modal-header d-flex justify-content-center">
        <p class="heading">Group Alert</p>
      </div>

      <!--Body-->
      <div class="modal-body">
        <button id="modal_alert_button" type="button"  class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <i class="fas fa-bell fa-4x animated rotateIn mb-4"> </i>
      </div>

      <form id="alert_form" action="{% url 'core:group' slug=object.slug %}" autocomplete="off" method="POST" >
          {% csrf_token %}
        <div class="form-group">
            <!-- users -->
          <!-- Post id -->
              <input name="group_alert" value="{{object.title}}"  type="hidden" />
            <!-- message -->
            <textarea name="group_alert" class="form-control test" id="alert2" placeholder="Alert goes here"></textarea>

          <button class="btn btn-primary btn-sm button-boder-radius my-0 search-bar p waves-effect waves-light mt-4 hoverable" type="submit">
                <span class="text-center"><i class="large telegram plane icon"></i>Send Alert</span></button>
        </div>
      </form>
    </div>
    <!--/.Content-->
  </div>
</div>
                  </div>
  <!--/////////////////////////// end post section -->
<!--/////////////////////////////////////////////////////Boards -->
            <div class="tab-pane fade mt-0" id="pills-profile" rolse="tabpanel" aria-labelledby="pills-profile-tab">
              <hr class="mt-2">
              <form id="data" class=""  action="{% url 'core:group' slug=object.slug %}" method="POST" enctype="multipart/form-data">
                {% csrf_token %}
              <div class="input-group ">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="inputGroup-sizing-lg">Post</span>
                </div>
                <!-- I remeved the id name because there were conflicting id's -->
                <input name="message" value="{{object.title}}"  type="hidden" />
                <textarea spellcheck="false" id="post_text_area" name="message" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-lg"></textarea>
              </div>
              <div class="d-flex justify-content-start">
                      <i id='button' class="file image large icon my-2"></i>
                  <input name="post_img" id="post_photo_upload_button_1" type="file" class="inputfile" accept="image/x-png,image/gif,image/jpeg">
                  <input name="post_img" id="post_photo_upload_button_2" type="file"class="inputfile" accept="image/x-png,image/gif,image/jpeg">
                  <input name="post_img" id="post_photo_upload_button_3" type="file" class="inputfile" accept="image/x-png,image/gif,image/jpeg">
                  <input name="post_img" id="post_photo_upload_button_4" type="file" class="inputfile" accept="image/x-png,image/gif,image/jpeg">
              </div>
              <div class="file-field">
                <!-- https://www.w3schools.com/tags/att_input_accept.asp -->
    <div class="d-flex justify-content-center">
      <div class="img-wrap">
        <span style ="display:none" id="post_image_field_1_close"  onclick="delete_uploaded_img(post_image_field_1)" class="close">&times;</span>
        <img  style ="display:none" id="post_image_field_1" class="ui small image my-2 mx-2 hoverable rounded" src="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)"
           alt="example placeholder avatar">
      </div>
      <div class="img-wrap">
        <span style ="display:none" id="post_image_field_2_close" onclick="delete_uploaded_img(post_image_field_2)" class="close">&times;</span>
        <img  style ="display:none" id="post_image_field_2" class="ui small image my-2 mx-2 hoverable rounded" src="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)"
         alt="example placeholder avatar">
      </div>
    </div>
    <div class="d-flex justify-content-center">
      <div class="img-wrap">
        <span style ="display:none" id="post_image_field_3_close" onclick="delete_uploaded_img(post_image_field_3)" class="close">&times;</span>
        <img  style ="display:none" id="post_image_field_3" class="ui small image my-2 mx-2 hoverable rounded" src="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)"
           alt="example placeholder avatar">
      </div>
      <div class="img-wrap">
        <span style ="display:none" id="post_image_field_4_close" onclick="delete_uploaded_img(post_image_field_4)" class="close">&times;</span>
        <img  style ="display:none" id="post_image_field_4" class="ui small image my-2 mx-2 hoverable rounded" src="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)"
           alt="example placeholder avatar">
      </div>
    </div>
  </div>
              <button class="btn btn-primary btn-sm my-0 search-bar p waves-effect waves-light mt-4" type="submit">
                    <span class="text-center"><i class="large telegram plane icon"></i>Send</span></button>
              </form>
              <!-- insert tool tip about gif and photo -->
              <hr>
<!-- infinite scroll -->
<!-- https://simpleisbetterthancomplex.com/tutorial/2017/03/13/how-to-create-infinite-scroll-with-django.html -->
              <div id="accordion" class="infinite-container">

              {%for object in post_list%}

<div class="infinite-item">
<div id="Post{{object.pk}}"class="loaded-post">
<!-- 2 id -->
<div class="mb-1 media list-group-item-action rounded border border-light my-1 container-fluid for-loop-id-post"  id="headingOnePost{{object.pk}}">
<div class="ml-0 col-12 px-0">
<div class="media-body my-3 mx-0">
<div class="d-flex justify-content-between mb-2">
<span>
<div class="d-flex justify-content-start">
<span>

<div class="">
<a href="{{object.get_absolute_url}}" class="cancela">
{%load static%}
{%if object.author.profile_pic%}
<img class="ui fluid avatar image  mr-0" src="{{object.author.profile_pic.url}}" >
{%else%}
<img class="ui fluid avatar image  mr-0"  src=" {% static "img/default-profile-picture-gmail-2.png" %}" >
{%endif%}
</a>
</div>

</span>
<span>
<div class="d-flex justify-content-start ml-1">

<span>  <p>@{{object.author.user|safe}}</p></span>

{% if object.post_comment.all%}
<span>  <a class="cancela post_dropdown_icon{{object.pk}}" data-toggle="collapse" data-target="#collapseOne{{object.pk}}" aria-expanded="false" aria-controls="collapseOne{{object.pk}}">
<i class="angle down icon"></i>
</a>
</span>
{%else%}
<span>  <a  style ="display:none" class="cancela post_dropdown_icon{{object.pk}}" data-toggle="collapse" data-target="#collapseOne{{object.pk}}" aria-expanded="false" aria-controls="collapseOne{{object.pk}}">
<i class="angle down icon"></i>
</a>
</span>
{%endif%}

</div>
</span>

</div>
</span>

<span class="text-right text-muted"><div class="d-flex justify-content-end"><p>{{object.published|timesince|upto:','}}</p>  <p>  - </p>  <i id="grouppost{{object.pk}}"class="eye icon"></i> </div>   </span>
</div>


<a  class="cancela">
{%if object.title%}
<h5 class="mt-0">{{object.title|title|safe}}</h5>
{%endif%}
<div class="my-1 post-words text-left container" id="container"> <p>{{object.description|safe}}</p></div>
</a>

{%if object.posturl_set.all%}
<div class="d-flex flex-column">
{%for link in object.posturl_set.all%}
<a class=" p-2" href="{{link.url.url}}">{{link.url.url|truncatechars:25}}</a>
{%endfor%}
</div>
{%endif%}

<div class="post_pictures col-12">
<div class="d-flex justify-content-center">
{%for pic in object.postpicture_set.all%}
{% if forloop.counter < 3 %}
<img  id="post_pic_{{pic.pk}}" class="ui small rounded image my-2 mx-1  hoverable feed-img" data-toggle="modal" data-target="#picture_modal_screen" src="{{pic.post_picture.url}}" alt="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)">
{%endif%}
{%endfor%}
</div>
<div class="d-flex justify-content-center">
{%for pic in object.postpicture_set.all%}
{% if forloop.counter > 2 %}
<img id="post_pic_{{pic.pk}}" class="ui small rounded image my-2 mx-1 hoverable feed-img" data-toggle="modal" data-target="#picture_modal_screen" src="{{pic.post_picture.url}}" alt="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)">
{%endif%}
{%endfor%}
</div>
</div>

<a href="{{object.get_absolute_url}}" class="cancela"></a>
{%if object.repost %}
<div class="">
<div class="">
<div class="mb-1 media list-group-item-action rounded border border-light my-3 offset-1 col-11  "  id="repost{{object.repost.pk}}">
<div class="my-3 media-body ">
<div class="d-flex bd-highlight mb-2">
<div class="p-2 w-100 bd-highlight">
<span>
<div class="d-flex justify-content-start">
<span>
<div class="">
{%load static%}
{%if object.repost.author.profile_pic%}
<a href="{{object.repost.get_absolute_url}}" class="cancela">
<img class="ui fluid avatar image  mr-0" src="{{object.repost.author.profile_pic.url}}">
</a>
{%else%}
<a href="{{object.repost.get_absolute_url}}" class="cancela">
<img class="ui fluid avatar image  mr-0" src=" {% static "img/default-profile-picture-gmail-2.png" %}">
</a>
{%endif%}
</div>
</span>
<span>
<p>@{{object.repost.author.user|safe}}</p>
</span>
</div>
</span>
</div>
<div class="p-2 flex-shrink-1 bd-highlig">
<span class="text-right text-muted"><div class="d-flex justify-content-end"><p>{{object.repost.published|timesince|upto:','}}</p>  <p>-</p>  <i class="eye icon"></i> </div>   </span>
</div>
</div>

<a href="{{object.repost.get_absolute_url}}" class="cancela">
{% if object.repost.title%}
<h5 class="mt-0">{{object.repost.title|title|safe}}</h5>
{%endif%}
<div class="my-1 post-words text-left container" id="container"><p>{{object.repost.description|safe}}</p></div>
</a>
<div class="d-flex justify-content-center">
{%for pic in object.repost.postpicture_set.all%}
{% if forloop.counter < 3 %}
<img  id="post_pic_{{pic.pk}}_repost" class="ui tiny rounded image my-2 mx-1  hoverable feed-img " data-toggle="modal" data-target="#picture_modal_screen" src="{{pic.post_picture.url}}" alt="" onclick="blow_up_image(this)">
{%endif%}
{%endfor%}
</div>
<div class="d-flex justify-content-center">
{%for pic in object.repost.postpicture_set.all%}
{% if forloop.counter > 2 %}
<img id="post_pic_{{pic.pk}}_repost" class="ui tiny rounded image my-2 mx-1 hoverable feed-img " data-toggle="modal" data-target="#picture_modal_screen" src="{{pic.post_picture.url}}" alt="" onclick="blow_up_image(this)">
{%endif%}
{%endfor%}
</div>
</div>
</div>
</div>
</div>
{%endif%}
<div class="d-flex justify-content-start tag-overflow">
{%for user in object.recipients.all%}
<a href="#" class="my-1 user-tag cancela">
<div class="ui small label mr-2 my-1">
<div class="media-body">
<p>{{user.user|safe}}</p>
</div>
</div>
</a>
{%endfor%}
</div>
<div class="d-flex justify-content-between mt-2">
<!-- websocket for functionality -->
<div id="post_like_container_{{object.pk}}" class="d-flex justify-content-start">
<span><i class="thumbs up outline icon" id="post_like_{{object.pk}}" post_id="Post{{object.pk}}" onclick="post_comment_reply_action(this.id)">{{object.like_count}}</i></span>
{% if object.like_count != 0 %}
<a id="post_like_statement_{{object.pk}}" onclick="load_user_likes(this)" like="post_{{object.pk}}" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Liked by: <strong>{{object.last_like.userprofile.user.username}}</strong>   </small></a>
{%endif%}
</div>
<span><i name="{{object.title|title|safe}}" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo" id="{{object.pk|safe}}" post_display="headingOnePost{{object.pk}}" onClick="reply_click(this)" class="comment outline icon post_comment_button_num">{{object.check_comment_count}}</i></span>
{%if object.repost %}
<span><i data-toggle="modal" data-target="#exampleModal2" class="retweet icon" post_display="repost{{object.repost.pk}}" postid="{{object.repost.pk}}"  onClick="reply_click_repost(this)"></i>{{object.repost_count}}</span>
{%else%}
<span><i data-toggle="modal" data-target="#exampleModal2" class="retweet icon" post_display="headingOnePost{{object.pk}}" postid="{{object.pk}}" onClick="reply_click_repost(this)"></i>{{object.repost_count}}</span>
{%endif%}
<span>
<div class="dropdown">
<a class="cancela"  id="dropdownpost" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<i class="ellipsis vertical icon"></i>
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownpost">
<a class="dropdown-item" id="post_archive_{{object.pk}}"  onclick="post_comment_reply_action(this.id)"><i class="archive icon"></i>Archive</a>
<a class="dropdown-item" id="post_report_{{object.pk}}"  onclick="post_comment_reply_action(this.id)" ><i class="ban icon"></i>Report</a>
{%if  current_user == object.author or admin or moderator %}
<a class="dropdown-item" id="post_delete_{{object.pk}}" onclick="post_comment_reply_action(this.id)"><i class="trash alternate icon"></i> Delete</a>
{%endif%}
</div>
</div>
</span>
</div>
</div>
</div>
</div>
<!--/////////////////////////// end post section -->
<!--/////////////////////////// begenning of comment -->
<!-- 4 colaplse -->
<div id="collapseOne{{object.pk}}" class="collapse post_comment_reply_container{{object.pk}}" aria-labelledby="headingOnePost{{object.pk}}" data-parent="#accordion">
{%if object.check_comment_count > 1%}
<div id="load_comments{{object.pk}}" class="d-flex justify-content-center">
<a  onclick="load_more_comments(this)" post_id="{{object.pk}}" class=" grey-text"><strong>-Load more Comments-</strong></a>
</div>
{%endif%}
{% for comments in object.post_comment.all|sort_by:'-published'|slice:":1"%}
<div id="Comment{{comments.pk}}">
<div class=" offset-1">
<div id="C{{comments.author.user}}{{comments.pk}}" class="mb-1 media rounded border border-dark list-group-item-action my-1 ">
<div class="ml-0 col-12">
<div class="media-body my-3">
<div class="d-flex justify-content-between mb-2">
<span>
<div class="d-flex justify-content-start">
<span>
<div class="">
<a  class="cancela">
{%load static%}
{%if comments.author.profile_pic%}
<img class="ui fluid avatar image  mr-0" src="{{comments.author.profile_pic.url}}">
{%else%}
<img class="ui fluid avatar image  mr-0 " src=" {% static "img/default-profile-picture-gmail-2.png" %}">
{%endif%}
</a>
</div>
</span>
<span>
<div class="d-flex justify-content-start ml-1">
<span>  <p>@{{comments.author.user|safe}}</p></span>
</div>
</span>
</div>
</span>
<span class="text-right text-muted"> <div class="d-flex justify-content-end"><p>{{comments.published|timesince|upto:','}}</p>  <p>  - </p>  <i class="eye icon"></i> </div> </span>
</div>

<p class="my-1">{{comments.contents|safe|truncatechars:70}}</p>
<div class="d-flex justify-content-center">
{%for pic in comments.commentspicture_set.all%}
{% if forloop.counter < 3 %}
<img  id="comment_pic_{{pic.pk}}" class="ui tiny rounded image my-2 mx-1  hoverable feed-img " data-toggle="modal" data-target="#picture_modal_screen" src="{{pic.comments_picture.url}}" alt="" onclick="blow_up_image(this)">
{%endif%}
{%endfor%}
</div>
<div class="d-flex justify-content-center">
{%for pic in comments.commentspicture_set.all%}
{% if forloop.counter > 2 %}
<img id="comment_pic_{{pic.pk}}" class="ui tiny rounded image my-2 mx-1 hoverable feed-img " data-toggle="modal" data-target="#picture_modal_screen" src="{{pic.comments_picture.url}}" alt="" onclick="blow_up_image(this)">
{%endif%}
{%endfor%}
</div>
<div class="d-flex justify-content-start tag-overflow">
{%for user in comments.recipients.all%}
<a href="#" class="my-1 user-tag cancela">
<div class="ui small label mr-2 my-1">
<div class="media-body">
<p>{{user.user|safe}}</p>
</div>
</div>
</a>
{%endfor%}
</div>
<div class="d-flex justify-content-between">
<div id="comment_like_container_{{comments.pk}}" class="d-flex justify-content-start">
<span>  <i class="thumbs up outline icon" id="comment_like_{{comments.pk}}" onclick="post_comment_reply_action(this.id)">{{comments.comment_like_count}}</i> </span>
{% if comments.comment_like_count != 0 %}
<a id="comment_like_statement_{{comments.pk}}" onclick="load_user_likes(this)" like="comment_{{comments.pk}}" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Liked by: <strong>{{comments.comment_last_like.userprofile.user.username}}</strong>   </small></a>
{%endif%}
</div>
<span> <i name="{{comments.contents|safe|truncatechars:70}}" users="@{{comments.author.user|safe}} {%for user in comments.recipients.all%}@{{user.user|safe}} {%endfor%}" postid="{{object.pk}}"data-toggle="modal" data-target="#replyModal" data-whatever="@mdo" id="{{comments.pk|safe}}" onClick="reply_click2(this)" comment_display="C{{comments.author.user}}{{comments.pk}}"class="comment outline icon"></i></span>
<span>
<div class="dropdown">
<a class="cancela"  id="dropdownpost" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<i class="ellipsis vertical icon"></i>
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownpost">
<a class="dropdown-item" id="comment_archive_{{comments.pk}}"  onclick="post_comment_reply_action(this.id)"><i class="archive icon"></i>Archive</a>
<a class="dropdown-item" id="comment_report_{{comments.pk}}"  onclick="post_comment_reply_action(this.id)" ><i class="ban icon"></i>Report</a>
{%if current_user == comments.author or admin or moderator %}
<a class="dropdown-item" id="comment_delete_{{comments.pk}}" onclick="post_comment_reply_action(this.id)"><i class="trash alternate icon"></i> Delete</a>
{%endif%}
</div>
</div>
</span>
</div>
</div>
</div>
</div>
</div>
<div id="comment_reply_container{{comments.pk}}" class="">
{%if comments.check_reply_count > 1%}
<div id="load_reply{{object.pk}}" class="d-flex justify-content-center">
<a  onclick="load_more_replys(this)" post_id="{{object.pk}}" comment_id="{{comments.pk}}" class=" grey-text"><strong>-Load More-</strong></a>
</div>
{%endif%}
{% for reply in comments.commentreply_set.all|sort_by:'-published'|slice:":1"%}
<div id="Reply{{reply.pk}}">
<div class="offset-2">
<div id="R{{reply.author.user}}{{reply.pk}}"class="mb-1 media rounded border border-dark list-group-item-action my-1">
<div class="ml-0 col-12">
<div class="media-body my-3">
<div class="d-flex justify-content-between mb-2">
<span>
<div class="d-flex justify-content-start">
<span>
<div class="">
<a  class="cancela">
  {%load static%}
{%if reply.author.profile_pic%}
<img class="ui fluid avatar image  mr-0" src="{{reply.author.profile_pic.url}}">
{%else%}
<img class="ui fluid avatar image  mr-0" src=" {% static "img/default-profile-picture-gmail-2.png" %}">
{%endif%}
</a>
</div>
</span>
<span>
<div class="d-flex justify-content-start ml-1">
<span>  <p>@{{reply.author.user|safe}}</p></span>
</div>
</span>
</div>
</span>
<span class="text-right text-muted"> <div class="d-flex justify-content-end"><p>{{reply.published|timesince|upto:','}}</p>  <p>  - </p>  <i class="eye icon"></i> </div> </span>
</div>

<p class ="my-1">{{reply.contents|safe|truncatechars:70}}</p>
<div class="d-flex justify-content-center">
{%for pic in reply.commentreplypicture_set.all%}
{% if forloop.counter < 3 %}
<img  id="reply_pic_{{pic.pk}}" class="ui tiny rounded image my-2 mx-1  hoverable feed-img" data-toggle="modal" data-target="#picture_modal_screen" src="{{pic.commentreply_picture.url}}" alt="" onclick="blow_up_image(this)">
{%endif%}
{%endfor%}
</div>
<div class="d-flex justify-content-center">
{%for pic in reply.commentreplypicture_set.all%}
{% if forloop.counter > 2 %}
<img id="reply_pic_{{pic.pk}}" class="ui tiny rounded image my-2 mx-1 hoverable feed-img" data-toggle="modal" data-target="#picture_modal_screen" src="{{pic.commentreply_picture.url}}" alt="" onclick="blow_up_image(this)">
{%endif%}
{%endfor%}
</div>
<div class="d-flex justify-content-start tag-overflow">
{%for user in reply.recipients.all%}
<a href="#" class="my-1 user-tag cancela">
<div class="ui small label mr-2 my-1">
<div class="media-body">
<p>{{user.user|safe}}</p>
</div>
</div>
</a>
{%endfor%}
</div>
<div class="d-flex justify-content-between">
<div id="reply_like_container_{{reply.pk}}" class="d-flex justify-content-start">
<span>  <i class="thumbs up outline icon" id="reply_like_{{reply.pk}}" onclick="post_comment_reply_action(this.id)">{{reply.reply_like_count}}</i> </span>
{% if reply.reply_like_count != 0 %}
<a id="reply_like_statement_{{reply.pk}}" onclick="load_user_likes(this)" like="reply_{{reply.pk}}" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Liked by: <strong>{{reply.reply_last_like.userprofile.user.username}}</strong>   </small></a>
{%endif%}
</div>
<span> <i name="{{reply.contents|safe|truncatechars:70}}" users="@{{reply.author.user|safe}} {%for user in reply.recipients.all%}@{{user.user|safe}} {%endfor%}" postid="{{object.pk|safe}}"data-toggle="modal" data-target="#replyModal" data-whatever="@mdo" id="{{comments.pk|safe}}" onClick="reply_click2(this)" comment_display="R{{reply.author.user}}{{reply.pk}}" class="comment outline icon"></i></span>
<span>
<div class="dropdown">
<a class="cancela"  id="dropdownpost" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
<i class="ellipsis vertical icon"></i>
</a>
<div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownpost">
<a class="dropdown-item" id="reply_archive_{{reply.pk}}"  onclick="post_comment_reply_action(this.id)"><i class="archive icon"></i>Archive</a>
<a class="dropdown-item" id="reply_report_{{reply.pk}}"  onclick="post_comment_reply_action(this.id)" ><i class="ban icon"></i>Report</a>
{%if current_user == reply.author or admin or moderator %}
<a class="dropdown-item" id="reply_delete_{{reply.pk}}" onclick="post_comment_reply_action(this.id)"><i class="trash alternate icon"></i> Delete</a>
{%endif%}
</div>
</div>
</span>
</div>
</div>
</div>
</div>
</div>
</div>
<!--///////////////////////////end of comment reply -->
{%endfor%}
</div>
</div>
<!--///////////////////////////end of comment  -->
{%endfor%}
<!--///////////////////////////end of comment -->
</div>
<!--div below for deleting post  -->
</div>
</div>
{% empty %}
<div id="empty_post_list" class="payment-list">
  <h1>No Posts :(</h1>
  <h2>Let's create one!</h2>
</div>
{%endfor%}
</div>

<div id="loading_post_board_scroll" class="loading" style="display: none;">
<div class="d-flex justify-content-center"><div class="spinner-grow" role="status"><span class="sr-only">Loading...</span></div><div class="spinner-grow" role="status"><span class="sr-only">Loading...</span></div><div class="spinner-grow" role="status"><span class="sr-only">Loading...</span></div></div>
  </div>

  {% if post_list.has_next %}
    <a id="more_post_board_scroll" style="display:none" class="infinite-more-link" href="?{{page_request_var}}={{ post_list.next_page_number }}">More</a>
  {% endif %}
  <!--/////////////////////////////////////////////////////end Group section -->
            </div>
            <!--/////////////////////////////////////////////////////end Group section -->
            <div class="tab-pane fade" id="pills-contact" role="tabpanel" aria-labelledby="pills-contact-tab">
                   </div>
                   <!-- end stock list -->
            <div class="tab-pane fade" id="pills-feed" role="tabpanel" aria-labelledby="pills-contact-tab">
              <hr>
              <div class="">
                <div class="d-flex justify-content-center"><h2>Files</h2></div>
                <button data-toggle="modal" data-target="#file_modal_form" data-whatever="@mdo" class="fluid ui button mt-2 mb-2">Post File</button>
              </div>
              <hr>
              <div id="group-files-scroll-content" class="group_files_container">
                {% if groupfiles%}
              {%for file in groupfiles%}
              <div class="mb-1 media rounded border border-light list-group-item-action"  id="file_container{{file.pk}}" file_pk="{{file.pk}}">
                    <div class="ml-0 col-12">
                          <div class="media-body my-2 ">
                            <div class="d-flex justify-content-between mb-2">
                              <span>
                                    <div class="d-flex justify-content-start">
                                          <span>
                                            <div class="">
                                            <a  class="cancela">
                                            <div class="">
                                            <a href="{{object.get_absolute_url}}" class="cancela">
                                                  {%load static%}
                                              {%if file.file.creator.profile_pic%}
                                            <img class="ui fluid avatar image  mr-0" src="{{file.file.creator.profile_pic.url}}" >
                                            {%else%}
                                              <img class="ui fluid avatar image  mr-0"  src=" {% static "img/default-profile-picture-gmail-2.png" %}" >
                                            {%endif%}
                                            </a>
                                            </div>
                                            </a>
                                            </div>
                                        </span>
                                    <span>
                                      <div class="d-flex justify-content-start ml-1">
                                              <span>  <h4 class="mt-1">{{file.file.title|cap_title}}</h4></span>
                                            </div>
                                    </span>
                                  </div>
                            </span>
                <span class="text-right text-muted"> <div class="d-flex justify-content-end"><p id ="atchlist_download{{list.stockwatchlist.pk}}"> {{file.file.created_date|timesince|upto:','}} ago</p></div> </span>
                            </div>
                            <div class="">
                              <h5 class="mt-1">File Description:</h5>
                            <a href="#" class="cancela">
                                  <div class="mb-2">{{file.file.description}} </div>
                                    <div class="my-1"><strong>{{file.file.filename}}</strong> </div>
                                </a>
                                <div class="d-flex justify-content-center  ">
                                <button onclick="preview_file(this)" file_url="{{file.file.upload.url}}" data-toggle="modal" data-target="#file_modal_preview" data-whatever="@mdo" class="btn btn-primary btn-sm button-overflow button-boder-radius">Preview File</button>
                                <a  href="{{file.file.upload.url}}" class=" btn payment btn-sm button-overflow button-boder-radius" download>Download</a>
                                {%if current_user == file.file.author or admin or moderator %}
                                <button  onclick="update_remove_file_modal(this)" data-toggle="modal" data-target="#remove_file_pending_modal" delete_group_file_pk="file_container{{file.pk}}" type="button" class="btn btn-danger btn-sm button-overflow button-boder-radius">Remove File</button>
                                {%endif%}
                                </div>
                            </div>
                                </div>
                          </div>
                    </div>
                {%endfor%}
                {%else%}
                <div id="empty_files_list" class="payment-list">
                  <h1>No Files Yet!</h1>
                    <h2>Lets's post one! </h2>
                </div>
                {%endif%}
            </div>
            </div>
          </div>

  </div>
          <div class="col-md-3 pt-0 mt-0">
            <!-- Search Widget -->
            <div class="card pt-0 my-0">
              <h5 class="card-header"><div class="d-flex justify-content-end">Invite Users</div></h5>
              <div class="card-body">
                <!-- Default inline form -->
                  <form class="form-inline">
                    <!-- Default input -->
                    <label class="sr-only" for="inlineFormInputGroupUsername2">Username</label>
                    <div class="input-group mb-2 mr-sm-2">
                      <div class="input-group-prepend">
                        <div class="input-group-text">@</div>
                      </div>
                      <input type="text" class="form-control py-0" id="inlineFormInputGroupUsername2" placeholder="Username">
                    </div>
                    <button type="submit" class="btn btn-primary btn-sm mt-0">Submit</button>
                  </form>
              </div>
            </div>
        <!-- Categories Widget -->
            <div class="card my-4">
              <h5 class="card-header">
                <div class="d-flex justify-content-between">
                  <span>
                    <div class="dropdown">
                    <a id="search_member_dropdown" class="cancela" role="button" id="dropdownMenuLink"
                      data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <button class=" ui tiny button">
                        <div class="d-flex justify-content-center"><i class="users icon"></i><p id="group_member_count">{{group_member_count}}</p></div>
                      </button>
                    </a>
                    <div class="dropdown-menu mt-4" >
                        <div class="form-group mb-0">
                          <label for="exampleDropdownFormEmail1">Member Search</label>
                          <input onchange="search_member_group()" autocomplete="off" type="text" class="form-control" id="member_search_input_feild" value="@" placeholder="@">
                          <button  class="ui button mt-2">
                            <i class="search icon"></i>
                            </button>
                        </div>
                    </div>
                  </div>

                  </span>
                  <span> <div class="d-flex align-items-end">Members</div></span>

                </div>

                </h5>
              <div class="card-body">

                <!-- anyclass if for the scroller -->
                <div id="any_class" class="anyClass">
                  <!-- where the new member is appended -->
                  <div id="member_scroller" >
                  </div>
                  <!-- accessing through group -->
                {%for member in object.groupmember_set.all%}
                {%if member.active == True%}

              <a id="memberlink{{member.userprofile.user}}"  class="list-group-item list-group-item-action "data-toggle="modal" data-target="#modalLoginAvatar"  user_name ="@{{member.userprofile.user}}" date_joined = "{{member.joined}}" user_profile_url="" user_description="" time_spent_in_group="{{member.in_group_time}}%" user_moderator="{{member.moderator}}" user_member_status= "{{member.get_member_status_display}}"   onClick="user_modal(this)">
                  <div class="d-flex justify-content-between">
                        <!-- <img class="ui avatar image" src="https://mdbootstrap.com/img/Photos/Avatars/avatar-5.jpg"><p>@{{member.userprofile.user}}</p></div> -->
                        {%load static%}
                    {%if member.userprofile.profile_pic%}
                    <span>
                      <div class="align-self-baseline">
                  <img class="ui avatar image user_pic_memberlink  mr-0" src="{{member.userprofile.profile_pic.url}}"><p>@{{member.userprofile.user}}</p></div>
                    </span>
                  {%else%}
                  <span>
                    <div class="align-self-baseline">
                    <img class="ui avatar image user_pic_memberlink mr-0" src=" {% static "img/default-profile-picture-gmail-2.png" %}"><p>@{{member.userprofile.user}}</p></div>
                    </span>
                  {%endif%}
                  <!-- error is necessary -->
                    <!-- error is necessary -->
                    {% if member.group_online_status == 'o' %}
                    <span>
                      <div class="align-self-center">
                        <div id="status_symbol{{member.userprofile.user}}" class="circle" style="background-color:green;"></div>
                    </div>
                    </span>
                    {%else%}
                              {% if member.userprofile.online_status == 'o' %}
                              <span>
                                <div class="align-self-center">
                                  <div id="status_symbol{{member.userprofile.user}}" class="circle" style="background-color:yellow;"></div>
                              </div>
                              </span>
                              {% endif %}
                              {% if member.userprofile.online_status == 'f' %}
                              <span>
                                <div class="align-self-center">
                                <div id="status_symbol{{member.userprofile.user}}" class="circle" style="background-color:red;"></div>
                              </div>
                              </span>
                              {% endif %}
                    {% endif %}
              </div>
              </a>
              {%endif%}
              {%endfor%}
              </div>
              </div>
            </div>
            <!--Modal: Login with Avatar Form-->
            <!-- Button trigger modal -->
<!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalLoginAvatar">
  Launch demo modal
</button> -->
                  <div class="modal fade" id="modalLoginAvatar" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog cascading-modal modal-avatar modal-sm" role="document">
                      <!--Content-->
                      <div class="modal-content">
                        <!--Header-->
                        <div class="modal-header">
                          <img id="user_modal_profile_img" src="https://mdbootstrap.com/img/Photos/Avatars/img%20%281%29.jpg" alt="avatar" class="rounded-circle img-responsive modal-profile-pic">
                        </div>
                        <!--Body-->
                        <div class="modal-body text-center mb-1">
                          <button type="button" id="modalLoginAvatar_button" style="display:none" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                          <div class="container">
                          <h5 id="user_modal_username"class="mt-1 mb-2">Maria Doe</h5>
                          <div class="container-fluid text-center">
                              {%if admin%}
                              <!-- Small button group -->
                              <div id="status_place">
                                  <div id="status_help_info"></div>
                                <div id="status_button" class="my-1 btn-group">
                                  <button id="user_modal_status" class="btn btn-danger btn-sm dropdown-toggle button-boder-radius" type="button" data-toggle="dropdown"
                                    aria-haspopup="true" aria-expanded="false">
                                    Status: Admin
                                  </button>
                                  <div class="dropdown-menu">
                                    <a class="dropdown-item" href="#" onclick="clicked_status_pending1()">Make Moderator</a>
                                    <a class="dropdown-item" href="#" onclick="clicked_status_pending2()">Make Member</a>
                                    <hr>
                                    <a class="dropdown-item" href="#" onclick="clicked_status_pending3()">Kick Member</a>
                                  </div>
                                </div>
                              </div>
                              {%else%}
                              <!-- acceptable to have a second id as user_modal_status one for admin and one for memeber -->
                              <p class="my1" id="user_modal_status" >Status:</p>
                                {%endif%}
                                  </div>
                            </div>
                                <p class="my-1" id="user_modal_date_joined">Date Joined:</p>
                                <p class="my-1" id="user_modal_group_time_online">Time online:</p>
                            <p class="my-1" >User description</p>
                            <p class="my-1" id="user_modal_user_description">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                          </div>
                          <div class="text-center my-1">
                            <button id="user_modal_user_profile_url" class="btn payment mt-1 button-boder-radius">User Profile<i class="fas fa-sign-in ml-1"></i></button>
                          </div>
                          {%if admin %}
                          <div class="text-center my-1">
                            <button  onclick="submit_member_change()" id="user_modal_save_changes" class="btn payment mt-1 button-boder-radius">Submit changes<i class="fas fa-sign-in ml-1"></i></button>
                          </div>
                          {%endif%}
                          </div>
                        </div>
                      </div>
                      <!--/.Content-->
                      <!-- Side Widget -->
                      <div class="card my-4">
                        <h5 class="card-header"><div class="d-flex justify-content-end">Similar Groups</div></h5>
                        <div class="card-body px-1">
                          <!-- Beginning of Group SLider -->
                          <div class="container mx-0 px-0 mb-0 pb-0">
                            <div class="pn-ProductNav_Wrapper">
                          <nav id="pnProductNav" class="pn-ProductNav dragscroll" data-overflowing="right">
                          <div id="pnProductNavContents" class="pn-ProductNav_Contents pn-ProductNav_Contents-no-transition" style="transform: none;">
                          <div class="d-flex justify-content-start">
                          {%for group in group_list%}
                          <div  class="mr-3 my-2"  >
                          <!-- Card Light -->
                          <div style="min-width: 250px" class="card group-card">
                            <!-- Card image -->
                            <div class="view overlay">
                              <img class="card-img-top group-card-img" src="{{group.group_picture.url}}" alt="Card image cap">
                              <!-- <img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Horizontal/Nature/4-col/img%20%28131%29.jpg" alt="Card image cap"> -->
                              <a>
                                <div class="mask rgba-white-slight"></div>
                              </a>
                            </div>
                            <!-- Card content -->
                            <div class="card-body">
                              <!-- Social shares button -->
                              <a class="activator waves-effect waves-light mr-4"><i class="fas fa-share-alt"></i></a>
                              <!-- Title -->
                              <h4 class="card-title">{{group.title|title}}</h4>
                              <hr>
                              <!-- Text -->
                              <p class="card-text">{{group.description}}</p>
                              <!-- Link -->
                              <!-- Button -->
                              {%if group.group_type != "f" %}
                                  <p><strong>
                                    {%if group.group_type == 's'%}${{group.price|price_convert}}/Monthly Fee{%endif%}
                                    {%if group.group_type == 'o'%}${{group.price|price_convert}}/Addmision Fee{%endif%}
                                  </strong></p>
                                  <a href="{{group.landing_page}}" class=" btn btn-primary btn-sm  hoverable">Join Group</a>
                              {%else%}
                                <p><strong>Free</strong></p>
                              <a href="{{group.get_absolute_url}}"  class=" btn btn-primary btn-sm  hoverable">Join Group</a>
                              {%endif%}
                              <a  slug="{{group.slug}}" onClick="populate_similiar_group_modal(this)"  class="black-text d-flex justify-content-end"><h5>Learn More <i class="fas fa-angle-double-right"></i></h5></a>
                            </div>
                          </div>
                          <!-- Card Light -->
                          </div>
                          {%endfor%}
                          </div>
                          <span id="pnIndicator" class="pn-ProductNav_Indicator" style="transform: translateX(0px) scaleX(0.794875); background-color: rgb(134, 113, 0);"></span>
                          </div>
                          </nav>
                          <button id="pnAdvancerLeft" style="display:none" class="pn-Advancer pn-Advancer_Left" type="button">
                          <svg class="pn-Advancer_Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 551 1024"><path d="M445.44 38.183L-2.53 512l447.97 473.817 85.857-81.173-409.6-433.23v81.172l409.6-433.23L445.44 38.18z"></path></svg>
                          </button>
                          <button id="pnAdvancerRight" style="display:none" class="pn-Advancer pn-Advancer_Right" type="button">
                          <svg class="pn-Advancer_Icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 551 1024"><path d="M105.56 985.817L553.53 512 105.56 38.183l-85.857 81.173 409.6 433.23v-81.172l-409.6 433.23 85.856 81.174z"></path></svg>
                          </button>
                          </div>
                          </div>
                          <!-- End of Group SLider -->
                        </div>
                      </div>
              </div>
            </div>
          </div>
<!-- List of user that like media -->
          <div class="modal fade" id="like_list_user_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button id="like_list_user_modal_modal_button"  type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <h3 class="d-flex justify-content-center my-0">Likes</h3>
                <div id="like_list_user_modal_contents" class="modal-body justify-content-center notification_modal">
                  <div class="col-10 mb-1 media list-group-item-action rounded border border-light my-1 container-fluid" id="2">
        <div class="media-body my-3  d-flex justify-content-between">
                      <a href="" class="cancela d-flex justify-content-start">
                                {%load static%}
                            <img class="ui fluid avatar image  mr-1"  src=" {% static "img/default-profile-picture-gmail-2.png" %}" >
                            <span>  <p class="notification-user-name mt-2" >@guogbonn</p></span>
                      </a>
                        <button class="btn btn-primary btn-sm ml-4 float-right">Follow</button>
              </div>
  </div>
</div>
              </div>
            </div>
          </div>


<!-- similial groups information modal -->
        <button id="Similar_Groups_modal_open_button" style="display:none" type="button" data-toggle="modal" data-target="#Similar_Groups_modal" name="button"></button>
        <!--Similar groups modal  -->
        <div class="modal fade" id="Similar_Groups_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button id="Similar_Groups_modal_button"  type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div id="Similar_Groups_modal_contents" class="modal-body">
              </div>
            </div>
          </div>
        </div>
      <!-- /.container -->
<!-- modal containing the display of picture -->
      <div class="modal fade" style="z-index:1000000000" id="picture_modal_screen" tabindex="-1" role="dialog" aria-labelledby="picture_modal"
        aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
          <div  class="modal-content">
            <div style = "display:none" class="modal-header">
              <h5 style = "display:none" class="modal-title" id="picture_modal"></h5>
            </div>
            <div class="modal-body">
              <button type="button"  class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <img id="picture_modal_display" class="ui centered large rounded image picture_modal" src="" alt="">
            </div>
          </div>
        </div>
      </div>
<!-- moved the modal because it was not working at the very bottom of the document but now the modal below, Reply Modal seems to be missing a div -->

<!-- files /.....................   -->
<!-- button file_modal_form_button -->
<button id="file_modal_form_button" style="display:none" data-toggle="modal" data-target="#file_modal_form" data-whatever="@mdo" class="fluid ui button mt-2 mb-2">modal</button>
<!-- button file_modal_form_button -->
<div class="modal fade" id="file_modal_form" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button id="file_modal_form_modal_button_close"  type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form id="data8"  action="{% url 'core:group' slug=object.slug  %}" autocomplete="off" method="post" enctype="multipart/form-data" >
            {% csrf_token %}
                  <div class="form-group">
                    <!-- Grid column -->
                        <div class="col-10 offset-1">
                          <div class="d-flex justify-content-center">
                              <h3 class="mb-2">Upload File</h3>
                          </div>
                          <!-- <label class="sr-only" for="create_watchlist_title">Title of Watchlist</label> -->
                          <div class="input-group mb-2">
                            <div class="input-group-prepend">
                              <div class="input-group-text">Title</div>
                            </div>
                            <input name="file_modal" autocomplete="off" type="text" class="form-control py-0" id="file_modal_form_title" placeholder=" " required>
                          </div>
                          <div class="input-group ">
                            <div class="input-group-prepend">
                              <span class="input-group-text" id="file_modal_form_title_lablel">Description</span>
                            </div>
                            <textarea id="file_modal_form_description" name="file_modal" class="form-control" aria-label="Sizing example input" aria-describedby="file_modal_form_title_lablel" required></textarea>
                          </div>
                          <div class="input-group  my-2">
                              <i id="upload_file_button" class="upload icon" ></i>
                          </div>
                        <input name="file_modal_file" id="file_modal_form_file" type="file" class="inputfile" onchange="readURL_file(this)" accept=".doc,.docx,.xml,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,.xlsx, .xls, .csv,.pdf,image/x-png,image/gif,image/jpeg" required>
                        <div class="input-group">
                          <div ><a  id="div_containing_file_name" data-toggle="modal" data-target="#file_modal_preview" data-whatever="@mdo"></a></div>
                        </div>
                        <button class="btn btn-primary btn-sm my-0 search-bar p waves-effect waves-light mt-4 button-boder-radius" type="submit">
                              <span class="text-center"><i class="large telegram plane icon"></i>Upload</span></button>
                          </div>
      </div>
  <!-- Grid column -->
  </form>
      </div>
    </div>
  </div>
</div>
<!-- button file_modal_preview_button -->
<button id="file_modal_preview_button" style="display:none" data-toggle="modal" data-target="#file_modal_preview" data-whatever="@mdo" class="fluid ui button mt-2 mb-2">modal</button>
<!-- button file_modal_preview_button -->
=<div class="modal fade" id="file_modal_preview" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button id="file_modal_preview_modal_button_close"  type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
            <div id="file_preview_description" class="d-flex justify-content-center">
            </div>
            <!-- <iframe id="file_preview_embed_word" src='https://view.officeapps.live.com/op/embed.aspx?src=http://remote.url.tld/path/to/document.doc' width='1366px' height='623px' frameborder='0'>This is an embedded <a target='_blank' href='http://office.com'>Microsoft Office</a> document, powered by <a target='_blank' href='http://office.com/webapps'>Office Online</a>.</iframe> -->
              <div class="d-flex justify-content-center">
            <iframe  id="file_preview_embed" src="" width="100%" height="600" frameborder="0"></iframe>
            <embed  id="file_preview_embed_pdf" width="100%" height="600" src="your_url_to_pdf" type="application/pdf" />
            <img  id="file_preview_embed_img" class="ui centered large rounded image" src="" alt="">
                <p class="" id="preview_description"></p>
          </div>
      </div>
    </div>
  </div>
</div>
<!-- Dividend Wealth Notification  -->
<button id="Dividend_Wealth_Notification_button" style="display:none" data-toggle="modal" data-target="#Dividend_Wealth_Notification" data-whatever="@mdo" class="fluid ui button mt-2 mb-2">modal</button>
<div class="modal fade" id="Dividend_Wealth_Notification" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button id="Dividend_Wealth_Notification_modal_button_close"  type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
                    <!-- Grid column -->
                        <div class="col-12">
                          <div class="d-flex justify-content-center">
                              <h3 class="mb-2">Notifications</h3>
                              </div>
                              <hr class="my-1">
                              <div id="Dividend_Wealth_Notification_modal_container" class="notification_modal">
                                {%if user_notifications%}
                                {%for item in user_notifications %}
                                <div id="Notification{{item.pk}}" class="">
                                      <!-- 2 id -->
                                          <div class="mb-1 media list-group-item-action {% if item.checked == False %} unchecked-notification {%endif%} rounded border border-light my-1 container-fluid" id="2">
                                                    <div class="ml-0 px-0">
                                                          <div class="media-body my-3 mx-0">
                                                                    <div class="d-flex justify-content-start">
                                                                      <a href="{{object.get_absolute_url}}" class="cancela">
                                                                                    {%load static%}
                                                                                {%if item.action_user.profile_pic%}
                                                                              <img class="ui fluid avatar image  mr-1" src="{{item.action_user.profile_pic.url}}" >
                                                                              {%else%}
                                                                                <img class="ui fluid avatar image  mr-1"  src=" {% static "img/default-profile-picture-gmail-2.png" %}" >
                                                                              {%endif%}
                                                                                    <span>  <p class="notification-user-name" >@{{item.action_user.user.username}}</p></span>
                                                                          </a>
                                                                          </div>
                                                                          <a post_id="{{item.post_id}}"  type_note="{{item.type}}" action_note="{{item.action}}" notification_url="{{item.url}}" notification_pk="{{item.pk}}" onclick="notification_aknowledge(this)" class="cancela notification-place">
                                                                        <div class="my-1 text-left container" > <p class="notification-action-statement">{{item.action_statement}}</p></div>
                                                                        <span class="text-right text-muted"><div class="d-flex justify-content-start"><p class="notification-time-posted mb-0">{{item.date_created|timesince}}</p>  <p class="mb-0">  - </p>  <i  class="eye icon mb-0"></i> </div>   </span>
                                                                    </a>
                                                                </div>
                                                          </div>
                                                    </div>
                                             </div>
                                          {%endfor%}
                                          {%else%}
                                          <p id="No_notification">No Notificatiions At The Moment</p>
                                          {%endif%}
                              </div>
                                    </div>
  <!-- Grid column -->
                            </div>
        </div>
    </div>
  </div>
<!-- Reply Modal -->
  <div class="modal fade" id="replyModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="replyModal">Reply</h5>
          <button id="reply_close_modal" onClick="reply_modal_clear()" type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span onClick="reply_modal_clear()" aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div id="comment_modal_display">
          </div>
          <form id="data3" action="{% url 'core:group' slug=object.slug  %}" autocomplete="off" method="post" enctype="multipart/form-data">
              {% csrf_token %}
              <!-- <label for="message-text" class="col-form-label">Message:</label> -->
              <div class="form-group">
                <label  type="hidden" for="recipient-name2" class="col-form-label"></label>
                <!-- users -->
                <input  type="hidden"  spellcheck="false" name="reply" type="text" class="form-control" rows="2"id="recipient-name2" placeholder="@user_1 @user_2" >
              <!-- comment id -->
                <input name="reply" value="" id="name2" type="hidden" placeholder="Enter Name" />
                <!-- post id -->
                  <input name="reply" value="" id="postid" type="hidden" placeholder="Enter Name" />
                  <!-- response -->
                    <label for="message-text" class="col-form-label">Message:</label>
              <textarea spellcheck="false" name="reply" class="form-control" id="message-text1"></textarea>
                                <div class="d-flex justify-content-start">
                                  <!-- <p   class=" btn btn-primary btn-sm my-0  search-bar p waves-effect waves-light mt-4 rounded px-0 py-0" >
                                        <span class="text-center"></span></p> -->
                                        <i id='button_reply' class="file image large icon my-2"></i>
                                      <!-- get rid of val -->
                                    <input name="reply_img" id="reply_photo_upload_button_1" type="file" class="inputfile" accept="image/x-png,image/gif,image/jpeg">
                                    <input name="reply_img" id="reply_photo_upload_button_2" type="file"class="inputfile" accept="image/x-png,image/gif,image/jpeg">
                                    <input name="reply_img" id="reply_photo_upload_button_3" type="file" class="inputfile" accept="image/x-png,image/gif,image/jpeg">
                                    <input name="reply_img" id="reply_photo_upload_button_4" type="file" class="inputfile" accept="image/x-png,image/gif,image/jpeg">
                                </div>
                                  <!-- specifiy type of fieldset -->
                                  <!-- https://www.w3schools.com/tags/att_input_accept.asp -->
                      <div class="d-flex justify-content-center">
                        <div class="img-wrap">
                          <span style ="display:none" id="reply_image_field_1_close"  onclick="delete_uploaded_img(reply_image_field_1)" class="close">&times;</span>
                          <img  style ="display:none" id="reply_image_field_1" class="ui small image my-2 mx-2 hoverable rounded" src="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)"
                             alt="example placeholder avatar">
                        </div>
                        <div class="img-wrap">
                          <span style ="display:none" id="reply_image_field_2_close" onclick="delete_uploaded_img(reply_image_field_2)" class="close">&times;</span>
                          <img  style ="display:none" id="reply_image_field_2" class="ui small image my-2 mx-2 hoverable rounded" src="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)"
                             alt="example placeholder avatar">
                        </div>
                      </div>
                      <div class="d-flex justify-content-center">
                        <div class="img-wrap">
                          <span style ="display:none" id="reply_image_field_3_close" onclick="delete_uploaded_img(reply_image_field_3)" class="close">&times;</span>
                          <img  style ="display:none" id="reply_image_field_3" class="ui small image my-2 mx-2 hoverable rounded" src="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)"
                             alt="example placeholder avatar">
                        </div>
                        <div class="img-wrap">
                          <span style ="display:none" id="reply_image_field_4_close" onclick="delete_uploaded_img(reply_image_field_4)" class="close">&times;</span>
                          <img  style ="display:none" id="reply_image_field_4" class="ui small image my-2 mx-2 hoverable rounded" src="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)"
                           alt="example placeholder avatar">
                        </div>
                      </div>
              <button class="btn btn-primary btn-sm my-0 search-bar p waves-effect waves-light mt-4" type="submit">
                    <span class="text-center"><i class="large telegram plane icon"></i>Send</span></button>
                      </div>
</form>
            </div>
        </div>
      </div>
    </div>
  <!-- ///////////////////////////////////////////////////Do Not Touch -->
  <!-- for commenting on a post -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Comment</h5>
          <button id="comment_close_modal" onClick="comment_modal_clear()" type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span onClick="comment_modal_clear()" aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
        <div id="post_modal_display">
          </div>
          <form id="data2" action="{% url 'core:group' slug=object.slug  %}" autocomplete="off" method="post" enctype="multipart/form-data">
              {% csrf_token %}
                    <div class="form-group">
                        <!-- users -->
                      <label  type="hidden" for="recipient-name1" class="col-form-label"></label>
                      <input type="hidden"  spellcheck="false" name="comment" type="text" class="form-control" rows="2"id="recipient-name1" placeholder="@user_1 @user_2" >
                      <!-- Post id -->
                        <input name="comment" value="" id="name" type="hidden" placeholder="Enter Name" />
                        <!-- message -->
                        <label for="message-text" class="col-form-label">Message:</label>
                      <textarea name="comment" class="form-control" id="message-text2"></textarea>
                      <!-- handling pictures -->
                      <div class="d-flex justify-content-start">
                        <!-- <p   class=" btn btn-primary btn-sm my-0  search-bar p waves-effect waves-light mt-4 rounded px-0 py-0" >
                              <span class="text-center"></span></p> -->
                              <i id='button_comment' class="file image large icon my-2"></i>
                            <!-- get rid of val -->
                          <input name="comment_img" id="comment_photo_upload_button_1" type="file" class="inputfile" accept="image/x-png,image/gif,image/jpeg">
                          <input name="comment_img" id="comment_photo_upload_button_2" type="file"class="inputfile" accept="image/x-png,image/gif,image/jpeg">
                          <input name="comment_img" id="comment_photo_upload_button_3" type="file" class="inputfile" accept="image/x-png,image/gif,image/jpeg">
                          <input name="comment_img" id="comment_photo_upload_button_4" type="file" class="inputfile" accept="image/x-png,image/gif,image/jpeg">
                      </div>
                        <!-- specifiy type of fieldset -->
                        <!-- https://www.w3schools.com/tags/att_input_accept.asp -->
            <div class="d-flex justify-content-center">
              <div class="img-wrap">
                <span style ="display:none" id="comment_image_field_1_close"  onclick="delete_uploaded_img(comment_image_field_1)" class="close">&times;</span>
                <img  style ="display:none" id="comment_image_field_1" class="ui small image my-2 mx-2 hoverable rounded" src="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)"
                   alt="example placeholder avatar">
              </div>
              <div class="img-wrap">
                <span style ="display:none" id="comment_image_field_2_close" onclick="delete_uploaded_img(comment_image_field_2)" class="close">&times;</span>
                <img  style ="display:none" id="comment_image_field_2" class="ui small image my-2 mx-2 hoverable rounded" src="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)"
                 alt="example placeholder avatar">
              </div>
            </div>
            <div class="d-flex justify-content-center">
              <div class="img-wrap">
                <span style ="display:none" id="comment_image_field_3_close" onclick="delete_uploaded_img(comment_image_field_3)" class="close">&times;</span>
                <img  style ="display:none" id="comment_image_field_3" class="ui small image my-2 mx-2 hoverable rounded" src="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)"
                 alt="example placeholder avatar">
              </div>
              <div class="img-wrap">
                <span style ="display:none" id="comment_image_field_4_close" onclick="delete_uploaded_img(comment_image_field_4)" class="close">&times;</span>
                <img  style ="display:none" id="comment_image_field_4" class="ui small image my-2 mx-2 hoverable rounded" src="" data-toggle="modal" data-target="#picture_modal_screen" onclick="blow_up_image(this)"
                 alt="example placeholder avatar">
              </div>
            </div>
                      <button class="btn btn-primary btn-sm my-0 search-bar p waves-effect waves-light mt-4" type="submit">
                            <span class="text-center"><i class="large telegram plane icon"></i>Send</span></button>
                    </div>
                  </form>
        </div>
      </div>
    </div>
  </div>
  <!-- ///////////////////////////////////////////////////Do Not Touch -->
<!-- creating a repost -->
  <div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Repost</h5>
          <button onClick="repost_modal_clear()" type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span onClick="repost_modal_clear()" aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form action="{% url 'core:group' slug=object.slug  %}" autocomplete="off" method="post" >
              {% csrf_token %}
            <div class="form-group">
                <!-- users -->
              <!-- Post id -->
                <input name="repost" value="" id="repost_post" type="hidden" placeholder="Enter Name" />
                <!-- message -->
                <label for="message-text" class="col-form-label"></label>
              <textarea name="repost" class="form-control test" id="message-text3" placeholder="Anything else to add?"></textarea>
                                        <div id="display_post"">
                                           </div>
              <button class="btn btn-primary btn-sm my-0 search-bar p waves-effect waves-light mt-4" type="submit">
                    <span class="text-center"><i class="large telegram plane icon"></i>Send</span></button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
<!-- alert modal -->
  <!-- Side Modal Top Right -->
<!-- To change the direction of the modal animation change .right class -->
<div class="modal fade left modal-sm" id="member_alert_large_screen_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" data-toggle="modal"
  aria-hidden="true" data-backdrop="false">
  <!-- Add class .modal-side and then add class .modal-top-right (or other classes from list above) to set a position to the modal -->
  <div class="modal-dialog modal-side modal-bottom-left" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title w-100" id="myModalLabel">Modal title</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="hiding_container">
  <!-- hiding spinner element -->
        <div class="spinner-border text-dark mx-2" role="status" id="black_spinner">
              <span class="sr-only">Loading...</span>
              </div>
          <!-- hiding spinner element -->
        <!-- hiding bottom alert element -->
        <button id="alert_footer_content" class="btn btn-primary btn-lg btn-block waves-effect pr-0" onclick="remove_alert_button()">
          <div class="d-flex justify-content-start"><span><p>hkdlkjs just Joined!</p></span> <span><i class="ui times icon ml-3" onclick="remove_alert_button()"></i></span></div></button>
<!-- hiding bottom alert element -->
        <!-- hiding Post -->
        <div id="ExamplePost" class="">
              <!-- 2 id -->
                  <div class="mb-1 media list-group-item-action rounded border border-light my-1 container-fluid post-content-action example-post-for-loop" id="2">
                            <div class="ml-0 col-12 px-0">
                                  <div class="media-body my-3 mx-0">
                                              <div class="d-flex justify-content-between mb-2">
                                                <span>
                                                      <div class="d-flex justify-content-start">
                                                            <span>
                                                              <div class="">
                                                              <a href="/profile/post//" class="cancela href-post-example">
                                                              <img class="ui fluid avatar image user-image-post-example mr-0" src="">
                                                              </a>
                                                              </div>
                                                          </span>
                                                      <span>
                                                        <div class="d-flex justify-content-start ml-1">
                                                                <span>  <p class="post-author-name" >-----</p></span>
                                                                <span >  <a style ="display:none" class="cancela example-comment-reply-dropdown" data-toggle="collapse" data-target="#collapseOne{{forloop.counter}}" aria-expanded="false" aria-controls="collapseOne{{forloop.counter}}">
                                                                    <i class="angle down icon"></i>
                                                                  </a>
                                                                </span>
                                                              </div>
                                                      </span>
                                                    </div>
                                              </span>
                                              <span class="text-right text-muted"><div class="d-flex justify-content-end"><p class="post-time-posted">6&nbsp;minutes</p>  <p>  - </p>  <i id="grouppost" class="eye icon"></i> </div>   </span>
                                              </div>

                                          <a href="/profile/post//" class="cancela href-post-example">
                                                <div class="my-1 post-words text-left container" id="container"> <p class="post-content-example">dasasdasdfa @bob $AAPL</p></div>
                                                </a>
                                                <div class="example_attached_url d-flex flex-column">
                                                </div>
                                                <div class="spacer">
                                                  <div class="hello post-pic-container-example">
                                                    <div class="post_pictures col-12">
                                                  <div class="d-flex justify-content-center pic_container_post_example">
                                                    <img id="post_pic_" class="ui small rounded image my-2 mx-1  hoverable img-example-post feed-img" data-toggle="modal" data-target="#picture_modal_screen" src="" alt="" onclick="blow_up_image(this)">
                                                      </div>
                                                  <div class="d-flex justify-content-center pic_container_post_example2">
                                                  </div>
                                                  </div>
                                                </div>
                                                  </div>
                                                  <a href="/profile/post//" class="cancela"></a>
                                          <div class="d-flex justify-content-start  example-recipient-container tag-overflow">
                                              <a href="" class="my-1 cancela user-tag recipient-tag-post">
                                                    <div class="ui small label mr-2 my-1">
                                                      <div class="media-body">
                                                      <p>@bob</p>
                                                      </div>
                                                    </div>
                                              </a>
                                          </div>
          <!-- https://semantic-ui.com/elements/icon.html#/definition -->
          <!-- https://stackoverflow.com/questions/3395863/how-can-i-get-the-object-count-for-a-model-in-djangos-templates -->
          <!-- Django signals on creation of post add to integer feild of comment -->
                                              <div class="d-flex justify-content-between group_wa_load mt-2">
                                                <!-- websocket for functionality -->
                                                <div id="post_like_container_" class="d-flex justify-content-start post_like_container">
                                                  <span><i class="thumbs up outline icon post_example_like" id="" onclick="post_comment_reply_action(this.id)">0</i> </span>
                                                </div>
                                                  <span><i name="None" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo" id="" post_display="" onclick="reply_click(this)" class="comment outline icon post_example_comment post_comment_button_num">0</i></span>
                                                  <span><i data-toggle="modal" data-target="#exampleModal2" class="retweet icon post_example_repost" post_display="2" postid="" onclick="reply_click_repost(this)">0</i></span>
                                                  <span>
                                                    <div class="dropdown">
                                  <a class="cancela" id="dropdownpost" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                      <i class="ellipsis vertical icon"></i>
                                  </a>
                                  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownpost">
                                    <a class="dropdown-item post_example_archive" id="post_archive_" onclick="post_comment_reply_action(this.id)"><i class="archive icon"></i>Archive</a>
                                    <a class="dropdown-item post_example_report" id="post_report_" onclick="post_comment_reply_action(this.id)"><i class="ban icon"></i>Report</a>
                                    <a class="dropdown-item post_example_delete" id="post_delete_" onclick="post_comment_reply_action(this.id)"><i class="trash alternate icon"></i> Delete</a>
                                  </div>
                                </div>
                                                  </span>
                                              </div>
                                        </div>
                                </div>
                     </div>
              <!--/////////////////////////// end post section -->
                <!--/////////////////////////// begenning of comment -->
<!-- 4 colaplse -->
<div id="collapseOne2" class="collapse example_post_comment_reply_container" aria-labelledby="2" data-parent="#accordion">
          <!--///////////////////////////end of comment -->
          </div>
<!--div below for deleting post  -->
</div>
  <!-- hiding Post -->
  <!-- Hiding Comment -->
  <div id="EampleComment">
            <div class=" offset-1">
              <!-- offset-1 -->
                      <div id="" class="mb-1 media rounded border border-dark list-group-item-action my-1 example_comment_main_container">
                        <div class="ml-0 col-12">
                          <div class="media-body my-3">
                            <div class="d-flex justify-content-between mb-2">
                              <span>
                                    <div class="d-flex justify-content-start">
                                          <span>
                                            <div class="">
                                            <a class="cancela">
                                            <img class="ui fluid avatar image  mr-0 user-image-comment-example" src="/media/profile_img/short_hair_pof_HZ0spSo.jpg">
                                            </a>
                                            </div>
                                        </span>
                                    <span>
                                      <div class="d-flex justify-content-start ml-1">
                                          <span>  <p class="comment-author-name">@guogbonn</p></span>
                                            </div>
                                    </span>
                                  </div>
                            </span>
                            <span class="text-right text-muted"> <div class="d-flex justify-content-end"><p class="comment-time-posted">16&nbsp;minutes</p>  <p>  - </p>  <i class="eye icon"></i> </div> </span>
                            </div>

                                  <p class="my-1 comment-content-example">@pete $AAPL lklflmfdlk</p>
                                  <div class="spacer">
                                    <div class="hello comment-pic-container-example">
                                      <div class="post_pictures col-12">
                                    <div class="d-flex justify-content-center pic_container_comment_example">
                                      <img id="comment_pic_" class="ui tiny rounded image my-2 mx-1  hoverable img-example-comment feed-img" data-toggle="modal" data-target="#picture_modal_screen" src="/media/C%3A/Users/ogbon/OneDrive/Desktop/Django_tutorial/media/post_img/default-profile-picture-gmail-2_SowgqnB.png" alt="" onclick="blow_up_image(this)">
                                        </div>
                                    <div class="d-flex justify-content-center comment_pic_container_post_example2">
                                    </div>
                                    </div>
                                  </div>
                                    </div>
                                  <div class="d-flex justify-content-start example-recipient-container tag-overflow">
                                      <a href="" class="my-1 cancela user-tag recipient-tag-post">
                                            <div class="ui small label mr-2 my-1">
                                              <div class="media-body">
                                              <p> @pete</p>
                                              </div>
                                            </div>
                                      </a>
                                  </div>
                                  <div class="d-flex justify-content-between">
                                    <!-- https://semantic-ui.com/elements/icon.html#/definition -->
                                    <div id="comment_like_container_" class="d-flex justify-content-start comment_like_container">
                                      <span>  <i class="thumbs up outline icon comment_example_like" id="comment_like_" onclick="post_comment_reply_action(this.id)">0</i> </span>
                                    </div>
        <!-- https://stackoverflow.com/questions/3395863/how-can-i-get-the-object-count-for-a-model-in-djangos-templates -->
        <!-- Django signals on creation of post add to integer feild of comment -->
        <span> <i name="@pete $AAPL lklflmfdlk" users="@guogbonn @pete " postid="241" data-toggle="modal" data-target="#replyModal" data-whatever="@mdo" id="60" onclick="reply_click2(this)" comment_display="Cguogbonn60" class="comment outline icon comment_example_comment"></i></span>
                                  <span>
                                    <div class="dropdown">
                                      <a class="cancela" id="dropdownpost" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                          <i class="ellipsis vertical icon"></i>
                                      </a>
                                      <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownpost">
                                        <a class="dropdown-item comment_example_archive" id="comment_" onclick="post_comment_reply_action(this.id)"><i class="archive icon "></i>Archive</a>
                                        <a class="dropdown-item comment_example_report" id="comment" onclick="post_comment_reply_action(this.id)"><i class="ban icon "></i>Report</a>
                                        <a class="dropdown-item comment_example_delete" id="comme" onclick="post_comment_reply_action(this.id)"><i class="trash alternate icon "></i> Delete</a>
                                      </div>
                                  </div>
                                  </span>
                                  </div>
                          </div>
                        </div>
                      </div>
                      </div>
                      <div id="comment_reply_container{{comments.pk}}" class="reply_example_container">
                      </div>
                </div>
  <!-- Hiding Comment -->
<!-- Hiding Reply -->
<div id="EampleReply">
      <div class="offset-2">
        <!-- offset-2 -->
                <div id="Rguogbonn32" class="mb-1 media rounded border border-dark list-group-item-action my-1 example_comment_main_container">
                  <div class="ml-0 col-12">
                    <div class="media-body my-3">
                      <div class="d-flex justify-content-between mb-2">
                        <span>
                              <div class="d-flex justify-content-start">
                                    <span>
                                      <div class="">
                                      <a class="cancela">
                                      <img class="ui fluid avatar image  mr-0 user-image-comment-example" src="/media/profile_img/short_hair_pof_HZ0spSo.jpg">
                                      </a>
                                      </div>
                                  </span>
                              <span>
                                <div class="d-flex justify-content-start ml-1">
                                        <span>  <p class="comment-author-name">@guogbonn</p></span>
                                      </div>
                              </span>
                            </div>
                      </span>
                      <span class="text-right text-muted"> <div class="d-flex justify-content-end"><p class="comment-time-posted">1&nbsp;hour</p>  <p>  - </p>  <i class="eye icon"></i> </div> </span>
                      </div>

                            <p class="my-1 comment-content-example">@pete dvasdv asdf vv $HON</p>
                                    <div class="spacer">
                                      <div class="hello comment-pic-container-example">
                                        <div class="post_pictures col-12">
                                      <div class="d-flex justify-content-center pic_container_comment_example">
                                        <img id="comment_pic_8" class="ui tiny rounded image my-2 mx-1  hoverable img-example-comment feed-img" data-toggle="modal" data-target="#picture_modal_screen" src="/media/C%3A/Users/ogbon/OneDrive/Desktop/Django_tutorial/media/post_img/default-profile-picture-gmail-2_SowgqnB.png" alt="" onclick="blow_up_image(this)">
                                          </div>
                                      <div class="d-flex justify-content-center comment_pic_container_post_example2">
                                      </div>
                                      </div>
                                    </div>
                                      </div>
                            <div class="d-flex justify-content-start example-recipient-container tag-overflow">
                                <a href="" class="my-1 cancela user-tag recipient-tag-post">
                                      <div class="ui small label mr-2 my-1">
                                        <div class="media-body">
                                          <p>@pete</p>
                                        </div>
                                      </div>
                                </a>
                            </div>
                            <div class="d-flex justify-content-between">
                              <!-- https://semantic-ui.com/elements/icon.html#/definition -->
                              <div id="reply_like_container_" class="d-flex justify-content-start reply_like_container">
                                <span>  <i class="thumbs up outline icon comment_example_like" id="reply_like_" onclick="post_comment_reply_action(this.id)">0</i> </span>
                              </div>
  <!-- https://stackoverflow.com/questions/3395863/how-can-i-get-the-object-count-for-a-model-in-djangos-templates -->
  <!-- Django signals on creation of post add to integer feild of comment -->
  <span> <i name="@pete dvasdv asdf vv $HON" users="@guogbonn @pete " postid="256" data-toggle="modal" data-target="#replyModal" data-whatever="@mdo" id="102" onclick="reply_click2(this)" comment_display="Rguogbonn32" class="comment outline icon comment_example_comment"></i></span>
                            <span>
                              <div class="dropdown">
                                <a class="cancela" id="dropdownpost" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="ellipsis vertical icon"></i>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownpost">
                                  <a class="dropdown-item comment_example_archive" id="reply_archive_32" onclick="post_comment_reply_action(this.id)"><i class="archive icon"></i>Archive</a>
                                  <a class="dropdown-item comment_example_report" id="reply_report_32" onclick="post_comment_reply_action(this.id)"><i class="ban icon"></i>Report</a>
                                  <a class="dropdown-item comment_example_delete" id="reply_delete_32" onclick="post_comment_reply_action(this.id)"><i class="trash alternate icon"></i> Delete</a>

                                </div>
                            </div>
                            </span>
                            </div>
                    </div>
                  </div>
                </div>
                </div>
          </div>

<!-- Hiding Reply -->



<!-- Hiding Notification element  -->
<div id="Example_Notification" class="">
<!-- 2 id -->
<div class="mb-1 media list-group-item-action unchecked-notification rounded border border-light my-1 container-fluid" id="2">
<div class="ml-0 px-0">
    <div class="media-body my-3 mx-0">


              <div class="d-flex justify-content-start">
                <a class="cancela">


                        <img class="ui fluid avatar image  mr-1 example_action_user_profile_pic" src="">

                              <span>  <p class="notification-user-name example_action_username ">@guogbonn</p></span>
                    </a>
                    </div>
                    <a post_id="" type_note="" action_note="" notification_pk=""  notification_url="" onclick="notification_aknowledge(this)" class="cancela example-notification-place">

                  <div class="my-1 text-left container"> <p class="example-notification-action-statement" >liked your post: back onlinie</p></div>
                  <span class="text-right text-muted"><div class="d-flex justify-content-start"><p class="example-notification-time-posted mb-0">7&nbsp;minutes</p>  <p class="mb-0">  - </p>  <i class="eye icon mb-0"></i> </div>   </span>

              </a>

          </div>
    </div>
</div>
</div>


    <!--Hiding Notification element -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

<div class="hide_load_stopping_el">

</div>


<!-- modal for removing files  -->
<div class="modal fade" id="remove_file_pending_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header">
<button id="remove_file_pending_modal_button"  type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">
<div class="text-center">
  <h3>Are you sure you want to remove this File?</h3>
  <button onclick="close_remove_file_pending_modal()" class=" btn btn-primary btn-sm button-boder-radius button-overflow waves-effect waves-light ml-3  hoverable">Never Mind</button>
  <button id="remove_file_remove_button" onclick="remove_file(this)" delete_group_file_pk="" class=" btn btn-danger btn-sm button-boder-radius button-overflow waves-effect waves-light ml-3  hoverable">Remove File</button>
</div>
</div>
</div>
</div>
</div>
<!-- Side Modal Top Right -->

<!-- alert modal -->
  <!-- Modal -->

<!-- this function is to asertain which object the user interacted with
and upon doing so preloading the form with the correct data -->
<!-- this.attributes["name"].value
many to many list template django upto -->
<!-- {% for new in news|slice:":3" %} {%endfor%}-->
<!-- ///////////////////////////////////////////////////////////////////////////////////////////Do Not Touch -->

<script async>
  ///////////////////////////Zoom Section////////////////
  //when user clicks create meeting send a request to create zoom meeting
  function zoom_create_meeting() {
    // dislplay loading function
    dispalay_alert_footer_loader("loading zoom")

    $.ajaxSetup({
    data: {csrfmiddlewaretoken: '{{ csrf_token }}' },
    });

    $.ajax({
    type: "POST",
    url:"{% url 'core:group' slug=object.slug %}",
    data: {
    "create_zoom_meeting_username":"{{user}}"
    },
     dataType: "json", //have to add in the data type
    success: function (data) {
      dispalay_alert_footer("zoom meeting loaded")
      // open zoom
      //   popUp=window.open(data["start_url"]);
      //   // add red recoring sign to indicate the xoom meeting is in progress
      //   // let user know that their pop ups are blocked
      // if (popUp == null || typeof(popUp)=='undefined') {
      //     alert('Please disable your pop-up blocker for this site.');
      // }
      // else {  popUp.focus()
      // }
    }
    });
  }

  function zoom_add_existing_meeting() {
    // close modal
 $("#zoom_add_existing_meeting_close_modal").click()
    // message saying zoom is loading
  dispalay_alert_footer_loader("Loading Zoom")

    // Overview
    // get zoom url input to send to zoom page to join user to meeting //note the why is important
    //get the index of j because it indicates where meeting and password will be in url /j/950..
    // break up the url on th slash
    // get the meeting numbers
    //check to see if there is a password so we know if we should call the api or not
    zoom_meeting_url=document.getElementById("zoom_meeting_url").value
    j_index = zoom_meeting_url.indexOf("j")
    meeting_number = splitValue(zoom_meeting_url, j_index)
    meeting_number=meeting_number.split('/')
    // https://regex101.com/r/cL3rI3/2/codegen?language=javascript
    // get meeting number from url  stop on question mark
            const regex = /(\d+)(?=.*\?)/gm;
            const str = meeting_number;
            let m;
            var meeting_num
            while ((m = regex.exec(str)) !== null) {
                // This is necessary to avoid infinite loops with zero-width matches
                if (m.index === regex.lastIndex) {
                    regex.lastIndex++;
                }
                // The result can be accessed through the `m`-variable.
                m.forEach((match, groupIndex) => {
                    console.log(`Found match, group ${groupIndex}: ${match}`);
                    meeting_num=match
                });
            }

    //meeting number
    meeting_number =meeting_num
    if(typeof meeting_number === 'undefined') {
      meeting_number = splitValue(zoom_meeting_url, j_index)
      meeting_number=meeting_number.split('/')
      meeting_number = meeting_number[1]
    }
    console.log("meeting_number",meeting_number)
    // findout if there is a password in the url
    pwd_index = zoom_meeting_url.indexOf("pwd")
    // pwd index shows up as -1 if there is no pwd
    if (pwd_index != -1) {
        password = "true"
    }else {
        password = "false"
    }
    $.ajaxSetup({
    data: {csrfmiddlewaretoken: '{{ csrf_token }}' },
    });
    $.ajax({
    type: "POST",
    url:"{% url 'core:group' slug=object.slug %}",
    data: {
    "zoom_add_existing_meeting_number":meeting_number,
    "zoom_add_existing_meeting_password":password
    },
     dataType: "json", //have to add in the data type
    success: function (data) {
      //get rid of alert
      try {
        remove_alert_button()
      } catch (e) {
        console.log("no alert")
      }

    }
    });

  }
  function add_group_image() {
if (  document.getElementById('display_zoom_iframe')) {
      // get rid of
      document.getElementById('display_zoom_iframe').parentNode.removeChild( document.getElementById('display_zoom_iframe'));
      document.getElementById('active_zoom_meeting_info').parentNode.removeChild( document.getElementById('active_zoom_meeting_info'));
      // end zoom meeting button is not on members page
      if ( document.getElementById('end_zoom_meeting_button')) {
        document.getElementById('end_zoom_meeting_button').parentNode.removeChild( document.getElementById('end_zoom_meeting_button'));
      }
      // add picture to the container
      document.getElementById("jumbotron_iframe_container").insertAdjacentHTML('beforeEnd',  '<div id="jumbotron_group_picture" class=""><img src="{{object.group_picture.url}}" class="img-fluid group-cover-img pt-2" alt="Sample image" height="300px" width="100%"><a href="#"><div class="mask rgba-white-slight"></div></a></div>');
    }
    if (document.getElementById('autherize_zoom_button')) {
        document.getElementById('autherize_zoom_button').parentNode.removeChild( document.getElementById('autherize_zoom_button'));
    }
  }
  function add_iframe() {
    // get rid of group picture
    document.getElementById('jumbotron_group_picture').parentNode.removeChild( document.getElementById('jumbotron_group_picture'));
    //add zoom ifram  on members screen
    document.getElementById("jumbotron_iframe_container").insertAdjacentHTML('beforeEnd', '  <iframe id="display_zoom_iframe" class="" src="{{zoom_iframe_url}}" width="100%" height="300px" allowfullscreen="" frameborder="0"></iframe>');
    if (document.getElementById('autherize_zoom_button')) {
        document.getElementById('autherize_zoom_button').parentNode.removeChild( document.getElementById('autherize_zoom_button'));
    }
}
  function zoom_creator_close_meeting() {
    dispalay_alert_footer_loader("Closing Zoom Meeting")
  {% if current_user == object.creator %}
      $.ajaxSetup({
      data: {csrfmiddlewaretoken: '{{ csrf_token }}' },
      });
      $.ajax({
      type: "POST",
      url:"{% url 'core:group' slug=object.slug %}",
      data: {
      "close_zoom_meeting":"true"
      },
       dataType: "json", //have to add in the data type
      success: function (data) {
      }
      });
      // get rid of the autherization button
      if (document.getElementById('autherize_zoom_button')) {
          document.getElementById('autherize_zoom_button').parentNode.removeChild( document.getElementById('autherize_zoom_button'));
      }
      // group memeber
    {%else%}
      add_group_image();
    {%endif%}
  }

  //function to split url and get the second half
  function splitValue(value, index) {
    return value.substring(index);
}
  //iplementing infinite scrolling
    document.addEventListener("DOMContentLoaded", function(event) {
// infinite scroll files
    document.getElementById('group-files-scroll-content').addEventListener("scroll", function (event) {
        console.log("scrolling");
          group_alert_header=  document.getElementById('pills-files-tab')
      if (group_alert_header.attributes["aria-selected"].value == "true") {
       isScrolledToBottom = this.scrollHeight - this.clientHeight <= this.scrollTop + 1;

            if (isScrolledToBottom) {
              // get the last file
              // if there is no files there will be an error
              if (document.getElementById('stop_file_loading')) {
                console.log("stopping element")

                return
              }
                file_pk_att=document.getElementById("group-files-scroll-content").lastElementChild.attributes["file_pk"].value

                document.getElementById("group-files-scroll-content").insertAdjacentHTML('beforeEnd', '<div class="d-flex justify-content-center"><div class="spinner-grow" role="status"><span class="sr-only">Loading...</span></div><div class="spinner-grow" role="status"><span class="sr-only">Loading...</span></div><div class="spinner-grow" role="status"><span class="sr-only">Loading...</span></div></div>');
                    $.ajax({
                        url:"{% url 'core:group' slug=object.slug %}",

                        data: {
                          'group_infinite_file_scroll': file_pk_att
                        },
                         dataType: 'json', //have to add in the data type
                        success: function (data) {
                          document.getElementById("group-files-scroll-content").lastElementChild.parentNode.removeChild(document.getElementById("group-files-scroll-content").lastElementChild);
                          file_list = JSON.parse(data["file_list_collection"]);

                          if (data["get_more"] == "false") {
                            stop_file_loading_el = '<p style="display:none" id="stop_file_loading">'
                             document.getElementsByClassName('hide_load_stopping_el')[0].insertAdjacentHTML('beforeEnd',stop_file_loading_el );
                          }
                          if (file_list.length == 0) {
                            console.log("nothing element")

                            return
                          }
                          console.log(document.getElementById("group-files-scroll-content"))
                          for (var file_obj = 0; file_obj < file_list.length; file_obj++) {
                                     file_object=JSON.parse(file_list[file_obj])

                           if (file_object['user_profile_pic_url'] != "false") {
                             file_object['user_profile_pic_url'] = file_object['user_profile_pic_url']
                           }else {
                             file_object['user_profile_pic_url'] = " /static/img/default-profile-picture-gmail-2.png"
                           }
                           if (file_object['user_owns_file'] == "true") {
                             delete_button ='<button onclick="update_remove_file_modal(this)" data-toggle="modal" data-target="#remove_file_pending_modal" delete_group_file_pk="file_container'+file_object["file_pk"]+'" type="button" class="btn btn-danger btn-sm button-overflow button-boder-radius waves-effect waves-light">Remove File</button> '
                           }else {
                             delete_button ='<button style="display:none" onclick="remove_file(this)" delete_group_file_pk="file_container'+file_object["file_pk"]+'" type="button" class="btn btn-danger btn-sm button-overflow button-boder-radius waves-effect waves-light">Remove File</button> '
                           }
                          file_element='<div class="mb-1 media rounded border border-light list-group-item-action" id="file_container'+file_object["file_pk"]+'" file_pk="'+file_object["file_pk"]+'"><div class="ml-0 col-12"><div class="media-body my-2 "><div class="d-flex justify-content-between mb-2"><span><div class="d-flex justify-content-start"><span><div class=""> <a class="cancela"></a><div class=""><a class="cancela"></a><a href="'+file_object["user_profile_pic_url"]+'" class="cancela"><img class="ui fluid avatar image  mr-0" src="'+file_object["user_profile_pic_url"]+'"></a></div></div></span><span>  <div class="d-flex justify-content-start ml-1"><span>  <h4 class="mt-1">'+file_object["file_title"]+'</h4></span></div></span></div></span><span class="text-right text-muted"> <div class="d-flex justify-content-end"><p> '+file_object["file_date_created"]+'</p></div> </span></div><div class=""><h5 class="mt-1">File Description:</h5><a href="#" class="cancela"><div class="mb-2"> '+file_object["file_description"]+'</div>  <div class="my-1"><strong>'+file_object["file_name"]+'</strong> </div></a><div class="d-flex justify-content-center  "><button onclick="preview_file(this)" file_url="'+file_object["file_url"]+'" data-toggle="modal" data-target="#file_modal_preview" data-whatever="@mdo" class="btn btn-primary btn-sm button-overflow button-boder-radius waves-effect waves-light">Preview File</button><a href="'+file_object["file_url"]+'" class=" btn payment btn-sm button-overflow button-boder-radius waves-effect waves-light" download>Download</a> '+delete_button+'</div></div></div>  </div></div>'
                          document.getElementById("group-files-scroll-content").insertAdjacentHTML('beforeEnd', file_element);
                        }  }  })  }  }  })
                      })
  </script>
<script async>
function load_user_likes(e) {
  load_user_likes_s = e.attributes["like"].value
  $.ajax({
      url:"{% url 'core:group' slug=object.slug %}",
      data: {
        'load_user_likes': load_user_likes_s,
      },
       dataType: 'json', //have to add in the data type
      success: function (data) {
        document.getElementById('like_list_user_modal_contents').innerHTML=''
        comment_list = JSON.parse(data["like_users"]);
         for (var commment_num_loop = 0; commment_num_loop < comment_list.length; commment_num_loop++) {
                    user=JSON.parse(comment_list[commment_num_loop])

                    if (user["user_profile_pic_url_post"] == "false") {
                    user["user_profile_pic_url_post"] =  " /static/img/default-profile-picture-gmail-2.png"
                    }
                    if ( user["following"] != "false") {
                    like_tag_element  ='<div class="col-10 mb-1 media list-group-item-action rounded border border-light my-1 container-fluid" id="2"><div class="media-body my-3  d-flex justify-content-between"><a href="" class="cancela d-flex justify-content-start"> <img class="ui fluid avatar image  mr-1"  src=" '+  user["user_profile_pic_url_post"]+'" >   <span>  <p class="notification-user-name mt-2" >@'+  user["username"]+ '</p></span></a><button class="btn btn-primary btn-sm ml-4 float-right">Follow</button></div></div>'
                    document.getElementById('like_list_user_modal_contents').insertAdjacentHTML('afterbegin',like_tag_element)
                    }
                    else {
                      like_tag_element  ='<div class="col-10 mb-1 media list-group-item-action rounded border border-light my-1 container-fluid" id="2"><div class="media-body my-3  d-flex justify-content-between"><a href="" class="cancela d-flex justify-content-start"> <img class="ui fluid avatar image  mr-1"  src=" '+  user["user_profile_pic_url_post"]+'" >   <span>  <p class="notification-user-name mt-2" >@'+  user["username"]+ '</p></span></a></div></div>'
                      document.getElementById('like_list_user_modal_contents').insertAdjacentHTML('afterbegin',like_tag_element)
                    }
                  }
      }
  });
}
  // Material Select Initialization
  function load_more_comments(e) {
    // get the earliest comment
      //get the post id
      dispalay_alert_footer_loader("Loading Comments")

      post_id = e.attributes["post_id"].value
      //get the collapse element
      post_collapse_feild = "collapseOne" + post_id
      //grap earliest comment element
      last_comment= document.getElementById(post_collapse_feild).getElementsByTagName('div')[1]
      //get comment id
        word= last_comment.id
        // replayce none ints with  ''
      last_comment_id = word.replace(/^\D+/g, '');
      //send in ajax earliest commment id and the current post id
      $.ajax({
          url:"{% url 'core:group' slug=object.slug %}",
          data: {
            'load_more_comments_post_id': post_id,
            'load_more_comments_last_comment_id': last_comment_id,
          },
           dataType: 'json', //have to add in the data type
          success: function (data) {
            dispalay_alert_footer("Comments Loaded")
            comment_list = JSON.parse(data["comment_list"]);
             for (var commment_num_loop = 0; commment_num_loop < comment_list.length; commment_num_loop++) {
                        comment_object=JSON.parse(comment_list[commment_num_loop])
                          //delete Alert footer
                          users_post = "{{user}}"
                        if (users_post == comment_object['user_name_post']) {
                          remove_alert_button()
                        }
                         //Clear out the files
                          for (var i = 1; i < 5; i++) {
                          photo_space_id = "comment_image_field_" + i.toString()
                          post_photo_clear =document.getElementById(photo_space_id);
                          delete_uploaded_img_after_post(post_photo_clear)
                          }
                        //make sure the dropdown icon on the post is showing
                        class_name="post_dropdown_icon"+comment_object['current_post_id']
                        post_dropdown_icon_v = document.getElementsByClassName(class_name)[0]
                        // console.log(post_dropdown_icon_v,"dropdown icon")
                        post_dropdown_icon_v.style.display = "block";
                        post_dropdown_icon_v.setAttribute("data-target", "#collapseOne" + comment_object['current_post_id'] );
                        post_dropdown_icon_v.setAttribute("aria-controls", "collapseOne"+ comment_object['current_post_id'] );
                        //get the element we want to store the comment in
                        post_comment_reply_container_variable="post_comment_reply_container"+ comment_object['current_post_id']
                        var element_to_store_post = document.getElementsByClassName(post_comment_reply_container_variable)[0];
                      // console.log(element_to_store_post);
                      //Section get the template example comment and generate the starter comment
                        //get element to store post in progress
                        hiding_container=document.getElementById('hiding_container')
                        // get the example comment,
                        original_template=document.getElementById('EampleComment')
                        //cloning the example comment
                        clone = original_template.cloneNode(true);
                        //change the id to temporary id
                        clone.id = "in_progress_comment";
                        try {
                          //place post_clone in hiding container
                          hiding_container.appendChild(clone);
                        } catch (e) {
                        }
                        //Section populate the comment
                          //clone post
                          in_progress_comment = document.getElementById(clone.id)
                        //changing the main container id
                        comment_main_continer= in_progress_comment.getElementsByClassName('example_comment_main_container')[0]
                        comment_main_continer.id = "C"+ comment_object['user_name_post'] + comment_object['post_id'].toString()
                        //changing the profile img to author of the comment
                        if (comment_object['user_profile_pic_url_post'] != "false") {
                          author_image= in_progress_comment.getElementsByClassName('user-image-comment-example')[0]
                          author_image.src = comment_object['user_profile_pic_url_post']
                        }else {
                          author_image= in_progress_comment.getElementsByClassName('user-image-comment-example')[0]
                          author_image.src = " /static/img/default-profile-picture-gmail-2.png"
                        }
                        //chaning the author name for comment
                        author_name_post = in_progress_comment.getElementsByClassName('comment-author-name')[0]
                        author_name_post.textContent = '@'+ comment_object['user_name_post']
                        //chaning the time   for comment
                        time_posted_post = in_progress_comment.getElementsByClassName('comment-time-posted')[0]
                        time_posted_post.textContent = comment_object['time_published_post']
                          //Section is for changing the comment content
                          comment_content= in_progress_comment.getElementsByClassName('comment-content-example')[0]
                          comment_content.textContent = comment_object['content_post']
                          //Section for adding pictures
                          //if no pics delete the container where pics should go
                          if (comment_object['url_of_photo_id_post'] == 'false'){
                              post_pic_container_example= in_progress_comment.getElementsByClassName('comment-pic-container-example')[0]
                              post_pic_container_example.parentNode.removeChild(post_pic_container_example);
                              // console.log("done with pics");
                          }else {
                            //get the length of the array it's always going to be even and url is the even number
                            post_stock_list_lenght = comment_object['url_of_photo_id_post'].length
                            // repeat for every element in stock_list array
                                  for (var i = 0; i <  post_stock_list_lenght; i++) {
                                            if (i % 2 == 0) {
                                              //on even
                                              //get element to store img in
                                              if (i>3) {
                                                pic_container_post = in_progress_comment.getElementsByClassName('comment_pic_container_post_example2')[0]
                                                // get inmg example,
                                              }else {
                                                pic_container_post = in_progress_comment.getElementsByClassName('pic_container_comment_example')[0]
                                                // get inmg example,
                                              }
                                              image_example_post = in_progress_comment.getElementsByClassName('img-example-comment')[0]
                                              //cloning the image example
                                              // console.log(image_example_post);
                                              clone = image_example_post.cloneNode(true);
                                              //change the id of clone to temporary id
                                              //convert post_id to string
                                              clone.id = "post_pic_temp"
                                              try {
                                                //place post in container
                                                  pic_container_post.appendChild(clone);
                                                  //referenceNode.parentNode.insertBefore(clone, stock_tag_post);
                                                  } catch (e) {
                                                    // console.log("could not create img");
                                                  }
                                            //get the generatred img
                                            clone=document.getElementById(clone.id)
                                             photo_url = comment_object['url_of_photo_id_post'][i]
                                            clone.src = photo_url
                                            // console.log(comment_object['url_of_photo_id_post'][i])
                                            }else {
                                            clone.id = "comment_pic_"+comment_object['url_of_photo_id_post'][i]
                                              // console.log(clone)
                                            }
                                  }
                                  //remove the example element after we are done with the for loop
                                  image_example_post = in_progress_comment.getElementsByClassName('img-example-comment')[0]
                                  image_example_post.parentNode.removeChild(image_example_post);
                                    // console.log("done with pics");
                                    post_pic_container_example= in_progress_comment.getElementsByClassName('comment-pic-container-example')[0]
                          }
                          ///End picture
                          //Section is for adding recipients
                            //if there is recipients with the post get rid of the recipients container
                            if (comment_object['reicpients_name_url_post'] == 'false') {
                              //get rid of recipient container
                              recipient_container_post = in_progress_comment.getElementsByClassName('example-recipient-container')[0]
                              recipient_container_post.parentNode.removeChild(recipient_container_post);
                              // console.log("done with recipients")
                            }
                            else {
                                    //get the length of the array it's always going to be even and url is the even number
                                    post_recipient_list_lenght = comment_object['reicpients_name_url_post'].length
                                    // repeat for every element in post_recipient_list_lenght
                                    for (var i = 0; i <  post_recipient_list_lenght; i++) {
                                      //every other perfom an action if runs on 0
                                          if (i % 2 == 0) {
                                            //on even
                                            //get element to store recipient-tag in
                                            recipient_container_post = in_progress_comment.getElementsByClassName('example-recipient-container')[0]
                                            // get recipient tag,
                                            recipient_tag_post = in_progress_comment.getElementsByClassName('recipient-tag-post')[0]
                                            //cloning the recipient tag post
                                            clone = recipient_tag_post.cloneNode(true);
                                            //change the id of clone to temporary id
                                            //convert post_id to string
                                             clone_recipient_id = comment_object['post_id'].toString()
                                            clone.id = comment_object['reicpients_name_url_post'][i]+clone_recipient_id+"post"
                                            try {
                                              //place recipient tag in container
                                                recipient_container_post.appendChild(clone);
                                                } catch (e) {
                                                  // console.log("could not create post");
                                                }
                                                //get the generatred recipients tag
                                                clone=document.getElementById(clone.id)
                                                // change the p tag to the name of the recipients
                                                clone.getElementsByTagName('p')[0].textContent= comment_object['reicpients_name_url_post'][i]
                                                // console.log(clone);
                                                // console.log(post_object['reicpients_name_url_post'][i]);
                                          }
                                          else {
                                            // on odds
                                            //get the genereated recipients tack change the href
                                            clone.href = comment_object['reicpients_name_url_post'][i]
                                              }
                                    }
                                    //remove the example element after we are done with the for loop
                                  recipient_tag_post = in_progress_comment.getElementsByClassName('recipient-tag-post')[0];
                                    recipient_tag_post.parentNode.removeChild(recipient_tag_post);
                                    // console.log("done with recipients")
                            }
                            //End creating recipients
                            //Section populating like button
                            post_like_button= in_progress_comment.getElementsByClassName('comment_example_like')[0];
                            post_like_button.id = "comment_like_" + comment_object['post_id']
                            //Section is for post_like statement container
                            post_container_elm_ex= in_progress_comment.getElementsByClassName('comment_like_container')[0];
                            post_container_elm_ex.id = "comment_like_container_"+comment_object['post_id']
                            //Section populating comment button
                            post_comment_button= in_progress_comment.getElementsByClassName('comment_example_comment')[0];
                            post_comment_button.id =  comment_object['post_id'].toString()
                            post_comment_button.setAttribute("comment_display","C"+comment_object['user_name_post']+ comment_object['post_id'].toString());
                            post_comment_button.setAttribute("postid",comment_object['current_post_id'] );
                            //Section populating archive
                            post_archive_button= in_progress_comment.getElementsByClassName('comment_example_archive')[0];
                            post_archive_button.id = "comment_archive_" + comment_object['post_id']
                            //Section populating report
                            post_report_button= in_progress_comment.getElementsByClassName('comment_example_report')[0];
                            post_report_button.id = "comment_report_" + comment_object['post_id']
                            //Section populating delete
                            if ("True"=="{{admin}}" || "{{user}}" == comment_object['user_name_post'] || "{{moderator}}"=="True") {
                              post_delete_button= in_progress_comment.getElementsByClassName('comment_example_delete')[0];
                              post_delete_button.id = "comment_delete_" + comment_object['post_id']
                            }else {
                                post_delete_button= in_progress_comment.getElementsByClassName('comment_example_delete')[0];
                                post_delete_button.parentNode.removeChild(post_delete_button);
                            }
                            //Getting Reply container ready
                            reply_container= in_progress_comment.getElementsByClassName('reply_example_container')[0];
                            reply_container.id = "comment_reply_container"+ comment_object['post_id']
                            //Section is for inserting  new post into dom
                                // get the post we have been generating,
                                in_progress_comment=document.getElementById('in_progress_comment')
                                //cloning the  post
                                clone = in_progress_comment.cloneNode(true);
                                //change the id to temporary id
                                clone.id = "Comment"+ comment_object['post_id'];
                                try {
                                  //insert the commennt at the top
                                  // element_to_store_post.appendChild(clone);
                                   element_to_store_post.insertBefore(clone, element_to_store_post.getElementsByTagName('div')[1]);
                                  //insert final post into the dom
                                      //remove pelimnary commonet
                                    in_progress_comment.parentNode.removeChild(in_progress_comment);
                                      // console.log("No previous post")
                                } catch (e) {
                                  //in case there was an error due to no first child
                                  element_to_store_post.appendChild(clone);
                                  in_progress_comment.parentNode.removeChild(in_progress_comment);
                                }
                                // add like count to the comment
                                  like = "comment_like_" +comment_object['post_id'].toString()
                                  document.getElementById(like).textContent = comment_object['comment_like'].toString()
                                  // add reply loader
                                  comment_loader ='<div id="load_reply'+comment_object['current_post_id']+'" class="d-flex justify-content-center"><a  onclick="load_more_replys(this)" post_id="'+comment_object['current_post_id']+'" comment_id="'+comment_object['post_id']+'" class=" grey-text"><strong>-Load More-</strong></a></div>'
                                  reply_container="comment_reply_container"+ comment_object['post_id']
                                  if (comment_object['reply']== "true") {
                                    document.getElementById(reply_container).insertAdjacentHTML('afterbegin',comment_loader)
                                  }
                                  if (comment_object['comment_like_user'] != "false") {
                                    //add new statement
                                    like_element_container = 'comment_like_container_'+comment_object['post_id']
                                    like_element_container=document.getElementById(like_element_container)
                                    post_like_statement_el = '<a id="comment_like_statement_'+comment_object['post_id']+'" onclick="load_user_likes(this)" like="comment_'+comment_object['post_id']+'" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Liked by: <strong>'+comment_object['comment_like_user']+'</strong>   </small></a>'
                                    like_element_container.insertAdjacentHTML('beforeEnd', post_like_statement_el);
                                  }
            ////end of view_group_comment
          }
              if (data["get_more"] == "false") {
                e.style.display = "none"
              }
          }
      });
  }
  function load_more_replys(e) {
    // get the earliest comment
    dispalay_alert_footer_loader("Loading Comments")
      //get the post id
      post_id = e.attributes["post_id"].value
      // get comment id
      comment_id = e.attributes["comment_id"].value
      //get the collapse element
      comment_reply_feild = "comment_reply_container" + comment_id
      //grap earliest comment element
      try {
        // when we have loaded previous comment history we don't have a second child
        last_reply= document.getElementById(comment_reply_feild).getElementsByTagName('div')[1]
        //get reply id
            if (last_reply ==undefined ) {
                last_reply_id = 0
            }else {
                word= last_reply.id
                  // replayce none ints with  ''
                last_reply_id = word.replace(/^\D+/g, '');
            }
      } catch (e) {
        last_reply_id = 0
      }
      //send in ajax earliest commment id and the current post id
      $.ajax({
          url:"{% url 'core:group' slug=object.slug %}",
          data: {
            'load_more_replys_post_id': post_id,
            'load_more_replys_comment_id':comment_id,
            'load_more_replys_reply_id':last_reply_id
          },
           dataType: 'json', //have to add in the data type
          success: function (data) {
            dispalay_alert_footer("Comments Loaded")
            comment_list = JSON.parse(data["comment_list"]);
             for (var commment_num_loop = 0; commment_num_loop < comment_list.length; commment_num_loop++) {
                        reply_object=JSON.parse(comment_list[commment_num_loop])
                              users_post = "{{user}}"
                            if (users_post == reply_object['user_name_post']) {
                              remove_alert_button()
                            }
                          //get the element we want to store the comment in
                          post_comment_reply_container_variable="comment_reply_container"+ reply_object['current_comment_id']
                          var element_to_store_post = document.getElementById(post_comment_reply_container_variable);
                          //Section get the template example comment and generate the starter comment
                            //get element to store post in progress
                            hiding_container=document.getElementById('hiding_container')
                            // get the example comment,
                            original_template=document.getElementById('EampleReply')
                            //cloning the example comment
                            clone = original_template.cloneNode(true);
                            //change the id to temporary id
                            clone.id = "in_progress_reply";
                            try {
                              //place post_clone in hiding container
                              hiding_container.appendChild(clone);
                            } catch (e) {
                            }
                            //Section populate the comment
                              //clone post
                              in_progress_comment = document.getElementById(clone.id)
                              // console.log(in_progress_comment,"comment clone")
                            //changing the main container id
                            comment_main_continer= in_progress_comment.getElementsByClassName('example_comment_main_container')[0]
                            comment_main_continer.id = "R"+ reply_object['user_name_post'] + reply_object['post_id'].toString()
                            // console.log("made it this far1")
                            //changing the profile img to author of the comment
                            if (reply_object['user_profile_pic_url_post'] != "false") {
                              author_image= in_progress_comment.getElementsByClassName('user-image-comment-example')[0]
                              author_image.src = reply_object['user_profile_pic_url_post']
                            }else {
                              author_image= in_progress_comment.getElementsByClassName('user-image-comment-example')[0]
                              author_image.src = " /static/img/default-profile-picture-gmail-2.png"
                            }
                            //chaning the author name for comment
                            author_name_post = in_progress_comment.getElementsByClassName('comment-author-name')[0]
                            author_name_post.textContent = '@'+ reply_object['user_name_post']
                            //chaning the time   for comment
                            time_posted_post = in_progress_comment.getElementsByClassName('comment-time-posted')[0]
                            time_posted_post.textContent = reply_object['time_published_post']
                            // console.log("made it this far2")
                              //Section is for changing the comment content
                              comment_content= in_progress_comment.getElementsByClassName('comment-content-example')[0]
                              comment_content.textContent = reply_object['content_post']
                              //Section for adding pictures
                              //if no pics delete the container where pics should go
                              if (reply_object['url_of_photo_id_post'] == 'false'){
                                  post_pic_container_example= in_progress_comment.getElementsByClassName('comment-pic-container-example')[0]
                                  post_pic_container_example.parentNode.removeChild(post_pic_container_example);
                                  // console.log("done with pics");
                              }else {
                                //get the length of the array it's always going to be even and url is the even number
                                post_stock_list_lenght = reply_object['url_of_photo_id_post'].length
                                // repeat for every element in stock_list array
                                      for (var i = 0; i <  post_stock_list_lenght; i++) {
                                                if (i % 2 == 0) {
                                                  //on even
                                                  //get element to store img in
                                                  if (i>3) {
                                                    pic_container_post = in_progress_comment.getElementsByClassName('comment_pic_container_post_example2')[0]
                                                    // get inmg example,
                                                  }else {
                                                    pic_container_post = in_progress_comment.getElementsByClassName('pic_container_comment_example')[0]
                                                    // get inmg example,
                                                  }
                                                  image_example_post = in_progress_comment.getElementsByClassName('img-example-comment')[0]
                                                  //cloning the image example
                                                  console.log(image_example_post);
                                                  clone = image_example_post.cloneNode(true);
                                                  //change the id of clone to temporary id
                                                  //convert post_id to string
                                                  clone.id = "post_pic_temp"
                                                  try {
                                                    //place post in container
                                                      pic_container_post.appendChild(clone);
                                                      //referenceNode.parentNode.insertBefore(clone, stock_tag_post);
                                                      } catch (e) {
                                                        // console.log("could not create img");
                                                      }
                                                //get the generatred img
                                                clone=document.getElementById(clone.id)
                                                 photo_url = reply_object['url_of_photo_id_post'][i]
                                                clone.src = photo_url
                                                // console.log(reply_object['url_of_photo_id_post'][i])
                                                }else {
                                                clone.id = "reply_pic_"+reply_object['url_of_photo_id_post'][i]
                                                  // console.log(clone)
                                                }
                                      }
                                      //remove the example element after we are done with the for loop
                                      image_example_post = in_progress_comment.getElementsByClassName('img-example-comment')[0]
                                      image_example_post.parentNode.removeChild(image_example_post);
                                        // console.log("done with pics");
                                        post_pic_container_example= in_progress_comment.getElementsByClassName('comment-pic-container-example')[0]
                              }
                              ///End picture
                              //Section is for adding recipients
                                //if there is recipients with the post get rid of the recipients container
                                if (reply_object['reicpients_name_url_post'] == 'false') {
                                  //get rid of recipient container
                                  recipient_container_post = in_progress_comment.getElementsByClassName('example-recipient-container')[0]
                                  recipient_container_post.parentNode.removeChild(recipient_container_post);
                                  // console.log("done with recipients")
                                }
                                else {
                                        //get the length of the array it's always going to be even and url is the even number
                                        post_recipient_list_lenght = reply_object['reicpients_name_url_post'].length
                                        // repeat for every element in post_recipient_list_lenght
                                        for (var i = 0; i <  post_recipient_list_lenght; i++) {
                                          //every other perfom an action if runs on 0
                                              if (i % 2 == 0) {
                                                //on even
                                                //get element to store recipient-tag in
                                                recipient_container_post = in_progress_comment.getElementsByClassName('example-recipient-container')[0]
                                                // get recipient tag,
                                                recipient_tag_post = in_progress_comment.getElementsByClassName('recipient-tag-post')[0]
                                                //cloning the recipient tag post
                                                clone = recipient_tag_post.cloneNode(true);
                                                //change the id of clone to temporary id
                                                //convert post_id to string
                                                 clone_recipient_id = reply_object['post_id'].toString()
                                                clone.id = reply_object['reicpients_name_url_post'][i]+clone_recipient_id+"post"
                                                try {
                                                  //place recipient tag in container
                                                    recipient_container_post.appendChild(clone);
                                                    } catch (e) {
                                                      // console.log("could not create post");
                                                    }
                                                    //get the generatred recipients tag
                                                    clone=document.getElementById(clone.id)
                                                    // change the p tag to the name of the recipients
                                                    clone.getElementsByTagName('p')[0].textContent= reply_object['reicpients_name_url_post'][i]
                                                    // console.log(clone);
                                                    // console.log(post_object['reicpients_name_url_post'][i]);
                                              }
                                              else {
                                                // on odds
                                                //get the genereated recipients tack change the href
                                                clone.href = reply_object['reicpients_name_url_post'][i]
                                                  }
                                        }
                                        //remove the example element after we are done with the for loop
                                      recipient_tag_post = in_progress_comment.getElementsByClassName('recipient-tag-post')[0];
                                        recipient_tag_post.parentNode.removeChild(recipient_tag_post);
                                        // console.log("done with recipients")
                                }
                                //End creating recipients
                                //Section populating like button
                                post_like_button= in_progress_comment.getElementsByClassName('comment_example_like')[0];
                                post_like_button.id = "reply_like_" + reply_object['post_id']
                                //Section is for post_like statement container
                                post_container_elm_ex= in_progress_comment.getElementsByClassName('reply_like_container')[0];
                                post_container_elm_ex.id = "reply_like_container_"+reply_object['post_id']
                                //Section populating comment button
                                post_comment_button= in_progress_comment.getElementsByClassName('comment_example_comment')[0];
                                post_comment_button.id =  reply_object['current_comment_id'].toString()
                                post_comment_button.setAttribute("comment_display","R"+reply_object['user_name_post']+ reply_object['post_id'].toString());
                                post_comment_button.setAttribute("postid",reply_object['current_post_id'] );
                                //Section populating archive
                                post_archive_button= in_progress_comment.getElementsByClassName('comment_example_archive')[0];
                                post_archive_button.id = "reply_archive_" + reply_object['post_id']
                                //Section populating report
                                post_report_button= in_progress_comment.getElementsByClassName('comment_example_report')[0];
                                post_report_button.id = "reply_report_" + reply_object['post_id']
                                //Section populating delete
                                if ("True"=="{{admin}}" || "{{user}}" == reply_object['user_name_post'] || "{{moderator}}"=="True") {
                                  post_delete_button= in_progress_comment.getElementsByClassName('comment_example_delete')[0];
                                  post_delete_button.id = "reply_delete_" + reply_object['post_id']
                                }else {
                                    post_delete_button= in_progress_comment.getElementsByClassName('comment_example_delete')[0];
                                    post_delete_button.parentNode.removeChild(post_delete_button);
                                }
                                //Section is for inserting  new post into dom
                                    // get the post we have been generating,
                                    in_progress_comment=document.getElementById('in_progress_reply')
                                    //cloning the  post
                                    console.log(in_progress_comment);
                                    clone = in_progress_comment.cloneNode(true);
                                    //change the id to temporary id
                                    clone.id = "Reply"+ reply_object['post_id'];
                                    try {
                                       element_to_store_post.insertBefore(clone, element_to_store_post.getElementsByTagName('div')[1]);
                                        in_progress_comment.parentNode.removeChild(in_progress_comment);
                                          console.log("No previous post")
                                    } catch (e) {
                                      element_to_store_post.appendChild(clone);
                                      in_progress_comment.parentNode.removeChild(in_progress_comment);
                                    }
                                    like = "reply_like_" +reply_object['post_id'].toString()
                                    document.getElementById(like).textContent = reply_object['comment_like'].toString()
                                    if (reply_object['comment_like_user'] != "false") {
                                      //add new statement
                                      like_element_container = 'reply_like_container_'+reply_object['post_id']
                                      like_element_container=document.getElementById(like_element_container)
                                      post_like_statement_el = '<a id="reply_like_statement_'+reply_object['post_id']+'" onclick="load_user_likes(this)" like="reply_'+reply_object['post_id']+'" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Liked by: <strong>'+reply_object['comment_like_user']+'</strong>   </small></a>'
                                      like_element_container.insertAdjacentHTML('beforeEnd', post_like_statement_el);
                                    }
                        ////end of view_group_reply
          }
              if (data["get_more"] == "false") {
                e.style.display = "none"
              }
          }
      });
  }
  </script>
<!-- for getting the values nessesary into the forms for posting -->
<script async type="text/javascript">
  //iplementing infinite scrolling
    document.addEventListener("DOMContentLoaded", function(event) {
    var infinite = new Waypoint.Infinite({
      element: $('.infinite-container')[0],
      onBeforePageLoad: function () {
        $('.loading').show();
        console.log('infinite activated')
        if (document.getElementById('pills-profile-tab').attributes["aria-selected"].value != "true") {
          return
        }
      },
      onAfterPageLoad: function ($items) {
        $('.loading').hide();
      }
    });
    // Material Select Initialization
    $(document).ready(function() {
    $('.mdb-select').materialSelect();
    });
    });
  </script>
  <script async>
    function close_Leave_Group_Modal() {
      document.getElementById('Leave_Group_Modal_button').click()
    }
//function is redirect user away from the group page after they have chosen to leave
  function leave_group_confirm() {
    document.getElementById('leave_group_input').value = "true"
    formData = new FormData(document.getElementById('leave_group_form'));
    $.ajax({
        url:"{% url 'core:group' slug=object.slug %}",
        type: 'POST',
        data: formData,
        success: function (data) {
          chatSocket.send(JSON.stringify({
            //Section to user manually leaving group
             'user_username':"{{user}}",
             'user_leave_manually':"true",
          }));
          // redirect user
          //user cannot go back to page
        var pathArray = "{{ request.build_absolute_uri }}".split( '/' );
        var protocol = pathArray[0];
        var host = pathArray[2];
        var url = protocol + '//' + host + "{% url 'core:user_dashboard'%}"
        window.location.replace(url);
        },
        cache: false,
        contentType: false,
        processData: false
    });
  }
//Function is for redirecting kicked user after they have been notified
document.getElementById("aknowledge_kicked_from_group_button").addEventListener("click", function(){
    setTimeout(function(){
      redirect_user_after_kicked()
    }, 3000);
});
function populate_similiar_group_modal(e) {
slug = e.attributes["slug"].value
$.ajax({
    url:"{% url 'core:group' slug=object.slug %}",
    data: {
      'similar_group_slug': slug
    },
     dataType: 'json', //have to add in the data type
    success: function (data) {
      //open modal
      document.getElementById('Similar_Groups_modal_open_button').click()
      //modal element where content is stored
      modal_content =document.getElementById('Similar_Groups_modal_contents')
      // remove all prior content from the modal
      modal_content.innerHTML = ''
      header='<div class="text-center mb-3"><h3>'+data["group_title"]+'</h3></div>'
      description = '<div class="text-center mb-3"><p>'+data["group_description"]+'<p></div>'
      content = '<div class="row"><div class="col-6">'+data["value_proposition"]+'</div><div class="col-6 text-right"> '+data["rules_guidlines"]+'</div></div>'
      html_content = header+description+content
      modal_content.insertAdjacentHTML('afterBegin', html_content);
    }
});
}
</script>
  <script async>
    //https://stackoverflow.com/questions/10899384/uploading-both-data-and-files-in-one-form-using-ajax
    //post submission
    $("form#data").submit(function(e) {
  e.preventDefault();
  var formData = new FormData(this);
dispalay_alert_footer_loader("Sending Post...")
  $.ajax({
      url:"{% url 'core:group' slug=object.slug %}",
      type: 'POST',
      data: formData,
      success: function (data) {
        //put a function that waits for a set time then sends if this does not work
        if (data["created_post_false"] == "false") {
        dispalay_alert_footer("You just posted that...")
        }else {
          //Send notification for post mentioning users
          site = "{{ request.build_absolute_uri }}"
          site=site.replace(/\/$/, "");
          console.log(data["list_of_recipients"])
          if (data["list_of_recipients"] != 'null') {
                  chatSocket.send(JSON.stringify({
                    //Section to
                     'post_comment_reply_mention':"post_"+data["post_id"],
                     'user_username':"{{user}}",
                     'notification_url': site,
                     'list_of_recipients_notifiction':data["list_of_recipients"],
                  }));
          }
        }
      },
      cache: false,
      contentType: false,
      processData: false
  });
});
    //alert submission
    $("form#alert_form").submit(function(e) {
e.preventDefault();
var formData = new FormData(this);
dispalay_alert_footer_loader("Sending Alert!")
        //close the modal
        try {
            $('#modal_alert_button').click()
        } catch (e) {}
$.ajax({
  url:"{% url 'core:group' slug=object.slug %}",
  type: 'POST',
  data: formData,
  success: function (data) {
    $('#alert2').val(' ')
    $('#modal_alert_button').click()
    site = "{{ request.build_absolute_uri }}"
    site=site.replace(/\/$/, "");
    chatSocket.send(JSON.stringify({
      //Section to
       'post_comment_reply_mention':"alert_"+data["post_id"],
       'user_username':"{{user}}",
       'notification_url': site,
       'list_of_recipients_notifiction':'alert',
    }));
  },
  cache: false,
  contentType: false,
  processData: false
});
});
//https://stackoverflow.com/questions/10899384/uploading-both-data-and-files-in-one-form-using-ajax
//comment submission
$("form#data2").submit(function(e) {
e.preventDefault();
var formData = new FormData(this);
$("#comment_close_modal").click()
dispalay_alert_footer_loader("Sending Comment...")
$.ajax({
  url:"{% url 'core:group' slug=object.slug %}",
  type: 'POST',
  data: formData,
  success: function (data) {
    if (data["created_post_false"] == "false") {
dispalay_alert_footer("You just posted that")
    }else {
      site = "{{ request.build_absolute_uri }}"
      site=site.replace(/\/$/, "");
      console.log(data["list_of_recipients"])
      if (data["list_of_recipients"] != 'null') {
              chatSocket.send(JSON.stringify({
                //Section to
                 'post_comment_reply_mention':"comment_"+data["post_id"],
                 'user_username':"{{user}}",
                 'notification_url': site,
                 'list_of_recipients_notifiction':data["list_of_recipients"],
              }));
      }
    }
  },
  cache: false,
  contentType: false,
  processData: false
});
});
//https://stackoverflow.com/questions/10899384/uploading-both-data-and-files-in-one-form-using-ajax
//reply submission
$("form#data3").submit(function(e) {
e.preventDefault();
var formData = new FormData(this);
  $("#reply_close_modal").click()
dispalay_alert_footer_loader("Sending Comment...")
$.ajax({
  url:"{% url 'core:group' slug=object.slug %}",
  type: 'POST',
  data: formData,
  success: function (data) {
    if (data["created_post_false"] == "false") {
dispalay_alert_footer("You just posted that...")
    }else {
      site = "{{ request.build_absolute_uri }}"
      site=site.replace(/\/$/, "");
      console.log(data["list_of_recipients"])
      if (data["list_of_recipients"] != 'null') {
              chatSocket.send(JSON.stringify({
                //Section to
                 'post_comment_reply_mention':"reply_"+data["post_id"],
                 'user_username':"{{user}}",
                 'notification_url': site,
                 'list_of_recipients_notifiction':data["list_of_recipients"],
              }));
      }
    }
  },
  cache: false,
  contentType: false,
  processData: false
});
});
    </script>
<script async>
//notes to create function
  //click on tab
  // take me to the post that was just posted
    // get element from url
    //go to the element
    //goes to the post of
    //when someone makes a post they are sent back the page with the id attached to the url
    //I use that to show the user their post
    document.addEventListener("DOMContentLoaded", function(event) {
      //https://stackoverflow.com/questions/799981/document-ready-equivalent-without-jquery
      var currentURL = window.location.href;
      currentURL = currentURL.split("#");
      currentURL = currentURL[1]
      post = document.getElementById(currentURL)
      document.getElementById("pills-profile-tab").click()
      //reset alert header
        group_alert_header=  document.getElementById('pills-home-tab')
        group_alert_header.attributes["aria-selected"].value='false'
      try{
        post.scrollIntoView();
        console.log(currentURL)
      }catch(err){
      }
});
//https://stackoverflow.com/questions/857618/javascript-how-to-extract-filename-from-a-file-input-control
//
//When the group file image is clicked click on the actual file button
$('#upload_file_button').click(function(){
  $('#file_modal_form_file').click()
})
//https://stackoverflow.com/questions/857618/javascript-how-to-extract-filename-from-a-file-input-control
function readURL_file(input) {
           if (input.files && input.files[0]) {
               var reader = new FileReader();
               reader.onload = function (e) {
                  //getting the name of the uploaded file
                    var fullPath = document.getElementById('file_modal_form_file').value;
                        if (fullPath) {
                            var startIndex = (fullPath.indexOf('\\') >= 0 ? fullPath.lastIndexOf('\\') : fullPath.lastIndexOf('/'));
                            var filename = fullPath.substring(startIndex);
                            if (filename.indexOf('\\') === 0 || filename.indexOf('/') === 0) {
                                filename = filename.substring(1);
                            }
                        }
                            // display the file name inside the modal
                            file_element = $('#div_containing_file_name')
                            $('#div_containing_file_name').text(filename)
                            // upload the the file to the embeded location
                            //$('#file_preview_embed').attr('src', e.target.result);
                            // src='https://view.officeapps.live.com/op/embed.aspx?src=' +e.target.result;
                            //   $('#file_preview_embed_word').attr('src', src);
               };
               reader.readAsDataURL(input.files[0]);
           }
       }
function preview_file(element){
  img_element=  document.getElementById('file_preview_embed_img')
  pdf_element=  document.getElementById('file_preview_embed_pdf')
  file_element=   document.getElementById('file_preview_embed')
  p_element=   document.getElementById('preview_description')
    pdf_element.style.display = "none"
    img_element.style.display = "none"
    file_element.style.display = "none"
    p_element.style.display = "none"
    fullPath = element.attributes["file_url"].value;
    var startIndex = (fullPath.indexOf('\\') >= 0 ? fullPath.lastIndexOf('\\') : fullPath.lastIndexOf('/'));
    var filename = fullPath.substring(startIndex);
    if (filename.indexOf('\\') === 0 || filename.indexOf('/') === 0) {
        filename = filename.substring(1);
  }
  name=filename.split(".")[1]
  console.log(name)
  name= name.toLowerCase()
  //<iframe src="https://docs.google.com/gview?url=http://remote.url.tld/path/to/document.doc&embedded=true"></iframe>
  //<iframe src='https://view.officeapps.live.com/op/embed.aspx?src=http://remote.url.tld/path/to/document.doc' width='1366px' height='623px' frameborder='0'>This is an embedded <a target='_blank' href='http://office.com'>Microsoft Office</a> document, powered by <a target='_blank' href='http://office.com/webapps'>Office Online</a>.</iframe>
//<iframe src='https://view.officeapps.live.com/op/embed.aspx?src=http://www.learningaboutelectronics.com/Articles/Example.xlsx' width='100%' height='565px' frameborder='0'> </iframe>
if (name=="doc"||name=="docx"|| name == "xls") {
  //   file_element.style.display = "inline"
  // src="https://docs.google.com/gview?url="+element.attributes["file_url"].value+"embedded=true"
  // src2="https://view.officeapps.live.com/op/embed.aspx?src="+element.attributes["file_url"].value
  // src3 ="https://view.officeapps.live.com/op/embed.aspx?src="+element.attributes["file_url"].value
    //$('#file_preview_embed').attr('src', '');
    p_element.style.display = "inline"
    p_element.textContent="No preview available"
}
 if (name=="pdf") {
  pdf_element.style.display = "inline"
   $('#file_preview_embed_pdf').attr('src', element.attributes["file_url"].value);
 }
 if (name=="jpeg" || name=='png' || name=='gif' ||name=="jpg"){
 img_element.style.display = "inline"
   $('#file_preview_embed_img').attr('src', element.attributes["file_url"].value);
 }
}
// post photo upload handeling
$('#button').click(function(){
        //check every file button starting from the first one to see if there is no value
      //https://stackoverflow.com/questions/25793880/how-to-check-if-input-file-is-empty-in-jquery
                  //loop through the file input buttons
                  for ( i = 1; i < 5; i++) {
                    num = String(i)
                    file_input_button = "post_photo_upload_button_" + num
                    //find the button that is empty click on the button
                    if( document.getElementById(file_input_button).files.length == 0 ){
                      //$(file_input_button).trigger("click");
                      console.log(file_input_button)
                    document.getElementById(file_input_button).click()
                      break
                        }
                      }
                  // $("#post_photo_upload_button_1").trigger("click");
 })
// comment photo upload handeling
 $('#button_comment').click(function(){
                   for ( i = 1; i < 5; i++) {
                     num = String(i)
                     file_input_button = "comment_photo_upload_button_" + num
                     //find the button that is empty click on the button
                     if( document.getElementById(file_input_button).files.length == 0 ){
                       //$(file_input_button).trigger("click");
                       console.log(file_input_button)
                     document.getElementById(file_input_button).click()
                       break
                         }
                       }
  })
  // reply photo upload handeling
   $('#button_reply').click(function(){
                     for ( i = 1; i < 5; i++) {
                       num = String(i)
                       file_input_button = "reply_photo_upload_button_" + num
                       //find the button that is empty click on the button
                       if( document.getElementById(file_input_button).files.length == 0 ){
                         //$(file_input_button).trigger("click");
                         console.log(file_input_button)
                       document.getElementById(file_input_button).click()
                         break
                           }
                         }
    })
// Post Section
//pass element onto lower fucntion
//If anyone of these file input feilds changer run function
$('#post_photo_upload_button_1').change(function(){
  button_clicked =document.getElementById('post_photo_upload_button_1')
   readURL(button_clicked)
})
$('#post_photo_upload_button_2').change(function(){
  button_clicked =document.getElementById('post_photo_upload_button_2')
   readURL(button_clicked)
})
$('#post_photo_upload_button_3').change(function(){
  button_clicked =document.getElementById('post_photo_upload_button_3')
   readURL(button_clicked)
})
$('#post_photo_upload_button_4').change(function(){
  button_clicked =document.getElementById('post_photo_upload_button_4')
   readURL(button_clicked)
})
// comment Section
//pass element onto lower fucntion
//If anyone of these file input feilds changer run function
$('#comment_photo_upload_button_1').change(function(){
  button_clicked =document.getElementById('comment_photo_upload_button_1')
   readURL(button_clicked)
})
$('#comment_photo_upload_button_2').change(function(){
  button_clicked =document.getElementById('comment_photo_upload_button_2')
   readURL(button_clicked)
})
$('#comment_photo_upload_button_3').change(function(){
  button_clicked =document.getElementById('comment_photo_upload_button_3')
   readURL(button_clicked)
})
$('#comment_photo_upload_button_4').change(function(){
  button_clicked =document.getElementById('comment_photo_upload_button_4')
   readURL(button_clicked)
})
// reply Section
//pass element onto lower fucntion
//If anyone of these file input feilds changer run function
$('#reply_photo_upload_button_1').change(function(){
  button_clicked =document.getElementById('reply_photo_upload_button_1')
   readURL(button_clicked)
})
$('#reply_photo_upload_button_2').change(function(){
  button_clicked =document.getElementById('reply_photo_upload_button_2')
   readURL(button_clicked)
})
$('#reply_photo_upload_button_3').change(function(){
  button_clicked =document.getElementById('reply_photo_upload_button_3')
   readURL(button_clicked)
})
$('#reply_photo_upload_button_4').change(function(){
  button_clicked =document.getElementById('reply_photo_upload_button_4')
   readURL(button_clicked)
})
function readURL(input) {
  //reading file if any
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        // console.log(input.files[0])
        // console.log(input.files)
        // check if image space is free then put image there
        //getting button id
        button_id = input.id
        //split button id
        button_id=button_id.split("_")
        for (var i = 1; i < 5; i++) {
          // get counter
          num = String(i)
          // get the element id of space picture should be added to
          image_space =  button_id[0]+"_image_field_" + num
          // get the close id of the image
          close_icon = image_space +"_"+ "close"
        // get the element of space picture should be added to
        elem =  document.getElementById(image_space)
          // get the close element of the image
        close_icon_element = document.getElementById(close_icon)
        // console.log(close_icon)
        // console.log(close_icon_element);
        // check to see if the element where we want to put the picture is clear
           if(elem.getAttribute('src') == ""){
                // console.log("space free");
                reader.onload = function(e) {
                  // console.log(e)
                  // load the picture space with the picture url
                    $(elem).attr('src', e.target.result)
                    // make photo visible
                    elem.style.display = "inline"
                    //console.log(close_icon)
                  //  $(close_icon).show();
                    //make close icon visible
                    close_icon_element.style.display = "flex"
                    // set the a element variable on the photo space so we can match the photo with it's button
                    elem.setAttribute('file_name',input.value);
                    // console.log(elem)
                    // console.log(input.value)
                };
                break
          }
        }
        reader.readAsDataURL(input.files[0]);
    }
}
//getting the element that contains the uploaded picture display and deleleteing the img url
function delete_uploaded_img(clicked_id){
// due to legacy I had to start this way
// put the element of the the photo space needed to be manipulated in variable
  element= clicked_id
//get the id of the photo space
  element_id= element.id
  //split the  photo space id
  button_id=element_id.split("_")
  //get the close icon id for the specific photo
  close_icon_id =element_id + "_close"
  //get the close icon element for the specific photo
  close_icon_element = document.getElementById(close_icon_id)
  //get the url of the photo that needs to be deleted
  photo_to_delete =document.getElementById(element_id).src
  for ( i = 1; i < 5; i++) {
    //counter
    num = String(i)
    //get the file button that contains the photo
    file_input_button = button_id[0] +"_photo_upload_button_" + num
    //console.log(file_input_button)
    //find the button that contains the picture from stored value set in url read function
    if( document.getElementById(file_input_button).value == element.attributes["file_name"].value){
      //console.log(  document.getElementById(file_input_button).files)
      //get rid of the file value
      document.getElementById(file_input_button).value = ''
      //get rid of the picture source from image space
      element.src = ''
      //get rid of picture source from created variable
      element.setAttribute('file_name','');
      //hide the picture space
      element.style.display = "none"
      // hide the close icon
      close_icon_element.style.display = "none"
      // console.log(  document.getElementById(file_input_button).files)
      // console.log(element)
      break
        }
      }
}

function blow_up_image(element) {
  //clear display
 display_element =document.getElementById('picture_modal_display')
display_element.src = ' '
  // put element in display
  console.log(element.src)
  display_element.src = element.src
}
 </script>
  <script async type="text/javascript">
    function get_at_usernames(e) {
      user_names = []
        list_of_users=  cln.getElementsByClassName('user-tag')
          for (var i = 0; i < list_of_users.length; i++) {
              current_user_tag = list_of_users[i].getElementsByTagName('p')[0].textContent
            if (current_user_tag != "{{user}}") {
              user_at ='@'+list_of_users[i].getElementsByTagName('p')[0].textContent
              user_names.push(user_at)
            }
          }
          usernames= user_names.join(" ");
          return usernames
    }
    y= ""
    post_title = ""
    // Function transfers data to the comment modal
        function reply_click(clicked_id){
    //clear the comment modal
     comment_modal_clear()
    //get the attriubute that contains the variable that holds the div id
    div_containing_comment = clicked_id.attributes["post_display"].value
    //get to comment
    cln = document.getElementById(div_containing_comment)
    document.getElementById("message-text2").value = get_at_usernames(cln)
    //cloning the post
    cln = cln.cloneNode(true);
  //getting the area we want to store the post
    comment_div = document.getElementById("post_modal_display")
    //appened the post to the area
    comment_div.appendChild(cln)
// <!-- getting element of button clicked -->
      console.log(clicked_id)
// <!-- getting the id of the element -->
      y = clicked_id.attributes["id"].value
      console.log(y)
  // <!-- getting the name of the element which has the post title -->
      nam = clicked_id.attributes["name"].value
  // <!-- Getting the element we want to load the hidden input with -->
      Post = document.getElementById("name");
    // <!-- Getting the element we want to load the title of modal with -->
      Title = document.getElementById("which_post");
    // <!-- Assigning the hidden feild with the post pk -->
      Post.value = y;
  // <!-- Assigning the Title of modal with title of post -->
try {
        Title.innerHTML = nam;
} catch (e) {
  }
      console.log( Post.value);
      console.log(nam)
}
 ///////////////////////////////////////////////////////////////////////////////////////////Do Not Touch -->
  function reply_click2(clicked_id){
    reply_modal_clear()
  //get the attriubute that contains the variable that holds the div id
  div_containing_comment = clicked_id.attributes["comment_display"].value
  //get to comment
  cln = document.getElementById(div_containing_comment)
  //cloning the post
  cln = cln.cloneNode(true);
  document.getElementById("message-text1").value = get_at_usernames(cln)
//getting the area we want to store the post
  comment_div = document.getElementById("comment_modal_display")
  //appened the post to the area
  comment_div.appendChild(cln)
// <!-- getting element of button clicked -->
console.log(clicked_id)
// <!-- getting the id of the element, specific comment-->
y = clicked_id.attributes["id"].value
console.log(y)
// <!-- getting the name of the element which has the contents of the comment  -->
nam = clicked_id.attributes["name"].value
// get the users associated with the comment
// filtering the current user out of the mention
users = clicked_id.attributes["users"].value
console.log(users);
var count = (users.match(/@{{current_user.user}}/g) || []).length;
console.log(count);
for (i = 0; i < count; i++) {
  users = users.replace("@{{current_user.user}}","");
}
//getting rid of spaces
var count = (users.match(/  /g) || []).length;
console.log(count);
for (i = 0; i < count; i++) {
  users = users.replace("  ","");
}
console.log(users);
// get the post id for the post
postid = clicked_id.attributes["postid"].value
// <!-- Getting the element we want to load the hidden input with -->
Post = document.getElementById("name2");
// <!-- Getting the element we want to load the title of modal with -->
Title = document.getElementById("which_post2");
// getting element in modal that contains the Recipient
  recipient = document.getElementById("recipient-name2");
  hidden_post_id = document.getElementById("postid");
// <!-- Assigning the hidden feild with the post pk -->
Post.value = y;
// <!-- Assigning the Title of modal with title of post -->
//Title.innerHTML = nam;
//Assigning users to the Recipient
recipient.value = users;
hidden_post_id.value = postid;
console.log( Post.value);
console.log(nam)
}
function reply_click_repost(clicked_id){
repost_modal_clear()
// getting the id of the div we want to clone
  display_id=clicked_id.attributes["post_display"].value
  console.log(display_id)
  //getting the id of the post for the backend
  post_id=clicked_id.attributes["postid"].value
//hidden element in the form
  hidden_repost_id = document.getElementById("repost_post")
  // assigning backend information to the form
  hidden_repost_id.value = post_id
  //getting the div that contains the post
  cln = document.getElementById(display_id)
  document.getElementById("message-text3").value = get_at_usernames(cln)
  //cloning the post
  cln = cln.cloneNode(true);
//getting the area we want to store the post
  repost = document.getElementById("display_post")
  //appened the post to the area
  repost.appendChild(cln)
}
//clearing the modal of values
      function comment_modal_clear(){
        // <!-- Getting the element we want to load the title of modal with -->
          repost_div = document.getElementById("post_modal_display");
          // <!-- clearing the element on close -->
          console.log("child node",repost_div)
          try {
            // running this code twice??
            repost_div.removeChild(repost_div.childNodes[0])
              console.log("child node",repost_div)
          } catch (e) {}
          body = document.getElementById("message-text2");
          // <!-- clearing the element on close -->
          body.value = ""
      }
      function repost_modal_clear(){
        // <!-- Getting the element we want to load the title of modal with -->
          repost_div = document.getElementById("display_post");
          // <!-- clearing the element on close -->
          try {
              repost_div.removeChild(repost_div.childNodes[0])
          } catch (e) {}
          body = document.getElementById("message-text3");
          // <!-- clearing the element on close -->
          body.value = ""
      }
      function reply_modal_clear(){
        // <!-- Getting the element we want to load the title of modal with -->
          repost_div = document.getElementById("comment_modal_display");
          // <!-- clearing the element on close -->
          try {
            repost_div.removeChild(repost_div.childNodes[0])
          } catch (e) {}
          body = document.getElementById("message-text1");
          // <!-- clearing the element on close -->
          body.value = ""
      }
///////////////////////////////////Clearing modal on attribute change///////////
</script>
<script async>
////////////////////////Autocomplete for recipents //////////////////////////////
// Initialize author field
//When user clicks on a feild we focus on the feild get the id of the feild and change the variables names
users_groups=[
{%for group in users_groups%}
'{{group.title|cap_title|safe}}',
{%endfor%}
]
member_user_names=[
{%for member in object.groupmember_set.all%}
"{{member.userprofile.user}}",
{%endfor%}]
$('#group_category_input_choice').atwho({
    at: "",
    data:users_groups
});
$('#recipient-name2').atwho({
    at: "@",
    data:member_user_names
});
$('#recipient-name1').atwho({
    at: "@",
    data:member_user_names
});
$('#member_search_input_feild').atwho({
    at: "@",
    data:member_user_names
});
/////////////////Section Post Modal///////////////////////
$('#post_text_area').atwho({
    at: "@",
    data:member_user_names
});
//'#post_text_area'
/////////////////End Post///////////////////////
/////////////////Section Repost Modal///////////////////////
$('#message-text3').atwho({
    at: "@",
    data:member_user_names
});
/////////////////End Repost///////////////////////
/////////////////Section Comment Modal///////////////////////
$('#message-text2').atwho({
    at: "@",
    data:member_user_names
});
/////////////////End Repost///////////////////////
/////////////////Section Reply Modal///////////////////////
$('#message-text1').atwho({
    at: "@",
    data:member_user_names
});
/////////////////End Repost///////////////////////
</script>
<script async>
  //clicking on one of the options for member change
function clicked_status_pending1() {
  user_modal_status = document.getElementById("user_modal_status")
    user_modal_status.innerHTML = "Status: Pending Moderator";
    help_info = document.getElementById("status_help_info")
    help_info.innerHTML = "To save click Submit Change "
}
</script>
<script async>
  //clicking on one of the options for member change
function clicked_status_pending2() {
  user_modal_status = document.getElementById("user_modal_status")
    user_modal_status.innerHTML = "Status: Pending Member";
    help_info = document.getElementById("status_help_info")
    help_info.innerHTML = "To save click Submit Change "
}
</script>
<script async>
  //clicking on one of the options for member change
function clicked_status_pending3() {
  user_modal_status = document.getElementById("user_modal_status")
    user_modal_status.innerHTML = "Status: Pending Member Removal";
    help_info = document.getElementById("status_help_info")
    help_info.innerHTML = "To save click Submit Change "
}
</script>
<script async type="text/javascript">
// function is for when user clicks on the member link anchor. The function takes the data in the anchor html attribute and populates the modal
  function user_modal(clicked_id){
        console.log(clicked_id)
  //Get the elements of the member elements
  //get the attriubute that contains the variable that holds user_name
  user_name = clicked_id.attributes["user_name"].value
  //get the attriubute that contains the variable that holds date_joined
  date_joined = clicked_id.attributes["date_joined"].value
  //get the attriubute that contains the variable that holds user_profile_url
  user_profile_url = clicked_id.attributes["user_profile_url"].value
  //get the attriubute that contains the variable that holds user_description
  user_description = clicked_id.attributes["user_description"].value
  //get the attriubute that contains the variable that holds time_spent_in_group
  time_spent_in_group = clicked_id.attributes["time_spent_in_group"].value
  //get the attriubute that contains the variable that holds user_moderator
  user_moderator = clicked_id.attributes["user_moderator"].value
  //get the attriubute that contains the variable that holds user_member_status
  user_member_status = clicked_id.attributes["user_member_status"].value
user_member_photo =  clicked_id.getElementsByTagName('img')[0].src
console.log(user_member_photo)
//-------------------------------------------------------------------------------------
//Get Modal elements
  //get the modal elements that we want to change user_modal_username
  user_modal_username = document.getElementById("user_modal_username")
console.log(user_modal_username)
  //get the modal elements that we want to change user_modal_profile_img
  user_modal_profile_img = document.getElementById("user_modal_profile_img")
  //get the modal elements that we want to change user_modal_date_joined
  user_modal_date_joined = document.getElementById("user_modal_date_joined")
  ////get the modal elements that we want to change user_modal_group_time_online
  user_modal_group_time_online = document.getElementById("user_modal_group_time_online")
  ////get the modal elements that we want to change user_modal_user_profile_url
  user_modal_user_profile_url = document.getElementById("user_modal_user_profile_url")
  //get the modal elements that we want to change user_modal_save_changes
  user_modal_save_changes = document.getElementById("user_modal_save_changes")
  //get the modal elements that we want to change user_modal_status
  user_modal_status = document.getElementById("user_modal_status")
  //get the modal elements that we want to change user_modal_user_description
  user_modal_user_description = document.getElementById("user_modal_user_description")
  //-------------------------------------------------------------------------------------
    //put elements in appropriate places on user Modal
    user_modal_username.innerHTML  = user_name
    user_modal_date_joined.innerHTML  = "Date Joined: "+date_joined
    user_modal_user_description.innerHTML  = user_description
    user_modal_group_time_online.innerHTML  = "Time Online: " +time_spent_in_group
    user_modal_status.innerHTML  = "Status: "+user_member_status
    user_modal_profile_img.src = user_member_photo
//clear modal of previous help statment
help_info = document.getElementById("status_help_info")
help_info.innerHTML = ""
}
</script>
<script async type="text/javascript">
  function search_member_group(){
    try{
      //get the value of the search element feild
      member_to_search=document.getElementById('member_search_input_feild').value.trim();
      //parse the value for the user namme
      member_to_search=member_to_search.split("@")[1]
      // get the anchor tag of the member
      member_link_id ="memberlink"+member_to_search
      console.log(member_link_id);
      //https://stackoverflow.com/questions/2346011/how-do-i-scroll-to-an-element-within-an-overflowed-div
    $('#any_class').scrollTop($('#any_class').scrollTop() + $('#'+member_link_id).position().top- $('#any_class').height()/2 + $('#'+member_link_id).height()/2);
      member_to_search = document.getElementById('member_search_input_feild')
      member_to_search.value = ''
      //close dropdown
    }
    catch(err){}
  }
//https://stackoverflow.com/questions/41424989/javascript-listen-for-attribute-change
//if the search drop down closes we are going to run the search member group function
  search_dropdown=document.getElementById("search_member_dropdown")
  var observer = new MutationObserver(function(mutations) {
  mutations.forEach(function(mutation) {
    if (mutation.type == "attributes") {
      search_member_group()
    }
  });
});
observer.observe(search_dropdown, {
  attributes: true //configure it to listen to attribute changes
});
function addZero(i) {
  if (i < 10) {
    i = "0" + i;
  }
  return i;
}
function current_time() {
  var d = new Date();
  var weekday = new Array(7);
  weekday[0] = "Sunday";
  weekday[1] = "Monday";
  weekday[2] = "Tuesday";
  weekday[3] = "Wednesday";
  weekday[4] = "Thursday";
  weekday[5] = "Friday";
  weekday[6] = "Saturday";
  var day = weekday[d.getDay()];
var h = addZero(d.getHours());
var m = addZero(d.getMinutes());
var s = addZero(d.getSeconds());
time_of_day = "AM"
if (h >= 12) {
    h = h - 12;
    time_of_day = "PM";
  }
  if (h == 0) {
    h = 12;
  }
timezone = day+", "+ h + ":" + m+ time_of_day;
return timezone
}
</script>
<!-- websocket -->
<script async src="https://cdnjs.cloudflare.com/ajax/libs/reconnecting-websocket/1.0.0/reconnecting-websocket.js">
</script>
<script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/js/bootstrap-multiselect.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-multiselect/0.9.15/css/bootstrap-multiselect.css" type="text/css"/>
<script async>
    var current_user_username = "{{user}}"
    var groupName = {{groupName}};
    // open a channel to talk
    // document.addEventListener("DOMContentLoaded", function(event) {
    ws_start='ws://'
      if (window.location.protocol == 'https:') {
          ws_start = 'wss://'
      }
    var chatSocket = new ReconnectingWebSocket(
        ws_start + window.location.host +
        '/ws/group/'+ groupName + '/');
        chatSocket.onopen = function(event) {
          console.log("WebSocket is open now.");
          var start = new Date();
          chatSocket.send(JSON.stringify({
              'active_url':groupName,
              'user_username':"{{user}}"
          }));
            //sending to the server that user has joined the page and users name for filtering
            new_member = {{new_member}}
            if(new_member){
            chatSocket.send(JSON.stringify({
                'user_on_group_page': "1",
                'user_username':"{{user}}",
                'new_member':"1"
            }));
          console.log("message sent")
            }
            else {
              chatSocket.send(JSON.stringify({
                  'user_on_group_page': "1",
                  'user_username':"{{user}}"
              }));
              console.log("message sent")
            }
        };
        //Section receive message
    chatSocket.onmessage = function(e) {
        var data = JSON.parse(e.data);
        //Section for getting data from server
        ///Section is for accepting variables to deal with online group status icon change change/////
            //user_on_group_page has info containing server knowledge of page user is located on
            var user_on_group_page = data['user_on_group_page'];
            //getting username because the status symbol id has the username to make it unique
            var user_username = data['user_username']
          //#/////Section is for accepting variables to change user member status, sent from group creator/////
            var pending_status =data['pending_status']
            var pending_member_change_username =data['pending_member_change_username']
          //#/////Section is for accepting variables to change user member status, sent from group creator/////
            var new_member =data['new_member']
            //#/////Section is for getting the group member count of the group/////
            var group_count = data['group_count']
            ///Section is for accepting variable that have to deal with post/comment/reply delete archive and report
            var post_comment_reply_action =data['post_comment_reply_action']
            var server_reponse_post_comment_reply_action =data['server_reponse_post_comment_reply_action']
            console.log("from server response",server_reponse_post_comment_reply_action)
            //Section is for accepting variable that has the content to create a post
            var view_group_post = data['view_group_post']
            try {
              // have to extract the json information from the variable
              post_object = JSON.parse(view_group_post);
            } catch (e) {}
            //Section is for accepting variable that has the content to create a post
            var view_group_comment = data['view_group_comment']
            try {
              // have to extract the json information from the variable
              comment_object = JSON.parse(view_group_comment);
            } catch (e) {}
            //Section is for accepting variable that has the content to create a post
            var view_group_reply = data['view_group_reply']
            try {
              // have to extract the json information from the variable
              reply_object = JSON.parse(view_group_reply);
            } catch (e) {}
            var share_count_update =data['share_count_update']
            //Section is for getting Notifications content
            var notification_content = data['notification_content']
            try {
              // have to extract the json information from the variable
              notification_object = JSON.parse(notification_content);
            } catch (e) {}
            //Section is for getting new_member content
            var new_member_information = data['new_member_information']
            try {
              // have to extract the json information from the variable
              new_member_information = JSON.parse(new_member_information);
              // console.log(new_member_information)
            } catch (e) {}
            // Section is for check if user left manually
            var user_leave_manually =data['user_leave_manually']
            console.log("user_leave_manually",user_leave_manually)
            // section is for loading zoom iframe
            var zoom_load_iframe = data['zoom_load_iframe']
            // sectopm is getting vaiable to close zoom meeting
            var zoom_close_group_meeting = data["zoom_close_group_meeting"]
          //end getting data section
/////////////////////////////////Section Async Reply////////////////
if (view_group_reply != 'null') {
  // console.log("hello");
  // console.log(reply_object['current_post_id'],"post id")
  // Delete footer
      users_post = "{{user}}"
    if (users_post == reply_object['user_name_post']) {
      remove_alert_button()
    }
  //get the element we want to store the comment in
  post_comment_reply_container_variable="comment_reply_container"+ reply_object['current_comment_id']
  var element_to_store_post = document.getElementById(post_comment_reply_container_variable);
  //Section get the template example comment and generate the starter comment
    //get element to store post in progress
    hiding_container=document.getElementById('hiding_container')
    // get the example comment,
    original_template=document.getElementById('EampleReply')
    //cloning the example comment
    clone = original_template.cloneNode(true);
    //change the id to temporary id
    clone.id = "in_progress_reply";
    try {
      //place post_clone in hiding container
      hiding_container.appendChild(clone);
    } catch (e) {}
    //Section populate the comment
      //clone post
      in_progress_comment = document.getElementById(clone.id)
      // console.log(in_progress_comment,"comment clone")
    //changing the main container id
    comment_main_continer= in_progress_comment.getElementsByClassName('example_comment_main_container')[0]
    comment_main_continer.id = "R"+ reply_object['user_name_post'] + reply_object['post_id'].toString()
    // console.log("made it this far1")
    //changing the profile img to author of the comment
    if (reply_object['user_profile_pic_url_post'] != "false") {
      author_image= in_progress_comment.getElementsByClassName('user-image-comment-example')[0]
      author_image.src = reply_object['user_profile_pic_url_post']
    }else {
      author_image= in_progress_comment.getElementsByClassName('user-image-comment-example')[0]
      author_image.src = " /static/img/default-profile-picture-gmail-2.png"
    }
    //chaning the author name for comment
    author_name_post = in_progress_comment.getElementsByClassName('comment-author-name')[0]
    author_name_post.textContent = '@'+ reply_object['user_name_post']
    //chaning the time   for comment
    time_posted_post = in_progress_comment.getElementsByClassName('comment-time-posted')[0]
    // time_posted_post.textContent = reply_object['time_published_post']
    time_posted_post.textContent = current_time()
      //Section is for changing the comment content
      comment_content= in_progress_comment.getElementsByClassName('comment-content-example')[0]
      comment_content.textContent = reply_object['content_post']
      //Section for adding pictures
      //if no pics delete the container where pics should go
      if (reply_object['url_of_photo_id_post'] == 'false'){
          post_pic_container_example= in_progress_comment.getElementsByClassName('comment-pic-container-example')[0]
          post_pic_container_example.parentNode.removeChild(post_pic_container_example);
          // console.log("done with pics");
      }else {
        //get the length of the array it's always going to be even and url is the even number
        post_stock_list_lenght = reply_object['url_of_photo_id_post'].length
        // repeat for every element in stock_list array
              for (var i = 0; i <  post_stock_list_lenght; i++) {
                        if (i % 2 == 0) {
                          //on even
                          //get element to store img in
                          if (i>3) {
                            pic_container_post = in_progress_comment.getElementsByClassName('comment_pic_container_post_example2')[0]
                            // get inmg example,
                          }else {
                            pic_container_post = in_progress_comment.getElementsByClassName('pic_container_comment_example')[0]
                            // get inmg example,
                          }
                          image_example_post = in_progress_comment.getElementsByClassName('img-example-comment')[0]
                          //cloning the image example
                          clone = image_example_post.cloneNode(true);
                          //change the id of clone to temporary id
                          //convert post_id to string
                          clone.id = "post_pic_temp"
                          try {
                            //place post in container
                              pic_container_post.appendChild(clone);
                              //referenceNode.parentNode.insertBefore(clone, stock_tag_post);
                              } catch (e) {
                                // console.log("could not create img");
                              }
                        //get the generatred img
                        clone=document.getElementById(clone.id)
                         photo_url = reply_object['url_of_photo_id_post'][i]
                        clone.src = photo_url
                        // console.log(reply_object['url_of_photo_id_post'][i])
                        }else {
                        clone.id = "reply_pic_"+reply_object['url_of_photo_id_post'][i]
                          // console.log(clone)
                        }
              }
              //remove the example element after we are done with the for loop
              image_example_post = in_progress_comment.getElementsByClassName('img-example-comment')[0]
              image_example_post.parentNode.removeChild(image_example_post);
                // console.log("done with pics");
                post_pic_container_example= in_progress_comment.getElementsByClassName('comment-pic-container-example')[0]
      }
      ///End picture
      //Section is for adding recipients
        //if there is recipients with the post get rid of the recipients container
        if (reply_object['reicpients_name_url_post'] == 'false') {
          //get rid of recipient container
          recipient_container_post = in_progress_comment.getElementsByClassName('example-recipient-container')[0]
          recipient_container_post.parentNode.removeChild(recipient_container_post);
          // console.log("done with recipients")
        }
        else {
                //get the length of the array it's always going to be even and url is the even number
                post_recipient_list_lenght = reply_object['reicpients_name_url_post'].length
                // repeat for every element in post_recipient_list_lenght
                for (var i = 0; i <  post_recipient_list_lenght; i++) {
                  //every other perfom an action if runs on 0
                      if (i % 2 == 0) {
                        //on even
                        //get element to store recipient-tag in
                        recipient_container_post = in_progress_comment.getElementsByClassName('example-recipient-container')[0]
                        // get recipient tag,
                        recipient_tag_post = in_progress_comment.getElementsByClassName('recipient-tag-post')[0]
                        //cloning the recipient tag post
                        clone = recipient_tag_post.cloneNode(true);
                        //change the id of clone to temporary id
                        //convert post_id to string
                         clone_recipient_id = reply_object['post_id'].toString()
                        clone.id = reply_object['reicpients_name_url_post'][i]+clone_recipient_id+"post"
                        try {
                          //place recipient tag in container
                            recipient_container_post.appendChild(clone);
                            } catch (e) {}
                            //get the generatred recipients tag
                            clone=document.getElementById(clone.id)
                            // change the p tag to the name of the recipients
                            clone.getElementsByTagName('p')[0].textContent= reply_object['reicpients_name_url_post'][i]
                            // console.log(clone);
                            // console.log(post_object['reicpients_name_url_post'][i]);
                      }
                      else {
                        // on odds
                        //get the genereated recipients tack change the href
                        clone.href = reply_object['reicpients_name_url_post'][i]
                          }
                }
                //remove the example element after we are done with the for loop
              recipient_tag_post = in_progress_comment.getElementsByClassName('recipient-tag-post')[0];

                recipient_tag_post.parentNode.removeChild(recipient_tag_post);
                // console.log("done with recipients")
        }
        //End creating recipients
        //Section populating like button
        post_like_button= in_progress_comment.getElementsByClassName('comment_example_like')[0];
        post_like_button.id = "reply_like_" + reply_object['post_id']
        //Section is for post_like statement container
        post_container_elm_ex= in_progress_comment.getElementsByClassName('reply_like_container')[0];
        post_container_elm_ex.id = "reply_like_container_"+reply_object['post_id']
        //Section populating comment button
        post_comment_button= in_progress_comment.getElementsByClassName('comment_example_comment')[0];
        post_comment_button.id =  reply_object['current_comment_id'].toString()
        post_comment_button.setAttribute("comment_display","R"+reply_object['user_name_post']+ reply_object['post_id'].toString());
        post_comment_button.setAttribute("postid",reply_object['current_post_id'] );
        //Section populating archive
        post_archive_button= in_progress_comment.getElementsByClassName('comment_example_archive')[0];
        post_archive_button.id = "reply_archive_" + reply_object['post_id']
        //Section populating report
        post_report_button= in_progress_comment.getElementsByClassName('comment_example_report')[0];
        post_report_button.id = "reply_report_" + reply_object['post_id']
        //Section populating delete
        if ("True"=="{{admin}}" || "{{user}}" == reply_object['user_name_post'] || "{{moderator}}"=="True") {
          post_delete_button= in_progress_comment.getElementsByClassName('comment_example_delete')[0];
          post_delete_button.id = "reply_delete_" + reply_object['post_id']
        }else {
            post_delete_button= in_progress_comment.getElementsByClassName('comment_example_delete')[0];
            post_delete_button.parentNode.removeChild(post_delete_button);
        }
        //Section is for inserting  new post into dom
            // get the post we have been generating,
            in_progress_comment=document.getElementById('in_progress_reply')
            //cloning the  post
            console.log(in_progress_comment);
            clone = in_progress_comment.cloneNode(true);
            //change the id to temporary id
            clone.id = "Reply"+ reply_object['post_id'];
            try {
              //insert the commennt at the top
              // console.log("before1");
              // console.log(element_to_store_post);
              element_to_store_post.appendChild(clone);
              // element_to_store_post.insertBefore(clone, element_to_store_post.firstChild);
            // console.log("after");
              //put container for reply Here
              // reply_container = document.createElement('div');
              // reply_continer="comment_reply_container"+comment_object['post_id']
              // reply_container.setAttribute("id", reply_continer);
              //
              // $(element_to_store_post"div:first-child").after(reply_container);
              //insert final post into the dom
                  //remove pelimnary commonet
                in_progress_comment.parentNode.removeChild(in_progress_comment);
                  console.log("No previous post")
            } catch (e) {
              element_to_store_post.appendChild(clone);
              // console.log("before1");
              in_progress_comment.parentNode.removeChild(in_progress_comment);
            }
            try {
              //if you are the peron that has the comment show the comment
              user = "{{user}}"
              if (user == reply_object['user_name_post']) {
                // show the comment in the dropdown box
                class_name="post_dropdown_icon"+reply_object['current_post_id']
                // console.log(document.getElementsByClassName(class_name)[0])
                post_dropdown_icon_v = document.getElementsByClassName(class_name)[0]
                //if the dropdown not open open it
                if ( post_dropdown_icon_v.attributes["aria-expanded"].value == "false") {
                  $(post_dropdown_icon_v).click()
                }
              }
            } catch (e) {}
            //Change the comment value
            post ="Post"+reply_object['current_post_id']
            // console.log(document.getElementById(post).getElementsByClassName("post_comment_button_num")[0])
            post_comment_button =  document.getElementById(post).getElementsByClassName("post_comment_button_num")[0]
            post_comment_button_number = post_comment_button.textContent
            comment_int=parseInt(post_comment_button_number)
            comment_int+=1
            comment_string=comment_int.toString()
            post_comment_button.textContent= comment_string
////end of view_group_reply
}
/////////////////////////////////End Section  Async Reply////////////////

/////////////////////////////////Section Async Comment////////////////
if (view_group_comment != 'null') {
                //delete Alert footer
                users_post = "{{user}}"
              if (users_post == comment_object['user_name_post']) {
                remove_alert_button()
              }
               //Clear out the files
                for (var i = 1; i < 5; i++) {
                photo_space_id = "comment_image_field_" + i.toString()
                post_photo_clear =document.getElementById(photo_space_id);
                delete_uploaded_img_after_post(post_photo_clear)
                }
              //make sure the dropdown icon on the post is showing
              class_name="post_dropdown_icon"+comment_object['current_post_id']
              post_dropdown_icon_v = document.getElementsByClassName(class_name)[0]
              // console.log(post_dropdown_icon_v,"dropdown icon")
              post_dropdown_icon_v.style.display = "block";
              post_dropdown_icon_v.setAttribute("data-target", "#collapseOne" + comment_object['current_post_id'] );
              post_dropdown_icon_v.setAttribute("aria-controls", "collapseOne"+ comment_object['current_post_id'] );
              //get the element we want to store the comment in
              post_comment_reply_container_variable="post_comment_reply_container"+ comment_object['current_post_id']
              var element_to_store_post = document.getElementsByClassName(post_comment_reply_container_variable)[0];
            // console.log(element_to_store_post);
            //Section get the template example comment and generate the starter comment
              //get element to store post in progress
              hiding_container=document.getElementById('hiding_container')
              // get the example comment,
              original_template=document.getElementById('EampleComment')
              //cloning the example comment
              clone = original_template.cloneNode(true);
              //change the id to temporary id
              clone.id = "in_progress_comment";
              try {
                //place post_clone in hiding container
                hiding_container.appendChild(clone);
              } catch (e) {
              }
              //Section populate the comment
                //clone post
                in_progress_comment = document.getElementById(clone.id)
              //changing the main container id
              comment_main_continer= in_progress_comment.getElementsByClassName('example_comment_main_container')[0]
              comment_main_continer.id = "C"+ comment_object['user_name_post'] + comment_object['post_id'].toString()
              // //changinging the post detail href that contains user name and image
              // post_detail_url= in_progress_post.getElementsByClassName('href-post-example')[0]
              // post_detail_url.href = post_object['url_to_detail_view_of_post']
              //changing the profile img to author of the comment
              if (comment_object['user_profile_pic_url_post'] != "false") {
                author_image= in_progress_comment.getElementsByClassName('user-image-comment-example')[0]
                author_image.src = comment_object['user_profile_pic_url_post']
              }else {
                author_image= in_progress_comment.getElementsByClassName('user-image-comment-example')[0]
                author_image.src = " /static/img/default-profile-picture-gmail-2.png"
              }
              //chaning the author name for comment
              author_name_post = in_progress_comment.getElementsByClassName('comment-author-name')[0]
              author_name_post.textContent = '@'+ comment_object['user_name_post']
              //chaning the time   for comment
              time_posted_post = in_progress_comment.getElementsByClassName('comment-time-posted')[0]
              // time_posted_post.textContent = comment_object['time_published_post']
                time_posted_post.textContent = current_time()
                //Section is for changing the comment content
                comment_content= in_progress_comment.getElementsByClassName('comment-content-example')[0]
                comment_content.textContent = comment_object['content_post']
                //Section for adding pictures
                //if no pics delete the container where pics should go
                if (comment_object['url_of_photo_id_post'] == 'false'){
                    post_pic_container_example= in_progress_comment.getElementsByClassName('comment-pic-container-example')[0]
                    post_pic_container_example.parentNode.removeChild(post_pic_container_example);
                    // console.log("done with pics");
                }else {
                  //get the length of the array it's always going to be even and url is the even number
                  post_stock_list_lenght = comment_object['url_of_photo_id_post'].length
                  // repeat for every element in stock_list array
                        for (var i = 0; i <  post_stock_list_lenght; i++) {
                                  if (i % 2 == 0) {
                                    //on even
                                    //get element to store img in
                                    if (i>3) {
                                      pic_container_post = in_progress_comment.getElementsByClassName('comment_pic_container_post_example2')[0]
                                      // get inmg example,
                                    }else {
                                      pic_container_post = in_progress_comment.getElementsByClassName('pic_container_comment_example')[0]
                                      // get inmg example,
                                    }
                                    image_example_post = in_progress_comment.getElementsByClassName('img-example-comment')[0]
                                    //cloning the image example
                                    // console.log(image_example_post);
                                    clone = image_example_post.cloneNode(true);
                                    //change the id of clone to temporary id
                                    //convert post_id to string
                                    clone.id = "post_pic_temp"
                                    try {
                                      //place post in container
                                        pic_container_post.appendChild(clone);
                                        //referenceNode.parentNode.insertBefore(clone, stock_tag_post);
                                        } catch (e) {
                                          // console.log("could not create img");
                                        }
                                  //get the generatred img
                                  clone=document.getElementById(clone.id)
                                   photo_url = comment_object['url_of_photo_id_post'][i]
                                  clone.src = photo_url
                                  // console.log(comment_object['url_of_photo_id_post'][i])
                                  }else {
                                  clone.id = "comment_pic_"+comment_object['url_of_photo_id_post'][i]
                                    // console.log(clone)
                                  }
                        }
                        //remove the example element after we are done with the for loop
                        image_example_post = in_progress_comment.getElementsByClassName('img-example-comment')[0]
                        image_example_post.parentNode.removeChild(image_example_post);
                          // console.log("done with pics");
                          post_pic_container_example= in_progress_comment.getElementsByClassName('comment-pic-container-example')[0]
                }
                ///End picture
                //Section is for adding recipients
                  //if there is recipients with the post get rid of the recipients container
                  if (comment_object['reicpients_name_url_post'] == 'false') {
                    //get rid of recipient container
                    recipient_container_post = in_progress_comment.getElementsByClassName('example-recipient-container')[0]
                    recipient_container_post.parentNode.removeChild(recipient_container_post);
                    // console.log("done with recipients")
                  }
                  else {
                          //get the length of the array it's always going to be even and url is the even number
                          post_recipient_list_lenght = comment_object['reicpients_name_url_post'].length
                          // repeat for every element in post_recipient_list_lenght
                          for (var i = 0; i <  post_recipient_list_lenght; i++) {
                            //every other perfom an action if runs on 0
                                if (i % 2 == 0) {
                                  //on even
                                  //get element to store recipient-tag in
                                  recipient_container_post = in_progress_comment.getElementsByClassName('example-recipient-container')[0]
                                  // get recipient tag,
                                  recipient_tag_post = in_progress_comment.getElementsByClassName('recipient-tag-post')[0]
                                  //cloning the recipient tag post
                                  clone = recipient_tag_post.cloneNode(true);
                                  //change the id of clone to temporary id
                                  //convert post_id to string
                                   clone_recipient_id = comment_object['post_id'].toString()
                                  clone.id = comment_object['reicpients_name_url_post'][i]+clone_recipient_id+"post"
                                  try {
                                    //place recipient tag in container
                                      recipient_container_post.appendChild(clone);
                                      } catch (e) {
                                        // console.log("could not create post");
                                      }
                                      //get the generatred recipients tag
                                      clone=document.getElementById(clone.id)
                                      // change the p tag to the name of the recipients
                                      clone.getElementsByTagName('p')[0].textContent= comment_object['reicpients_name_url_post'][i]
                                      // console.log(clone);
                                      // console.log(post_object['reicpients_name_url_post'][i]);
                                }
                                else {
                                  // on odds
                                  //get the genereated recipients tack change the href
                                  clone.href = comment_object['reicpients_name_url_post'][i]
                                    }
                          }
                          //remove the example element after we are done with the for loop
                        recipient_tag_post = in_progress_comment.getElementsByClassName('recipient-tag-post')[0];
                          recipient_tag_post.parentNode.removeChild(recipient_tag_post);
                          // console.log("done with recipients")
                  }
                  //End creating recipients
                  //Section populating like button
                  post_like_button= in_progress_comment.getElementsByClassName('comment_example_like')[0];
                  post_like_button.id = "comment_like_" + comment_object['post_id']
                  //Section is for post_like statement container
                  post_container_elm_ex= in_progress_comment.getElementsByClassName('comment_like_container')[0];
                  post_container_elm_ex.id = "comment_like_container_"+comment_object['post_id']
                  //Section populating comment button
                  post_comment_button= in_progress_comment.getElementsByClassName('comment_example_comment')[0];
                  post_comment_button.id =  comment_object['post_id'].toString()
                  post_comment_button.setAttribute("comment_display","C"+comment_object['user_name_post']+ comment_object['post_id'].toString());
                  post_comment_button.setAttribute("postid",comment_object['current_post_id'] );
                  //Section populating archive
                  post_archive_button= in_progress_comment.getElementsByClassName('comment_example_archive')[0];
                  post_archive_button.id = "comment_archive_" + comment_object['post_id']
                  //Section populating report
                  post_report_button= in_progress_comment.getElementsByClassName('comment_example_report')[0];
                  post_report_button.id = "comment_report_" + comment_object['post_id']
                  //Section populating delete
                  if ("True"=="{{admin}}" || "{{user}}" == comment_object['user_name_post'] || "{{moderator}}"=="True") {
                    post_delete_button= in_progress_comment.getElementsByClassName('comment_example_delete')[0];
                    post_delete_button.id = "comment_delete_" + comment_object['post_id']
                  }else {
                      post_delete_button= in_progress_comment.getElementsByClassName('comment_example_delete')[0];
                      post_delete_button.parentNode.removeChild(post_delete_button);
                  }
                  //Getting Reply container ready
                  reply_container= in_progress_comment.getElementsByClassName('reply_example_container')[0];
                  reply_container.id = "comment_reply_container"+ comment_object['post_id']
                  //Section is for inserting  new post into dom
                      // get the post we have been generating,
                      in_progress_comment=document.getElementById('in_progress_comment')
                      //cloning the  post
                      clone = in_progress_comment.cloneNode(true);
                      //change the id to temporary id
                      clone.id = "Comment"+ comment_object['post_id'];
                      try {
                        //insert the commennt at the top
                        element_to_store_post.appendChild(clone);
                          in_progress_comment.parentNode.removeChild(in_progress_comment);
                            // console.log("No previous post")
                      } catch (e) {
                        //in case there was an error due to no first child
                        element_to_store_post.appendChild(clone);
                        in_progress_comment.parentNode.removeChild(in_progress_comment);
                      }
                      //if you are the peron that has the comment show the comment
                      user = "{{user}}"
                      if (user == comment_object['user_name_post']) {
                        // show the comment in the dropdown box
                        class_name="post_dropdown_icon"+comment_object['current_post_id']
                        post_dropdown_icon_v = document.getElementsByClassName(class_name)[0]
                        //if the dropdown not open open it
                        if ( post_dropdown_icon_v.attributes["aria-expanded"].value == "false") {
                          $(post_dropdown_icon_v).click()
                        }
                      }
                      //Change the comment value
                      post ="Post"+comment_object['current_post_id']
                      post_comment_button =  document.getElementById(post).getElementsByClassName("post_comment_button_num")[0]
                      post_comment_button_number = post_comment_button.textContent
                      comment_int=parseInt(post_comment_button_number)
                      comment_int+=1
                      comment_string=comment_int.toString()
                      post_comment_button.textContent= comment_string
  ////end of view_group_comment
}
  /////////////////////////////////End Section  Async Comment////////////////
/////////////////////////////////Section Async Post////////////////
//dont create post if value is null
if (view_group_post != 'null') {
      //update alert notification num
      //check if there is an alert
                if (post_object['alert']=="true") {
                  if (document.getElementById('empty_alert_list')) {
                    document.getElementById('empty_alert_list').parentNode.removeChild(document.getElementById('empty_alert_list'))
                  }
                    //get notification elements
                      group_alert_header=  document.getElementById('pills-home-tab')
                      group_alert_container=  document.getElementById('notification_alert_container')
                      group_alert_container_count=  document.getElementById('notification_alert_count')
                      //check if we are not the alert tab
                  if (group_alert_header.attributes["aria-selected"].value == "true") {
                    fkl=1
                    // console.log("on alert page");
                  }else {
                    //get the count number and add 1 to it then show notification
                      // console.log("not alert page");
                      alert_note_count= group_alert_container_count.textContent
                      alert_note_count = parseInt(alert_note_count)
                      alert_note_count=alert_note_count +1
                      group_alert_container_count.textContent = alert_note_count.toString()
                      group_alert_container.style.display = 'block'
                      group_alert_container_count.style.display = 'block'
                      // console.log("not alert page end");
                  }
                }else {
                  if (document.getElementById('empty_post_list')) {
                    document.getElementById('empty_post_list').parentNode.removeChild(document.getElementById('empty_post_list'))
                  }
      //grab board header
      //if not on the board add notification
      //get notification elements
        group_alert_header=  document.getElementById('pills-profile-tab')
        group_alert_container=  document.getElementById('board_alert_container')
        group_alert_container_count=  document.getElementById('board_alert_count')
              if (group_alert_header.attributes["aria-selected"].value == "true") {
                fkl=1
                // console.log("on alert page");
              }else {
                //get the count number and add 1 to it then show notification
                  // console.log("not alert page");
                  alert_note_count= group_alert_container_count.textContent
                  alert_note_count = parseInt(alert_note_count)
                  alert_note_count=alert_note_count +1
                  group_alert_container_count.textContent = alert_note_count.toString()
                  group_alert_container.style.display = 'block'
                  group_alert_container_count.style.display = 'block'
                  // console.log("not alert page end");
              }
            }
          //Delete Footer
          users_post = "{{user}}"
        if (users_post == post_object['user_name_post']) {
          remove_alert_button()
        }
          //Clear out the post
        post_text_area_clear =document.getElementById("post_text_area");
        post_text_area_clear.value = ''
          //Clear out the files
          for (var i = 1; i < 5; i++) {
          photo_space_id = "post_image_field_" + i.toString()
          post_photo_clear =document.getElementById(photo_space_id);
          delete_uploaded_img_after_post(post_photo_clear)
          }
            //get the element we want to store the post in
            var element_to_store_post = document.getElementById("accordion");
                        // get the first post
                        first_post_in_list = document.getElementsByClassName('loaded-post')[0]
                        // for the element that contains the for loop id of the post
                        // div_containing_for_loop_id = document.getElementsByClassName('for-loop-id-post')[0]
                        //     //get the id of the first post
                        //     loaded_post_for_loop_id =div_containing_for_loop_id.id
                            //https://stackoverflow.com/questions/1862130/strip-all-non-numeric-characters-from-string-in-javascript
                            //strips the string of everything but numbers
                        // loaded_post_for_loop_id = parseInt(loaded_post_for_loop_id)
          //Section get the template example post and generate the starter post
            //get element to store post in progress
            hiding_container=document.getElementById('hiding_container')
            // get the example post,
            original_template=document.getElementById('ExamplePost')
            //cloning the example post
            clone = original_template.cloneNode(true);
            //change the id to temporary id
            clone.id = "in_progress_post";
            try {
              //place post_clone in hiding container
              hiding_container.appendChild(clone);
            } catch (e) {
            }
          //Section populate the post
            //clone post
            in_progress_post = document.getElementById(clone.id)
          //changing the for loop id of in_progress_post
        //  for_loop_id = "500000000"+post_object['post_id'].toString()
            in_progress_post_first_div_change_for_loop_id=in_progress_post.getElementsByClassName('example-post-for-loop')[0]
            in_progress_post_first_div_change_for_loop_id.id = "headingOnePost"+ post_object['post_id']
          //changinging the post detail href that contains user name and image
          post_detail_url= in_progress_post.getElementsByClassName('href-post-example')[0]
          post_detail_url.href = post_object['url_to_detail_view_of_post']
          //changing the profile img to author of the post
          if (post_object['user_profile_pic_url_post'] != "false") {
            author_image= in_progress_post.getElementsByClassName('user-image-post-example')[0]
            author_image.src = post_object['user_profile_pic_url_post']
          }else {
            author_image= in_progress_post.getElementsByClassName('user-image-post-example')[0]
            author_image.src = "/static/img/default-profile-picture-gmail-2.png"
          }
          //chaning the author name for post
          author_name_post = in_progress_post.getElementsByClassName('post-author-name')[0]
          author_name_post.textContent = '@'+ post_object['user_name_post']
          //chaning the time   for post
          time_posted_post = in_progress_post.getElementsByClassName('post-time-posted')[0]
          // time_posted_post.textContent = post_object['time_published_post']
          time_posted_post.textContent = current_time()
        //Section is for creating stocks
          //changinging the post detail href that contains user name and image
          post_detail_url= in_progress_post.getElementsByClassName('href-post-example')[1]
          post_detail_url.href = post_object['url_to_detail_view_of_post']
                      //if alert remove href
                      if (post_object['alert']=="true") {
                        $(post_detail_url).removeAttr("href").css("cursor","pointer");
                      }
          //Section is for changing the post content
          post_detail_url= in_progress_post.getElementsByClassName('href-post-example')[1]
          post_detail_url.textContent = post_object['content_post']
          //Section is for adding links
          if (post_object['attached_url'][0] != 'null'){
            //grab link container
            attached_url_list_container = in_progress_post.getElementsByClassName('example_attached_url')[0]
            // get lenght of the link list
            attached_url_list = post_object['attached_url'].length
            //create anchor and put the node in the container
              for (var i = 0; i < attached_url_list; i++) {
                var a = document.createElement('a');
                psuedo = post_object['attached_url'][i].slice(0,25) + '...'
                var linkText = document.createTextNode(psuedo);
                a.appendChild(linkText);
                a.href = post_object['attached_url'][i]
                a.className = "p-2"
                attached_url_list_container.appendChild(a);
              }
          }
          //Section for adding pictures
          //if no pics delete the container where pics should go
          if (post_object['url_of_photo_id_post'] == 'false'){
              post_pic_container_example= in_progress_post.getElementsByClassName('post-pic-container-example')[0]
              post_pic_container_example.parentNode.removeChild(post_pic_container_example);
              // console.log("done with pics");
          }else {
            //get the length of the array it's always going to be even and url is the even number
            post_stock_list_lenght = post_object['url_of_photo_id_post'].length
            // repeat for every element in stock_list array
                  for (var i = 0; i <  post_stock_list_lenght; i++) {
                            if (i % 2 == 0) {
                              //on even
                              //get element to store img in
                              if (i>3) {
                                pic_container_post = in_progress_post.getElementsByClassName('pic_container_post_example2')[0]
                                // get inmg example,
                              }else {
                                pic_container_post = in_progress_post.getElementsByClassName('pic_container_post_example')[0]
                                // get inmg example,
                              }
                              image_example_post = in_progress_post.getElementsByClassName('img-example-post')[0]
                              //cloning the image example
                              // console.log(image_example_post);
                              clone = image_example_post.cloneNode(true);
                              //change the id of clone to temporary id
                              //convert post_id to string
                              clone.id = "post_pic_temp"
                              try {
                                //place post in container
                                  pic_container_post.appendChild(clone);
                                  //referenceNode.parentNode.insertBefore(clone, stock_tag_post);
                                  } catch (e) {
                                    // console.log("could not create img");
                                  }
                            //get the generatred img
                            clone=document.getElementById(clone.id)
                             photo_url = post_object['url_of_photo_id_post'][i]
                            clone.src = photo_url
                            // console.log(post_object['url_of_photo_id_post'][i])
                            }else {
                            clone.id = "post_pic_"+post_object['url_of_photo_id_post'][i]
                              // console.log(clone)
                            }
                  }
                  //remove the example element after we are done with the for loop
                  image_example_post = in_progress_post.getElementsByClassName('img-example-post')[0]
                  image_example_post.parentNode.removeChild(image_example_post);
                    // console.log("done with pics");
                    post_pic_container_example= in_progress_post.getElementsByClassName('post-pic-container-example')[0]
          }
          //Section is for adding recipients
            //if there is recipients with the post get rid of the recipients container
            if (post_object['reicpients_name_url_post'] == 'false') {
              //get rid of recipient container
              recipient_container_post = in_progress_post.getElementsByClassName('example-recipient-container')[0]
              recipient_container_post.parentNode.removeChild(recipient_container_post);
              // console.log("done with recipients")
            }
            else {
                    //get the length of the array it's always going to be even and url is the even number
                    post_recipient_list_lenght = post_object['reicpients_name_url_post'].length
                    //Notification list of users to send to
                    list_of_users_to_notify = []
                    // repeat for every element in post_recipient_list_lenght
                    for (var i = 0; i <  post_recipient_list_lenght; i++) {
                      //every other perfom an action if runs on 0
                          if (i % 2 == 0) {
                            //put users name in notification list
                            list_of_users_to_notify.push(post_object['reicpients_name_url_post'][i])
                            //on even
                            //get element to store recipient-tag in
                            recipient_container_post = in_progress_post.getElementsByClassName('example-recipient-container')[0]
                            // get recipient tag,
                            recipient_tag_post = in_progress_post.getElementsByClassName('recipient-tag-post')[0]
                            //cloning the recipient tag post
                            clone = recipient_tag_post.cloneNode(true);
                            //change the id of clone to temporary id
                            //convert post_id to string
                             clone_recipient_id = post_object['post_id'].toString()
                            clone.id = post_object['reicpients_name_url_post'][i]+clone_recipient_id+"post"
                            try {
                              //place recipient tag in container
                                recipient_container_post.appendChild(clone);
                                } catch (e) {
                                  // console.log("could not create post");
                                }
                                //get the generatred recipients tag
                                clone=document.getElementById(clone.id)
                                // change the p tag to the name of the recipients
                                clone.getElementsByTagName('p')[0].textContent= post_object['reicpients_name_url_post'][i]
                                // console.log(clone);
                                // console.log(post_object['reicpients_name_url_post'][i]);
                          }
                          else {
                            // on odds
                            //get the genereated recipients tack change the href
                            clone.href = post_object['reicpients_name_url_post'][i]
                              }
                    }
                    //remove the example element after we are done with the for loop
                  recipient_tag_post = in_progress_post.getElementsByClassName('recipient-tag-post')[0];

                    recipient_tag_post.parentNode.removeChild(recipient_tag_post);
                    // console.log("done with recipients")
            }
            //End creating recipients
            //Section populating like button
            post_like_button= in_progress_post.getElementsByClassName('post_example_like')[0];
            post_like_button.id = "post_like_" + post_object['post_id']
            //Section is for post_like statement container
            post_container_elm_ex= in_progress_post.getElementsByClassName('post_like_container')[0];
            post_container_elm_ex.id = "post_like_container_"+post_object['post_id']
            //Section populating comment button
            post_comment_button= in_progress_post.getElementsByClassName('post_example_comment')[0];
            post_comment_button.id =  post_object['post_id'].toString()
            post_comment_button.setAttribute("post_display","headingOnePost"+post_object['post_id'] );
            //Section populating repost
            post_repost_button= in_progress_post.getElementsByClassName('post_example_repost')[0];
            post_repost_button.setAttribute("postid", post_object['post_id'].toString() );
            post_repost_button.setAttribute("post_display","headingOnePost"+post_object['post_id'] );
                        //if alert do not show comment like or retweet
                        if (post_object['alert']=="true") {
                          post_repost_button.style.display= 'none'
                          post_comment_button.style.display= 'none'
                          post_like_button.style.display= 'none'
                        }
            //Section populating archive
            post_archive_button= in_progress_post.getElementsByClassName('post_example_archive')[0];
            post_archive_button.id = "post_archive_" + post_object['post_id']
            //Section populating report
            post_report_button= in_progress_post.getElementsByClassName('post_example_report')[0];
            post_report_button.id = "post_report_" + post_object['post_id']
            //Section populating delete
            if ("True"=="{{admin}}" || "{{user}}" == post_object['user_name_post'] || "{{moderator}}"=="True") {
              post_delete_button= in_progress_post.getElementsByClassName('post_example_delete')[0];
              post_delete_button.id = "post_delete_" + post_object['post_id']
            }else {
                post_delete_button= in_progress_post.getElementsByClassName('post_example_delete')[0];
                post_delete_button.parentNode.removeChild(post_delete_button);
            }
            //Update container that will carry comments and replys
            //post_comment_reply_container{{object.pk}}
            comment_reply_container_post= in_progress_post.getElementsByClassName('example_post_comment_reply_container')[0];
            comment_reply_container_post.id = "collapseOne" + post_object['post_id']
            class_name = "post_comment_reply_container"+ post_object['post_id']
            comment_reply_container_post.classList.add(class_name);
            comment_reply_container_post.setAttribute("aria-labelledby","headingOnePost"+post_object['post_id'] );
            //update drop down
            example_comment_reply_dropdown_v= in_progress_post.getElementsByClassName('example-comment-reply-dropdown')[0];
            class_name = "post_dropdown_icon"+ post_object['post_id']
            example_comment_reply_dropdown_v.classList.add(class_name);
        //Section is for inserting  new post into dom
            // get the post we have been generating,
            in_progress_post=document.getElementById('in_progress_post')
            //cloning the  post
            clone = in_progress_post.cloneNode(true);
            //change the id to temporary id
            clone.id = "Post"+ post_object['post_id'];
            try {
              //insert final post into the dom
              //
              if (post_object['alert']=="true") {
                console.log("anything in div",element_to_store_post.children.length)
                element_to_store_alert=document.getElementById('alert_container_group')
                        if (element_to_store_alert.children.length == 0) {
                            element_to_store_alert.appendChild(clone);
                        }else {
                            element_to_store_alert.insertBefore(clone, element_to_store_alert.firstChild);
                        }
                            //Place an alert to let the user know that there was an a group alert
                                  dispalay_alert_footer("Group Alert!")
                              //increase ticker
              }else {
                console.log("anything in div",element_to_store_post.children.length)
                if (element_to_store_post.children.length == 0) {
                    element_to_store_post.appendChild(clone);
                }else {
                    element_to_store_post.insertBefore(clone, element_to_store_post.firstChild);
                }
                  // console.log("inserted")
              }
                  dost_pic_container_example= clone.getElementsByClassName('post-pic-container-example')[0]
                // console.log(dost_pic_container_example);
                //remove post in progress
                in_progress_post.parentNode.removeChild(in_progress_post);
                // console.log(element)
                // console.log(document.getElementById('ExamplePost'))
            } catch (e) {}
// end of if statement containg post creation
        }
/////////////////////////////////End Section  Async Post////////////////
/////////////////////////////////Section Creating a new member////////////////
          //create a new member link anchor and  a banner that alerts current members that a new member was added to the group
          if(new_member=='1'){
              //dont create the member link tag on the new users page
              // new user already has status link in views
              if({{new_member}}){
                //banner here saying welcome to the group
                //$('#member_alert_large_screen_modal').modal('toggle')
                              dispalay_alert_footer("Welcome to {{object.title|cap_title}}!")
              }else {
                      //check if the new member tag already exist if so don't create another tag
                      new_member_id =  "memberlink" + user_username
                      new_member_exist=document.getElementById(new_member_id)
                      console.log(new_member_exist);
                      if (new_member_exist == null) {
                        //create a banner saying a new member has joined the group
                        messg = user_username +" Has joined the group"
                        dispalay_alert_footer(messg)
                                //id of the anchor element
                                group_creator_member_anchor = "memberlink"+"{{group_creator}}"
                                //clone the anchor element
                                clone = document.getElementById(group_creator_member_anchor)
                                //cloning the post
                                clone = clone.cloneNode(true);
                                clone.id = "memberlink" + user_username ;
                                scroller_div= document.getElementById("member_scroller")
                                scroller_div.parentNode.append(clone);
                                //change html attribues of the the new member link
                                new_member_link = document.getElementById(clone.id)
                                new_member_information['user_profile_pic_url']
                                //get the attriubute that contains the variable that holds user_name
                                  new_member_link.setAttribute("user_name","@"+user_username );
                                //get the attriubute that contains the variable that holds date_joined
                                new_member_link.setAttribute("date_joined","Just Joined" );
                                //get the attriubute that contains the variable that holds user_profile_url
                                new_member_link.setAttribute("user_profile_url","" );
                                //get the attriubute that contains the variable that holds user_description
                                  new_member_link.setAttribute("user_description","" );
                                //get the attriubute that contains the variable that holds time_spent_in_group
                                new_member_link.setAttribute("time_spent_in_group","New Member" );
                                //get the attriubute that contains the variable that holds user_moderator
                                new_member_link.setAttribute("user_moderator","" );
                                //get the attriubute that contains the variable that holds user_member_status
                                new_member_link.setAttribute("user_member_status","Member" );
                                //change status icon
                                //new_member_link_child_node_user_name_element = document.getElementById(clone.id).children[0].firstElementChild.childern;
                                new_member_link_child_node_user_name_element = document.getElementById(clone.id).getElementsByTagName('p')[0];
                                new_member_link_child_node_user_name_element.textContent = "@"+user_username
                                //new_member_link_child_node_user_name_element.nodeValue = "@"+user_username
                                new_member_link_child_node_status_symbol_id = document.getElementById(clone.id).getElementsByClassName('circle')[0]
                                new_member_link_child_node_status_symbol_id.style.backgroundColor="green";
                                new_member_link_child_node_status_symbol_id.id = "status_symbol"+user_username
                                //changing the profile img to author of the tag
                                if (new_member_information['user_profile_pic_url'] != "false") {
                                   document.getElementById(clone.id).getElementsByClassName('user_pic_memberlink')[0].src = new_member_information['user_profile_pic_url']
                                }else {
                                  // author_image.src = "/static/img/default-profile-picture-gmail-2.png"
                                  document.getElementById(clone.id).getElementsByClassName('user_pic_memberlink')[0].src =  "/static/img/default-profile-picture-gmail-2.png"
                                }
                      }
            }
        }

///////////////////////End section Creating a new member
/////////////////////////////////Section Updataing the group count////////////////
        group_count_element=document.getElementById('group_member_count')
        group_count_element.textContent= group_count
  ///////////////////////End section Creating a new member
///////////////////////Section for Post/Comment/Reply///////////
        // if post_comment_reply_action is called split the variable in three sections to check and do actions
        if (post_comment_reply_action != 'null') {
          console.log(post_comment_reply_action);
            var action_array = post_comment_reply_action.split("_");
            type = action_array[0]
            action = action_array[1]
            object = action_array[2]
            console.log(type);
            console.log(action);
            console.log(object);
                if (type == "post") {
                      if (action == "like") {
                          if (server_reponse_post_comment_reply_action=="like deleted") {
                            delete_like=document. getElementById(post_comment_reply_action)
                            console.log(delete_like)
                            delete_like_num =delete_like.textContent
                            like_int=parseInt(delete_like_num)
                            like_int-=1
                            //delete like tag number of likes is  0 remove element tag
                                if (like_int==0) {
                                  like_tag_element_id = 'post_like_statement_'+object
                                  like_tag_element_el=document.getElementById(like_tag_element_id)
                                  like_tag_element_el.parentNode.removeChild(like_tag_element_el);
                                }else {
                                  //show user the tag to veiw all who have liked ithe post
                                  // get attribute of the last person that liked
                                  // add like tag letting people know who like the post
                                  existing_post_like_statment='post_like_statement_'+object
                                  existing_post_like_statment_el = document.getElementById(existing_post_like_statment)
                                  //get rid of old statment
                                  existing_post_like_statment_el.parentNode.removeChild(existing_post_like_statment_el);
                                  //add new statement
                                  like_element_container = 'post_like_container_'+object
                                  like_element_container=document.getElementById(like_element_container)
                                  post_like_statement_el = '<a id="post_like_statement_'+object+'" onclick="load_user_likes(this)" like="post_'+object+'" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Likes</small></a>'
                                  like_element_container.insertAdjacentHTML('beforeEnd', post_like_statement_el);
                                }
                            like_string=like_int.toString()
                            delete_like.textContent= like_string
                          }
                          if (server_reponse_post_comment_reply_action=="like added") {
                            delete_like=document. getElementById(post_comment_reply_action)
                            console.log(delete_like)
                            delete_like_num =delete_like.textContent
                            like_int=parseInt(delete_like_num)
                            like_int+=1
                            like_string=like_int.toString()
                            delete_like.textContent= like_string
                            // add like tag letting people know who like the post
                            existing_post_like_statment='post_like_statement_'+object
                            existing_post_like_statment_el = document.getElementById(existing_post_like_statment)
                                if (existing_post_like_statment_el) {
                                  //get rid of old statment
                                  existing_post_like_statment_el.parentNode.removeChild(existing_post_like_statment_el);
                                  //add new statment
                                  like_element_container = 'post_like_container_'+object
                                  like_element_container=document.getElementById(like_element_container)
                                  post_like_statement_el = '<a id="post_like_statement_'+object+'" onclick="load_user_likes(this)" like="post_'+object+'" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Liked by: <strong>'+user_username+'</strong>   </small></a>'
                                  like_element_container.insertAdjacentHTML('beforeEnd', post_like_statement_el);
                                }else {
                                  //add new statement
                                  like_element_container = 'post_like_container_'+object
                                  like_element_container=document.getElementById(like_element_container)
                                  post_like_statement_el = '<a id="post_like_statement_'+object+'" onclick="load_user_likes(this)" like="post_'+object+'" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Liked by: <strong>'+user_username+'</strong>   </small></a>'
                                  like_element_container.insertAdjacentHTML('beforeEnd', post_like_statement_el);
                                }
                          }
                      }
                      if (action == "delete") {
                        console.log(action)
                        post_id= "Post" +object
                        var element = document. getElementById(post_id);
                        element. parentNode. removeChild(element);
                        //display alert only on the current users page
                        current_user = "{{user}}"
                        if (current_user == user_username ) {
                                dispalay_alert_footer("Post Deleted!")
                              }
                            }
                      if (action == "report") {
                            current_user = "{{user}}"
                            if (current_user == user_username ) {
                                      if (server_reponse_post_comment_reply_action != 'null') {
                                        //change html attribues of the the new member link
                                        dispalay_alert_footer(server_reponse_post_comment_reply_action)
                                      }else {
                                        //change html attribues of the the new member link
                                        dispalay_alert_footer("Post Reported!")
                                      }
                                  }
                            }
                      if (action =="archive") {
                            current_user = "{{user}}"
                            if (current_user == user_username ) {
                                    if (server_reponse_post_comment_reply_action != 'null') {
                                      //change html attribues of the the new member link
                                      dispalay_alert_footer(server_reponse_post_comment_reply_action)
                                    }else {
                                      //change html attribues of the the new member link
                                      dispalay_alert_footer("Post Archived!")
                                    }
                                }
                        }
                }
                if (type == "comment") {
                      if (action == "like") {
                          if (server_reponse_post_comment_reply_action=="like deleted") {
                            delete_like=document. getElementById(post_comment_reply_action)
                            delete_like_num =delete_like.textContent
                            like_int=parseInt(delete_like_num)
                            like_int-=1
                            //delete like tag number of likes is  0 remove element tag
                                if (like_int==0) {
                                  console.log("deleting comment like")
                                  like_tag_element_id = 'comment_like_statement_'+object
                                  like_tag_element_el=document.getElementById(like_tag_element_id)
                                  like_tag_element_el.parentNode.removeChild(like_tag_element_el);
                                }else {
                                  //show user the tag to veiw all who have liked ithe post
                                  // get attribute of the last person that liked
                                  // add like tag letting people know who like the post
                                  existing_post_like_statment='comment_like_statement_'+object
                                  existing_post_like_statment_el = document.getElementById(existing_post_like_statment)
                                  //get rid of old statment
                                  existing_post_like_statment_el.parentNode.removeChild(existing_post_like_statment_el);
                                  //add new statement
                                  like_element_container = 'comment_like_container_'+object
                                  like_element_container=document.getElementById(like_element_container)
                                  post_like_statement_el = '<a id="comment_like_statement_'+object+'" onclick="load_user_likes(this)" like="comment_'+object+'" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Likes</small></a>'
                                  like_element_container.insertAdjacentHTML('beforeEnd', post_like_statement_el);
                                }
                            like_string=like_int.toString()
                            delete_like.textContent= like_string
                          }
                          if (server_reponse_post_comment_reply_action=="like added") {
                            delete_like=document. getElementById(post_comment_reply_action)
                            delete_like_num =delete_like.textContent
                            like_int=parseInt(delete_like_num)
                            like_int+=1
                            like_string=like_int.toString()
                            delete_like.textContent= like_string
                            // add like tag letting people know who like the post
                            existing_post_like_statment='comment_like_statement_'+object
                            existing_post_like_statment_el = document.getElementById(existing_post_like_statment)
                                if (existing_post_like_statment_el) {
                                  //get rid of old statment
                                  existing_post_like_statment_el.parentNode.removeChild(existing_post_like_statment_el);
                                  //add new statment
                                  like_element_container = 'comment_like_container_'+object
                                  like_element_container=document.getElementById(like_element_container)
                                  post_like_statement_el = '<a id="comment_like_statement_'+object+'" onclick="load_user_likes(this)" like="comment_'+object+'" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Liked by: <strong>'+user_username+'</strong>   </small></a>'
                                  like_element_container.insertAdjacentHTML('beforeEnd', post_like_statement_el);
                                }else {
                                  //add new statement
                                  like_element_container = 'comment_like_container_'+object
                                  like_element_container=document.getElementById(like_element_container)
                                  post_like_statement_el = '<a id="comment_like_statement_'+object+'" onclick="load_user_likes(this)" like="comment_'+object+'" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Liked by: <strong>'+user_username+'</strong>   </small></a>'
                                  like_element_container.insertAdjacentHTML('beforeEnd', post_like_statement_el);
                                }
                          }
                      }
                      if (action == "delete") {
                        post_id= "Comment" +object
                        var element = document. getElementById(post_id);
                        element. parentNode. removeChild(element);
                        //display alert only on the current users page
                        current_user = "{{user}}"
                        if (current_user == user_username ) {
                                dispalay_alert_footer("Comment Deleted!")
                              }
                            }
                      if (action == "report") {
                            current_user = "{{user}}"
                            if (current_user == user_username ) {
                                      if (server_reponse_post_comment_reply_action != 'null') {
                                        //change html attribues of the the new member link
                                        dispalay_alert_footer(server_reponse_post_comment_reply_action)
                                      }else {
                                        //change html attribues of the the new member link
                                        dispalay_alert_footer("Comment Reported!")
                                      }
                                  }
                            }
                      if (action =="archive") {
                            current_user = "{{user}}"
                            if (current_user == user_username ) {
                                    if (server_reponse_post_comment_reply_action != 'null') {
                                      dispalay_alert_footer(server_reponse_post_comment_reply_action)
                                    }else {
                                      dispalay_alert_footer("Comment Archived!")
                                    }
                                }
                        }
                }
                if (type == "reply") {
                      if (action == "like") {
                          if (server_reponse_post_comment_reply_action=="like deleted") {
                            delete_like=document. getElementById(post_comment_reply_action)
                            console.log(delete_like)
                            delete_like_num =delete_like.textContent
                            like_int=parseInt(delete_like_num)
                            like_int-=1
                            //delete like tag number of likes is  0 remove element tag
                                if (like_int==0) {
                                  console.log("deleting reply like")
                                  like_tag_element_id = 'reply_like_statement_'+object
                                  like_tag_element_el=document.getElementById(like_tag_element_id)
                                  like_tag_element_el.parentNode.removeChild(like_tag_element_el);
                                }else {
                                  //show user the tag to veiw all who have liked ithe post
                                  // get attribute of the last person that liked
                                  // add like tag letting people know who like the post
                                  existing_post_like_statment='reply_like_statement_'+object
                                  existing_post_like_statment_el = document.getElementById(existing_post_like_statment)
                                  //get rid of old statment
                                  existing_post_like_statment_el.parentNode.removeChild(existing_post_like_statment_el);
                                  //add new statement
                                  like_element_container = 'reply_like_container_'+object
                                  like_element_container=document.getElementById(like_element_container)
                                  post_like_statement_el = '<a id="reply_like_statement_'+object+'" onclick="load_user_likes(this)" like="reply_'+object+'" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Likes</small></a>'
                                  like_element_container.insertAdjacentHTML('beforeEnd', post_like_statement_el);
                                }
                            like_string=like_int.toString()
                            delete_like.textContent= like_string
                          }
                          if (server_reponse_post_comment_reply_action=="like added") {
                            delete_like=document. getElementById(post_comment_reply_action)
                            console.log(delete_like)
                            delete_like_num =delete_like.textContent
                            like_int=parseInt(delete_like_num)
                            like_int+=1
                            like_string=like_int.toString()
                            delete_like.textContent= like_string
                            // add like tag letting people know who like the post
                            existing_post_like_statment='reply_like_statement_'+object
                            existing_post_like_statment_el = document.getElementById(existing_post_like_statment)
                                if (existing_post_like_statment_el) {
                                  console.log("editing exiting reply")
                                  //get rid of old statment
                                  existing_post_like_statment_el.parentNode.removeChild(existing_post_like_statment_el);
                                  console.log("existing_post_like_statment_el",existing_post_like_statment_el)
                                  //add new statment
                                  like_element_container = 'reply_like_container_'+object
                                  like_element_container=document.getElementById(like_element_container)
                                  post_like_statement_el = '<a id="reply_like_statement_'+object+'" onclick="load_user_likes(this)" like="reply_'+object+'" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Liked by: <strong>'+user_username+'</strong>   </small></a>'
                                  like_element_container.insertAdjacentHTML('beforeEnd', post_like_statement_el);
                                }else {
                                  //add new statement
                                  like_element_container = 'reply_like_container_'+object
                                  like_element_container=document.getElementById(like_element_container)
                                  console.log("creating like tag",like_element_container)
                                  post_like_statement_el = '<a id="reply_like_statement_'+object+'" onclick="load_user_likes(this)" like="reply_'+object+'" data-toggle="modal" data-target="#like_list_user_modal" class="cancela ml-1" ><small>Liked by: <strong>'+user_username+'</strong>   </small></a>'
                                  like_element_container.insertAdjacentHTML('beforeEnd', post_like_statement_el);
                                }
                          }
                      }
                      if (action == "delete") {
                        console.log(action)
                        post_id= "Reply" +object
                        var element = document. getElementById(post_id);
                        element. parentNode. removeChild(element);
                        //display alert only on the current users page
                        current_user = "{{user}}"
                        if (current_user == user_username ) {
                                dispalay_alert_footer("Comment Deleted!")
                              }
                            }
                      if (action == "report") {
                            current_user = "{{user}}"
                            if (current_user == user_username ) {
                                      if (server_reponse_post_comment_reply_action != 'null') {
                                         dispalay_alert_footer(server_reponse_post_comment_reply_action)
                                      }else {
                                         dispalay_alert_footer("Comment Reported!")
                                      }
                                  }
                            }
                      if (action =="archive") {
                            current_user = "{{user}}"
                            if (current_user == user_username ) {
                                    if (server_reponse_post_comment_reply_action != 'null') {
                                      dispalay_alert_footer(server_reponse_post_comment_reply_action)
                                    }else {
                                      dispalay_alert_footer("Comment Archived!")
                                    }
                                }
                        }
                }
        }
///////////////////////End Section///////////

/////////////////////////////////Section Member Login Icon Staus change
        //when we get a one because the message server knows we are on the page so change status symbol
        try{
          if(user_on_group_page == '1'){
            status_symbol_id = "status_symbol"+user_username
              //if the message is not an error append to chat creen with the new line
                document.getElementById(status_symbol_id).style.backgroundColor = "green";
          };
            //when we get a 0 the  server knows we are not on the page so change status symbol
            if(user_on_group_page == '0'){
              status_symbol_id = "status_symbol"+user_username
                //if the message is not an error append to chat creen with the new line
                  document.getElementById(status_symbol_id).style.backgroundColor = "yellow";
            };
          }catch(err) {
        console.log("user was kicked")
          }
///////////////////////End Section Icon Staus change

///////////////////////////Section Membership Change got a message from the server indicatiating member status changed
      //description: kick the user or change the status of the user real time
if(pending_status == 'Removal'){
  //id of member link
  member_tag = "memberlink"+pending_member_change_username
    //if the message is not an error append to chat creen with the new line
      removed_member = document.getElementById(member_tag)
      //only scroll the users page if they are the user being kicked or they are the group creator
      if(pending_member_change_username=="{{user}}"){
        document.getElementById('aknowledge_kicked_from_group_button').click()
              ///put a banner here saying you have been kicked
      }
      {%if admin%}
        removed_member.scrollIntoView({behavior: "smooth", block: "start", inline: "nearest"})
      {%endif%}
      removed_member.parentNode.removeChild(removed_member);
};

// change the html attribute of the user
if(pending_status == 'Member' || pending_status == 'Moderator'){
  //id of member link
  member_tag = "memberlink"+pending_member_change_username
    //if the message is not an error append to chat creen with the new line
      member_with_status_change = document.getElementById(member_tag).setAttribute("user_member_status",pending_status );
};

///////////////////////End Membership Change////////////////////
//////Section is for processing Notifications
if (notification_content != 'null'){
  usersnotification = "{{user}}"
          if (notification_object["userprofile_name"] ==usersnotification) {
          //console.log(notification_object);
          //Get the element that we want to store the notification in
              element_to_store_notification = document.getElementById('Dividend_Wealth_Notification_modal_container')
          //Section get the template example post and generate the starter post
                //get element to store post in progress
                hiding_container=document.getElementById('hiding_container')
                // get the example post,
                original_template=document.getElementById('Example_Notification')
                //cloning the example post
                clone = original_template.cloneNode(true);
                //change the id to temporary id
                clone.id = "in_progress_notification_example";
                try {
                  //place post_clone in hiding container
                  hiding_container.appendChild(clone);
                } catch (e) {
                }
          //Section is for populating notification
          if (notification_object["type"]=="post") {
            if (notification_object["action"]=="like") {
              in_progress_notification_example=document.getElementById('in_progress_notification_example')
              //populating action user image
                  action_user_img_element=in_progress_notification_example.getElementsByClassName('example_action_user_profile_pic')[0]
                  if (notification_object['action_user_profile_pic']!="false") {
                      action_user_img_element.src = notification_object['action_user_profile_pic']
                  }
                  else {
                      action_user_img_element.src =  "/static/img/default-profile-picture-gmail-2.png"
                  }
              //populating action user name
                action_user_name_element=in_progress_notification_example.getElementsByClassName('example_action_username')[0]
                action_user_name_element.textContent = '@' + notification_object["action_user"]
              //populating action statement
                  action_statement=in_progress_notification_example.getElementsByClassName('example-notification-action-statement')[0]
                  action_statement.textContent = notification_object["action_statement"]
              //populating notification time
                  notification_time=in_progress_notification_example.getElementsByClassName('example-notification-time-posted')[0]
                  notification_time.textContent = notification_object["notification_time"]
              //populating notification notification_aknowledge function element
                  notification_fucntion_elem=in_progress_notification_example.getElementsByClassName('example-notification-place')[0]
                  notification_fucntion_elem.attributes["type_note"].value = notification_object["type"]
                  notification_fucntion_elem.attributes["action_note"].value = notification_object["action"]
                  notification_fucntion_elem.attributes["notification_url"].value = notification_object["notification_url"]
                  notification_fucntion_elem.attributes["notification_pk"].value = notification_object["notification_pk"]
            }
            if (notification_object["action"]=="mention") {
              in_progress_notification_example=document.getElementById('in_progress_notification_example')
              //populating action user image
                  action_user_img_element=in_progress_notification_example.getElementsByClassName('example_action_user_profile_pic')[0]
                  if (notification_object['action_user_profile_pic']!="false") {
                      action_user_img_element.src = notification_object['action_user_profile_pic']
                  }
                  else {
                      action_user_img_element.src =  "/static/img/default-profile-picture-gmail-2.png" //static url
                  }
              //populating action user name
                action_user_name_element=in_progress_notification_example.getElementsByClassName('example_action_username')[0]
                action_user_name_element.textContent = '@' + notification_object["action_user"]
              //populating action statement
                  action_statement=in_progress_notification_example.getElementsByClassName('example-notification-action-statement')[0]
                  action_statement.textContent = notification_object["action_statement"]
              //populating notification time
                  notification_time=in_progress_notification_example.getElementsByClassName('example-notification-time-posted')[0]
                  notification_time.textContent = notification_object["notification_time"]
              //populating notification notification_aknowledge function element
                  notification_fucntion_elem=in_progress_notification_example.getElementsByClassName('example-notification-place')[0]
                  notification_fucntion_elem.attributes["type_note"].value = notification_object["type"]
                  notification_fucntion_elem.attributes["action_note"].value = notification_object["action"]
                  notification_fucntion_elem.attributes["notification_url"].value = notification_object["notification_url"]
                  notification_fucntion_elem.attributes["notification_pk"].value = notification_object["notification_pk"]
            }
            if (notification_object["action"]=="alert") {
              in_progress_notification_example=document.getElementById('in_progress_notification_example')
              //populating action user image
                  action_user_img_element=in_progress_notification_example.getElementsByClassName('example_action_user_profile_pic')[0]
                  if (notification_object['action_user_profile_pic']!="false") {
                      action_user_img_element.src = notification_object['action_user_profile_pic']
                  }
                  else {
                      action_user_img_element.src =  "/static/img/default-profile-picture-gmail-2.png"
                  }
              //populating action user name
                action_user_name_element=in_progress_notification_example.getElementsByClassName('example_action_username')[0]
                action_user_name_element.textContent = '@' + notification_object["action_user"]
              //populating action statement
                  action_statement=in_progress_notification_example.getElementsByClassName('example-notification-action-statement')[0]
                  action_statement.textContent = notification_object["action_statement"]
              //populating notification time
                  notification_time=in_progress_notification_example.getElementsByClassName('example-notification-time-posted')[0]
                  notification_time.textContent = notification_object["notification_time"]
              //populating notification notification_aknowledge function element
                  notification_fucntion_elem=in_progress_notification_example.getElementsByClassName('example-notification-place')[0]
                  notification_fucntion_elem.attributes["type_note"].value = notification_object["type"]
                  notification_fucntion_elem.attributes["action_note"].value = notification_object["action"]
                  notification_fucntion_elem.attributes["notification_url"].value = notification_object["notification_url"]
                  notification_fucntion_elem.attributes["notification_pk"].value = notification_object["notification_pk"]
            }
          }
          //Section is for populating notification
          if (notification_object["type"]=="comment") {
                if (notification_object["action"]=="like") {
                  in_progress_notification_example=document.getElementById('in_progress_notification_example')
                  //populating action user image
                      action_user_img_element=in_progress_notification_example.getElementsByClassName('example_action_user_profile_pic')[0]
                      if (notification_object['action_user_profile_pic']!="false") {
                          action_user_img_element.src = notification_object['action_user_profile_pic']
                      }
                      else {
                          action_user_img_element.src =  "/static/img/default-profile-picture-gmail-2.png"
                      }
                  //populating action user name
                    action_user_name_element=in_progress_notification_example.getElementsByClassName('example_action_username')[0]
                    action_user_name_element.textContent = '@' + notification_object["action_user"]
                  //populating action statement
                      action_statement=in_progress_notification_example.getElementsByClassName('example-notification-action-statement')[0]
                      action_statement.textContent = notification_object["action_statement"]
                  //populating notification time
                      notification_time=in_progress_notification_example.getElementsByClassName('example-notification-time-posted')[0]
                      notification_time.textContent = notification_object["notification_time"]
                  //populating notification notification_aknowledge function element
                      notification_fucntion_elem=in_progress_notification_example.getElementsByClassName('example-notification-place')[0]
                      notification_fucntion_elem.attributes["type_note"].value = notification_object["type"]
                      notification_fucntion_elem.attributes["action_note"].value = notification_object["action"]
                      notification_fucntion_elem.attributes["notification_url"].value = notification_object["notification_url"]
                      notification_fucntion_elem.attributes["notification_pk"].value = notification_object["notification_pk"]
                      notification_fucntion_elem.attributes["post_id"].value = notification_object["post_pk"]
                }
                if (notification_object["action"]=="mention") {
                  in_progress_notification_example=document.getElementById('in_progress_notification_example')
                  //populating action user image
                      action_user_img_element=in_progress_notification_example.getElementsByClassName('example_action_user_profile_pic')[0]
                      if (notification_object['action_user_profile_pic']!="false") {
                          action_user_img_element.src = notification_object['action_user_profile_pic']
                      }
                      else {
                          action_user_img_element.src =  "/static/img/default-profile-picture-gmail-2.png"
                      }
                  //populating action user name
                    action_user_name_element=in_progress_notification_example.getElementsByClassName('example_action_username')[0]
                    action_user_name_element.textContent = '@' + notification_object["action_user"]
                  //populating action statement
                      action_statement=in_progress_notification_example.getElementsByClassName('example-notification-action-statement')[0]
                      action_statement.textContent = notification_object["action_statement"]
                  //populating notification time
                      notification_time=in_progress_notification_example.getElementsByClassName('example-notification-time-posted')[0]
                      notification_time.textContent = notification_object["notification_time"]
                  //populating notification notification_aknowledge function element
                      notification_fucntion_elem=in_progress_notification_example.getElementsByClassName('example-notification-place')[0]
                      notification_fucntion_elem.attributes["type_note"].value = notification_object["type"]
                      notification_fucntion_elem.attributes["action_note"].value = notification_object["action"]
                      notification_fucntion_elem.attributes["notification_url"].value = notification_object["notification_url"]
                      notification_fucntion_elem.attributes["notification_pk"].value = notification_object["notification_pk"]
                      notification_fucntion_elem.attributes["post_id"].value = notification_object["post_pk"]
                }
          }
          if (notification_object["type"]=="reply") {
            if (notification_object["action"]=="like") {
              in_progress_notification_example=document.getElementById('in_progress_notification_example')
              //populating action user image
                  action_user_img_element=in_progress_notification_example.getElementsByClassName('example_action_user_profile_pic')[0]
                  if (notification_object['action_user_profile_pic']!="false") {
                      action_user_img_element.src = notification_object['action_user_profile_pic']
                  }
                  else {
                      action_user_img_element.src =  "/static/img/default-profile-picture-gmail-2.png"
                  }
              //populating action user name
                action_user_name_element=in_progress_notification_example.getElementsByClassName('example_action_username')[0]
                action_user_name_element.textContent = '@' + notification_object["action_user"]
              //populating action statement
                  action_statement=in_progress_notification_example.getElementsByClassName('example-notification-action-statement')[0]
                  action_statement.textContent = notification_object["action_statement"]
              //populating notification time
                  notification_time=in_progress_notification_example.getElementsByClassName('example-notification-time-posted')[0]
                  notification_time.textContent = notification_object["notification_time"]
              //populating notification notification_aknowledge function element
                  notification_fucntion_elem=in_progress_notification_example.getElementsByClassName('example-notification-place')[0]
                  notification_fucntion_elem.attributes["type_note"].value = notification_object["type"]
                  notification_fucntion_elem.attributes["action_note"].value = notification_object["action"]
                  notification_fucntion_elem.attributes["notification_url"].value = notification_object["notification_url"]
                  notification_fucntion_elem.attributes["notification_pk"].value = notification_object["notification_pk"]
                  notification_fucntion_elem.attributes["post_id"].value = notification_object["post_pk"]
            }
            if (notification_object["action"]=="mention") {
              in_progress_notification_example=document.getElementById('in_progress_notification_example')
              //populating action user image
                  action_user_img_element=in_progress_notification_example.getElementsByClassName('example_action_user_profile_pic')[0]
                  if (notification_object['action_user_profile_pic']!="false") {
                      action_user_img_element.src = notification_object['action_user_profile_pic']
                  }
                  else {
                      action_user_img_element.src =  "/static/img/default-profile-picture-gmail-2.png"
                  }
              //populating action user name
                action_user_name_element=in_progress_notification_example.getElementsByClassName('example_action_username')[0]
                action_user_name_element.textContent = '@' + notification_object["action_user"]
              //populating action statement
                  action_statement=in_progress_notification_example.getElementsByClassName('example-notification-action-statement')[0]
                  action_statement.textContent = notification_object["action_statement"]
              //populating notification time
                  notification_time=in_progress_notification_example.getElementsByClassName('example-notification-time-posted')[0]
                  notification_time.textContent = notification_object["notification_time"]
              //populating notification notification_aknowledge function element
                  notification_fucntion_elem=in_progress_notification_example.getElementsByClassName('example-notification-place')[0]
                  notification_fucntion_elem.attributes["type_note"].value = notification_object["type"]
                  notification_fucntion_elem.attributes["action_note"].value = notification_object["action"]
                  notification_fucntion_elem.attributes["notification_url"].value = notification_object["notification_url"]
                  notification_fucntion_elem.attributes["notification_pk"].value = notification_object["notification_pk"]
                  notification_fucntion_elem.attributes["post_id"].value = notification_object["post_pk"]
            }
          }
          if (notification_object["type"]=="follow") {
            if (notification_object["action"]=="follow") {
                  in_progress_notification_example=document.getElementById('in_progress_notification_example')
                  //populating action user image
                      action_user_img_element=in_progress_notification_example.getElementsByClassName('example_action_user_profile_pic')[0]
                      if (notification_object['action_user_profile_pic']!="false") {
                          action_user_img_element.src = notification_object['action_user_profile_pic']
                      }
                      else {
                          action_user_img_element.src =  "{{default_profile_pic_url}}"
                      }
                  //populating action user name
                    action_user_name_element=in_progress_notification_example.getElementsByClassName('example_action_username')[0]
                    action_user_name_element.textContent = '@' + notification_object["action_user"]
                  //populating action statement
                      action_statement=in_progress_notification_example.getElementsByClassName('example-notification-action-statement')[0]
                      action_statement.textContent = notification_object["action_statement"]
                  //populating notification time
                      notification_time=in_progress_notification_example.getElementsByClassName('example-notification-time-posted')[0]
                      notification_time.textContent =  current_time()
                  //populating notification notification_aknowledge function element
                      notification_fucntion_elem=in_progress_notification_example.getElementsByClassName('example-notification-place')[0]
                      notification_fucntion_elem.attributes["type_note"].value = notification_object["type"]
                      notification_fucntion_elem.attributes["action_note"].value = notification_object["action"]
                      notification_fucntion_elem.attributes["notification_url"].value = notification_object["notification_url"]
                      notification_fucntion_elem.attributes["notification_pk"].value = notification_object["notification_pk"]
                      notification_fucntion_elem.attributes["post_id"].value = notification_object["post_pk"]
            }

          }
          //Section is for inserting  new notification into dom
              // get the notifiation we have been generating,
              in_progress_notification_example=document.getElementById('in_progress_notification_example')
              //cloning the  post
              clone = in_progress_notification_example.cloneNode(true);
              //change the id to temporary id
              clone.id = "Notification"+ notification_object["notification_pk"];
              //place the notification in the notification modal
              try {
                element_to_store_notification.insertBefore(clone, element_to_store_notification.firstChild);
              } catch (e) {
                element_to_store_notification.appendChild(clone)
              }
              //delete the notification in progress
              in_progress_notification_example.parentNode.removeChild(in_progress_notification_example);
              //Add count to Dividend wealth Notification
              nav_bar_notification =   document.getElementById('Dividend_Wealth_Notification_Bell_count')
              nav_bar_notification.style.display = "inline"
              note_count= nav_bar_notification.textContent
              note_count=parseInt(note_count)
              note_count = 1+note_count
              note_count= note_count.toString()
              nav_bar_notification.textContent = note_count
              console.log('done updating bell')
        }
}
//////End Notification processing
/////// Section is  for getting rid of status tag of user when user leaves manually/////////////////
if (user_leave_manually == "true"){
  //id of member link
  member_tag = "memberlink"+user_username
    //if the message is not an error append to chat creen with the new line
      removed_member = document.getElementById(member_tag)
      removed_member.parentNode.removeChild(removed_member);
}
// ///////Section is for activating zoom UI on all group member windios
if (zoom_load_iframe != "null") {
  // if the current user is the person that started the meeting
  if (current_user_username == zoom_load_iframe.user_create_zoom) {
        // present_start meeting url
        //present cording button
        console.log("worked")
        //remove start meeting button
        //remove join meeting button
      document.getElementById("group_title").insertAdjacentHTML('beforebegin', '<div  id="active_zoom_meeting_info" class="text-center"><p>Active Zoom Meeting:</p><div> If a zoom page did not appear:<a href="'+zoom_load_iframe.start_url+'" >Start Your Confrence Here </a></div></div>')
      // insert zoom  close button
      document.getElementById('group_title').insertAdjacentHTML('beforebegin', '<div id="end_zoom_meeting_button" class="text-center"><a  class="btn btn-primary btn-sm btn-rounded mb-1 " onclick="zoom_creator_close_meeting()">End Zoom Meeting</a></div>')
      dispalay_alert_footer("Active Zoom Meeting")
  }else {
      // for regular member
      // show the join url in case there browser does not support the meeting
      document.getElementById("group_title").insertAdjacentHTML('beforebegin', '<div  id="active_zoom_meeting_info" class="text-center"><p>Active Zoom Meeting:</p><div>If the zoom meeting is not displaying on your screen::<a href="'+zoom_load_iframe.join_url+'">Join Confrence Here</a></div></div>')
      // insert zoom  close button
      document.getElementById('group_title').insertAdjacentHTML('beforebegin', '<div id="end_zoom_meeting_button" class="text-center"><a  class="btn btn-primary btn-sm btn-rounded mb-1 " onclick="zoom_creator_close_meeting()">End Zoom Meeting</a></div>')
      // message saying zoom meeting has started
      dispalay_alert_footer("Active Zoom Meeting")
  }
  // check to see if user has console block enabled
  // bring up the iframe but first remove it if it already there
  if (document.getElementById('display_zoom_iframe')) {
      add_group_image()
  }
    add_iframe();//group members only
}
if (zoom_close_group_meeting != "null") {
  add_group_image()
  dispalay_alert_footer(" Zoom Meeting Closed")
}
};
  //Section to subit member changes from modal for group creator
          //manage member creator member change
          function submit_member_change() {
            //get the modal elements that we want to send  user_modal_status
              user_modal_status = document.getElementById("user_modal_status").innerHTML
              //get the modal elements that we want to send user_modal_username
              user_modal_username = document.getElementById("user_modal_username").innerHTML
            //check to see if staus is equal to whats already initialized if so change text and do nothing else get the user and the status
            if (user_modal_status =="Status: Member" || user_modal_status =="Status: Admin"|| user_modal_status =="Status: Moderator" ) {
                  help_info = document.getElementById("status_help_info")
                  help_info.innerHTML = "No change present"
            }else
              {
                        //filter the user name to get rid of @
                        user_modal_username = user_modal_username.split("@")[1];
                        //getting the status that creator wants to change
                        //check to see if status is kick else change status to known value moderator or member
                            status_string_list = user_modal_status.split(" ")
                        if (status_string_list[3]!= undefined) {
                            user_modal_status=status_string_list[3]
                            document.getElementById('modalLoginAvatar_button').click()
                        }else {
                          user_modal_status=status_string_list[2]
                             document.getElementById('modalLoginAvatar_button').click()
                           //$('#Guidelines').click()
              }
            }
               chatSocket.send(JSON.stringify({
                 //Section sending the pending status of  member change, and name of member sent by the creator of the group
                  'pending_status':user_modal_status,
                   'pending_member_change_username':user_modal_username,
               }));
            }
  //end submit changes section
//////////Section is for accepting variable that have to deal with post/comment/reply delete archive and report//////
function post_comment_reply_action(post_id){
//prevent repetion
//https://stackoverflow.com/questions/2345708/how-can-i-get-the-full-absolute-url-with-domain-in-django
site = "{{ request.build_absolute_uri }}"
site=site.replace(/\/$/, "");
console.log("post_comment_reply_action",post_id)
x=0
if (x==0) {
  chatSocket.send(JSON.stringify({
    //Section to
    // action button cliked on has the action associated with it... ex if user clicked like button on post id will be post_like_16
     'post_comment_reply_action':post_id,
     'user_username':"{{user}}",
     'notification_url': site
  }));
  x=1
}}
///////End Section //////////
////////////////Remove the footer alert button////////
function remove_alert_button(){
  try {
    alert_footer = document.getElementById('alert_footer')
    alert_footer.removeChild(alert_footer.childNodes[0]);
  } catch (e) {
  }
}
function dispalay_alert_footer(message) {
  try {
    remove_alert_button()
  } catch (e) {
    console.log("no alert")
  }
  try {
    content='<button id="alert_footer_content" class="btn btn-primary btn-lg btn-block waves-effect pr-0" onclick="remove_alert_button()"><div class="d-flex justify-content-start"><span><p>'+message+'</p></span> <span><i class="ui times icon ml-3" onclick="remove_alert_button()"></i></span></div></button>'
    alert_footer.insertAdjacentHTML('beforeEnd', content);
  } catch (e) {
  }
}
function dispalay_alert_footer_loader(message) {
  try {
    remove_alert_button()
  } catch (e) {
    console.log("no alert")
  }
  try {
    content='<button id="alert_footer_content" class="btn btn-primary btn-lg btn-block waves-effect pr-0 pl-0" onclick="remove_alert_button()"><div class="d-flex justify-content-start"><div class="spinner-border text-dark mx-2" role="status" id="loader_process"><span class="sr-only">Loading...</span></div><span><p>'+message+'</p></span> <span><i class="ui times icon ml-3" onclick="remove_alert_button()"></i></span></div></button>'
    alert_footer.insertAdjacentHTML('beforeEnd', content);
  } catch (e) {
  }
}
//getting the element that contains the uploaded picture display and deleleteing the img url
function delete_uploaded_img_after_post(clicked_id){
// due to legacy I had to start this way
// put the element of the the photo space needed to be manipulated in variable
  element= clicked_id
//get the id of the photo space
  element_id= element.id
  //split the  photo space id
  button_id=element_id.split("_")
  //get the close icon id for the specific photo
  close_icon_id =element_id + "_close"
  //get the close icon element for the specific photo
  close_icon_element = document.getElementById(close_icon_id)
  //get the url of the photo that needs to be deleted
  photo_to_delete =document.getElementById(element_id).src
  console.log(photo_to_delete,"url of photo");
  for ( i = 1; i < 5; i++) {
    //counter
    num = String(i)
    //get the file button that contains the photo
    file_input_button = button_id[0] +"_photo_upload_button_" + num
    //console.log(file_input_button)
    //find the button that contains the picture from stored value set in url read function
    if (element.attributes["file_name"] == undefined) {
      console.log("no pics");
    }
    else {
            if( document.getElementById(file_input_button).value == element.attributes["file_name"].value){
              //console.log(  document.getElementById(file_input_button).files)
              //get rid of the file value
              document.getElementById(file_input_button).value = ''
              //get rid of the picture source from image space
              element.src = ''
              //get rid of picture source from created variable
              element.setAttribute('file_name','');
              //hide the picture space
              element.style.display = "none"
              // hide the close icon
              close_icon_element.style.display = "none"
              // console.log(  document.getElementById(file_input_button).files)
              // console.log(element)
              return
                }
          }
      }
}
//Section for redirecting user away from page after being kicked
function redirect_user_after_kicked() {
  //user cannot go back to page
var pathArray = "{{ request.build_absolute_uri }}".split( '/' );
var protocol = pathArray[0];
var host = pathArray[2];
var url = protocol + '//' + host + "{% url 'core:user_dashboard'%}"
window.location.replace(url);
}
function close_remove_file_pending_modal() {
  document.getElementById('remove_file_pending_modal_button').click()
}
function update_remove_file_modal(e) {
  document.getElementById('remove_file_remove_button').attributes["delete_group_file_pk"].value = e.attributes["delete_group_file_pk"].value
}
//remove file from group list
function remove_file(element){
  delete_group_file = element.attributes["delete_group_file_pk"].value
  //send pk of file to consumer
  console.log(delete_group_file)
  //delete_group_file_pk = parseInt(delete_group_file)
   delete_group_file_pk = delete_group_file.replace(/\D/g, "");
  console.log(delete_group_file_pk)
  chatSocket.send(JSON.stringify({
    //Section to
     'delete_group_file_pk':delete_group_file_pk,
     'user_username':"{{user}}",
  }));
  //delete the watchlist element
file_container= element.attributes["delete_group_file_pk"].value
  console.log(file_container);
  file_container_element=document.getElementById(file_container)
  file_container_element.parentNode.removeChild(file_container_element);
  //put alert up
  try {
    remove_alert_button()
  } catch (e) {
    console.log("no alert")
  }
  //place alert on users page
  alert_footer=document.getElementById('alert_footer')
  //clone the alert element
  clone = document.getElementById('alert_footer_content')
  //cloning the alert
  clone = clone.cloneNode(true);
  clone.id = "file_container_watchlilist";
  try {
    alert_footer.appendChild(clone);
    //$('#alert_footer').appendTo(clone).show('slow');
  } catch (e) {
  }
  close_remove_file_pending_modal()
  //change html attribues of the the new member link
  post_sending = document.getElementById(clone.id).getElementsByTagName('p')[0]
  post_sending.textContent = "File Removed from Group"
}
//fade out alert and fade in alert
//https://stackoverflow.com/questions/29017379/how-to-make-fadeout-effect-with-pure-javascript
// //calculating user group time
$(document).ready(function() {
 start = new Date();
window.onpagehide = event => {
// $(window).bind('beforeunload', function(){
      var end = new Date();
      chatSocket.send(JSON.stringify({
          //Section to send time
         'group_time_spent': end - start,
         'user_username':"{{user}}",
      }));
};
});
//processing clicked on modal notification
function notification_aknowledge(element) {
  //get the web url we are at and compare it to the notification_url
  site = "{{ request.build_absolute_uri }}"
  site=site.replace(/\/$/, "");
  //close notification
notification_id_checked = element.attributes["notification_pk"].value
var csrftoken = jQuery("[name=csrfmiddlewaretoken]").val();
function csrfSafeMethod(method) {
    // these HTTP methods do not require CSRF protection
    return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
}
$.ajaxSetup({
    beforeSend: function (xhr, settings) {
        // if not safe, set csrftoken
        if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
            xhr.setRequestHeader("X-CSRFToken", csrftoken);
        }
    }
});
$.ajax({
  type: "POST",
    url:"{% url 'core:group' slug=object.slug %}",
    data: {
      'notification_id_checked': notification_id_checked,
    },
     dataType: 'json', //have to add in the data type
    success: function (data) {
      // get rid of green overlay
      notification_element_id = 'Notification'+notification_id_checked
      notification_element_id =document.getElementById(notification_element_id)
      notification_color_element=notification_element_id.getElementsByClassName('list-group-item-action')[0]
      if (notification_color_element.classList.contains("unchecked-notification")) {
        notification_color_element.classList.remove("unchecked-notification");
      }
    }
});
  $('#Dividend_Wealth_Notification_modal_button_close').click()
  chatSocket.send(JSON.stringify({
      //Section to send time
     'notifiation_checked': 'true',
     'user_username':"{{user}}",
  }));
    nav_bar_notification =   document.getElementById('Dividend_Wealth_Notification_Bell_count')
    nav_bar_notification.textContent = '0'
    nav_bar_notification.style.display = "none"
    url = element.attributes["notification_url"].value
    type_notification = element.attributes["type_note"].value
    action_note = element.attributes["action_note"].value
    post_id = element.attributes["post_id"].value
//don't do Anything if notification is a watchlist one
if (action_note != 'watchlist') {
  //slit the url from the id of notification instance
    url=url.split("#");
      //console.log(url[1])
      //if we are on notification site
    if (url[0]==site) {
      //grab board header
      //if not on the board add notification
      //get notification elements
      if (type_notification=='post') {
              //post like container
              if (action_note == 'like') {
                    //Section show post in the feed
                      group_board_header=  document.getElementById('pills-profile-tab')
                      //if  on board
                          if (group_board_header.attributes["aria-selected"].value == "true") {
                            //get the post element
                            post=  document.getElementById(url[1])
                            //scroll to the post element
                            post.scrollIntoView({behavior: "smooth",block: "center",})
                            console.log('on board page')
                          }else {
                            //click on the board button
                            group_board_header.click()
                            //grab element
                            post=  document.getElementById(url[1])
                            //page does not load fast enough so I included the set interval to wait for the page to load
                            var checkExist = setInterval(function() {
                                         if ($('#'+url[1]).length) {
                                            // console.log("Exists!");
                                            clearInterval(checkExist);
                                            post=  document.getElementById(url[1])
                                            post.scrollIntoView({behavior: "smooth",block: "center",})
                                         }
                                      }, 600);
                            console.log('on board page')
                          }
              }
              //post like container
              //post like container
              if (action_note == 'mention') {
                    //Section show post in the feed
                      group_board_header=  document.getElementById('pills-profile-tab')
                      //if  on board
                          if (group_board_header.attributes["aria-selected"].value == "true") {
                            //get the post element
                            post=  document.getElementById(url[1])
                            //scroll to the post element
                            post.scrollIntoView({behavior: "smooth",block: "center",})
                            console.log('on board page')
                          }else {
                            //click on the board button
                            group_board_header.click()
                            //grab element
                            post=  document.getElementById(url[1])
                            //page does not load fast enough so I included the set interval to wait for the page to load
                            var checkExist = setInterval(function() {
                                         if ($('#'+url[1]).length) {
                                            // console.log("Exists!");
                                            clearInterval(checkExist);
                                            post=  document.getElementById(url[1])
                                            post.scrollIntoView({behavior: "smooth",block: "center",})
                                         }
                                      }, 600);
                            console.log('on board page')
                          }
              }
              if (action_note == 'alert') {
                    //Section show post in the feed
                      group_board_header=  document.getElementById('pills-home-tab')
                      //if  on board
                          if (group_board_header.attributes["aria-selected"].value == "true") {
                            //get the post element
                            post=  document.getElementById(url[1])
                            //scroll to the post element
                            post.scrollIntoView({behavior: "smooth",block: "center",})
                            console.log('on board page')
                          }else {
                            //click on the board button
                            group_board_header.click()
                            //grab element
                            post=  document.getElementById(url[1])
                            //page does not load fast enough so I included the set interval to wait for the page to load
                            var checkExist = setInterval(function() {
                                         if ($('#'+url[1]).length) {
                                            // console.log("Exists!");
                                            clearInterval(checkExist);
                                            post=  document.getElementById(url[1])
                                            post.scrollIntoView({behavior: "smooth",block: "center",})
                                         }
                                      }, 600);
                            console.log('on board page')
                          }
              }
      }
      if (type_notification=='comment') {
        //post like container
        if (action_note == 'like') {
              //Section show post in the feed
                group_board_header=  document.getElementById('pills-profile-tab')
                //if  on board
                    if (group_board_header.attributes["aria-selected"].value == "true") {
                      //click the drop down of the comment
                      class_name="post_dropdown_icon"+post_id
                      post_dropdown_icon_v = document.getElementsByClassName(class_name)[0]
                        console.log(post_dropdown_icon_v)
                      //if the dropdown not open open it
                      if ( post_dropdown_icon_v.attributes["aria-expanded"].value == "false") {
                        $(post_dropdown_icon_v).click()
                      }
                      //get the post element
                      post=  document.getElementById(url[1])
                      //scroll to the post element
                      post.scrollIntoView({behavior: "smooth",block: "center",})
                      console.log('on board page')
                    }else {
                      //click on the board button
                      group_board_header.click()
                      //grab element
                      post=  document.getElementById(url[1])
                      //page does not load fast enough so I included the set interval to wait for the page to load
                      var checkExist = setInterval(function() {
                                   if ($('#'+url[1]).length) {
                                      // console.log("Exists!");
                                      clearInterval(checkExist);
                                      //click the drop down of the comment
                                      class_name="post_dropdown_icon"+post_id
                                      post_dropdown_icon_v = document.getElementsByClassName(class_name)[0]
                                      //if the dropdown not open open it
                                      if ( post_dropdown_icon_v.attributes["aria-expanded"].value == "false") {
                                        $(post_dropdown_icon_v).click()
                                      }
                                      post= document.getElementById(url[1])
                                      post.scrollIntoView({behavior: "smooth",block: "center",})
                                   }
                                }, 600);
                      console.log('on board page')
                    }
        }
        //post like container
        if (action_note == 'mention') {
              //Section show post in the feed
                group_board_header=  document.getElementById('pills-profile-tab')
                //if  on board
                    if (group_board_header.attributes["aria-selected"].value == "true") {
                      //click the drop down of the comment
                      class_name="post_dropdown_icon"+post_id
                      post_dropdown_icon_v = document.getElementsByClassName(class_name)[0]
                        console.log(post_dropdown_icon_v)
                      //if the dropdown not open open it
                      if ( post_dropdown_icon_v.attributes["aria-expanded"].value == "false") {
                        $(post_dropdown_icon_v).click()
                      }
                      //get the post element
                      post=  document.getElementById(url[1])
                      //scroll to the post element
                      post.scrollIntoView({behavior: "smooth",block: "center",})
                      console.log('on board page')
                    }else {
                      //click on the board button
                      group_board_header.click()
                      //grab element
                      post=  document.getElementById(url[1])
                      //page does not load fast enough so I included the set interval to wait for the page to load
                      var checkExist = setInterval(function() {
                                   if ($('#'+url[1]).length) {
                                      // console.log("Exists!");
                                      clearInterval(checkExist);
                                      //click the drop down of the comment
                                      class_name="post_dropdown_icon"+post_id
                                      post_dropdown_icon_v = document.getElementsByClassName(class_name)[0]
                                      //if the dropdown not open open it
                                      if ( post_dropdown_icon_v.attributes["aria-expanded"].value == "false") {
                                        $(post_dropdown_icon_v).click()
                                      }
                                      post= document.getElementById(url[1])
                                      post.scrollIntoView({behavior: "smooth",block: "center",})
                                   }
                                }, 600);
                      console.log('on board page')
                    }
        }
        //post like container
      }
      if (type_notification=='reply') {
        //post like container
        if (action_note == 'like') {
              //Section show post in the feed
                group_board_header=  document.getElementById('pills-profile-tab')
                //if  on board
                    if (group_board_header.attributes["aria-selected"].value == "true") {
                      //click the drop down of the comment
                      class_name="post_dropdown_icon"+post_id
                      post_dropdown_icon_v = document.getElementsByClassName(class_name)[0]
                        console.log(post_dropdown_icon_v)
                      //if the dropdown not open open it
                      if ( post_dropdown_icon_v.attributes["aria-expanded"].value == "false") {
                        $(post_dropdown_icon_v).click()
                      }
                      //get the post element
                      post=  document.getElementById(url[1])
                      //scroll to the post element
                      post.scrollIntoView({behavior: "smooth",block: "center",})
                      console.log('on board page')
                    }else {
                      //click on the board button
                      group_board_header.click()
                      //grab element
                      post=  document.getElementById(url[1])
                      //page does not load fast enough so I included the set interval to wait for the page to load
                      var checkExist = setInterval(function() {
                                   if ($('#'+url[1]).length) {
                                      // console.log("Exists!");
                                      clearInterval(checkExist);
                                      //click the drop down of the comment
                                      class_name="post_dropdown_icon"+post_id
                                      post_dropdown_icon_v = document.getElementsByClassName(class_name)[0]
                                      //if the dropdown not open open it
                                      if ( post_dropdown_icon_v.attributes["aria-expanded"].value == "false") {
                                        $(post_dropdown_icon_v).click()
                                      }
                                      post= document.getElementById(url[1])
                                      post.scrollIntoView({behavior: "smooth",block: "center",})
                                   }
                                }, 600);
                      console.log('on board page')
                    }
        }
        //post like container
        //post like container
        if (action_note == 'mention') {
              //Section show post in the feed
                group_board_header=  document.getElementById('pills-profile-tab')
                //if  on board
                    if (group_board_header.attributes["aria-selected"].value == "true") {
                      //click the drop down of the comment
                      class_name="post_dropdown_icon"+post_id
                      post_dropdown_icon_v = document.getElementsByClassName(class_name)[0]
                        console.log(post_dropdown_icon_v)
                      //if the dropdown not open open it
                      if ( post_dropdown_icon_v.attributes["aria-expanded"].value == "false") {
                        $(post_dropdown_icon_v).click()
                      }
                      //get the post element
                      post=  document.getElementById(url[1])
                      //scroll to the post element
                      post.scrollIntoView({behavior: "smooth",block: "center",})
                      console.log('on board page')
                    }else {
                      //click on the board button
                      group_board_header.click()
                      //grab element
                      post=  document.getElementById(url[1])
                      //page does not load fast enough so I included the set interval to wait for the page to load
                      var checkExist = setInterval(function() {
                                   if ($('#'+url[1]).length) {
                                      // console.log("Exists!");
                                      clearInterval(checkExist);
                                      //click the drop down of the comment
                                      class_name="post_dropdown_icon"+post_id
                                      post_dropdown_icon_v = document.getElementsByClassName(class_name)[0]
                                      //if the dropdown not open open it
                                      if ( post_dropdown_icon_v.attributes["aria-expanded"].value == "false") {
                                        $(post_dropdown_icon_v).click()
                                      }
                                      post= document.getElementById(url[1])
                                      post.scrollIntoView({behavior: "smooth",block: "center",})
                                   }
                                }, 600);
                      console.log('on board page')
                    }
        }
        //post like container
      }
    }else {
      //redirect user to notification site
    msdom=0
    }}}
    chatSocket.onclose = function(e) {
        console.error('Chat socket closed unexpectedly');
    };

</script>
<script async type="text/javascript">
var SETTINGS = {
navBarTravelling: false,
navBarTravelDirection: "",
navBarTravelDistance: 150
}
var colours = {
0: "#212529",
1: "#7F4200",
2: "#99813D",
3: "#40FEFF",
4: "#14CC99",
5: "#00BAFF",
6: "#0082B2",
7: "#B25D7A",
8: "#00FF17",
9: "#006B49",
10: "#00B27A",
11: "#996B3D",
12: "#CC7014",
13: "#40FF8C",
14: "#FF3400",
15: "#ECBB5E",
16: "#ECBB0C",
17: "#B9D912",
18: "#253A93",
19: "#125FB9",
}
document.documentElement.classList.remove("no-js");
document.documentElement.classList.add("js");
// Out advancer buttons
var pnAdvancerLeft = document.getElementById("pnAdvancerLeft");
var pnAdvancerRight = document.getElementById("pnAdvancerRight");
// the indicator
var pnIndicator = document.getElementById("pnIndicator");

var pnProductNav = document.getElementById("pnProductNav");
var pnProductNavContents = document.getElementById("pnProductNavContents");

pnProductNav.setAttribute("data-overflowing", determineOverflow(pnProductNavContents, pnProductNav));

// Set the indicator
// moveIndicator(pnProductNav.querySelector("[aria-selected=\"true\"]"), colours[0]);

// Handle the scroll of the horizontal container
var last_known_scroll_position = 0;
var ticking = false;

function doSomething(scroll_pos) {
pnProductNav.setAttribute("data-overflowing", determineOverflow(pnProductNavContents, pnProductNav));
}

pnProductNav.addEventListener("scroll", function() {
last_known_scroll_position = window.scrollY;
if (!ticking) {
window.requestAnimationFrame(function() {
doSomething(last_known_scroll_position);
ticking = false;
});
}
ticking = true;
});


pnAdvancerLeft.addEventListener("click", function() {
// If in the middle of a move return
if (SETTINGS.navBarTravelling === true) {
return;
}
// If we have content overflowing both sides or on the left
if (determineOverflow(pnProductNavContents, pnProductNav) === "left" || determineOverflow(pnProductNavContents, pnProductNav) === "both") {
// Find how far this panel has been scrolled
var availableScrollLeft = pnProductNav.scrollLeft;
// If the space available is less than two lots of our desired distance, just move the whole amount
// otherwise, move by the amount in the settings
if (availableScrollLeft < SETTINGS.navBarTravelDistance * 2) {
pnProductNavContents.style.transform = "translateX(" + availableScrollLeft + "px)";
} else {
pnProductNavContents.style.transform = "translateX(" + SETTINGS.navBarTravelDistance + "px)";
}
// We do want a transition (this is set in CSS) when moving so remove the class that would prevent that
pnProductNavContents.classList.remove("pn-ProductNav_Contents-no-transition");
// Update our settings
SETTINGS.navBarTravelDirection = "left";
SETTINGS.navBarTravelling = true;
}
// Now update the attribute in the DOM
pnProductNav.setAttribute("data-overflowing", determineOverflow(pnProductNavContents, pnProductNav));
});

pnAdvancerRight.addEventListener("click", function() {
// If in the middle of a move return
if (SETTINGS.navBarTravelling === true) {
return;
}
// If we have content overflowing both sides or on the right
if (determineOverflow(pnProductNavContents, pnProductNav) === "right" || determineOverflow(pnProductNavContents, pnProductNav) === "both") {
// Get the right edge of the container and content
var navBarRightEdge = pnProductNavContents.getBoundingClientRect().right;
var navBarScrollerRightEdge = pnProductNav.getBoundingClientRect().right;
// Now we know how much space we have available to scroll
var availableScrollRight = Math.floor(navBarRightEdge - navBarScrollerRightEdge);
// If the space available is less than two lots of our desired distance, just move the whole amount
// otherwise, move by the amount in the settings
if (availableScrollRight < SETTINGS.navBarTravelDistance * 2) {
pnProductNavContents.style.transform = "translateX(-" + availableScrollRight + "px)";
} else {
pnProductNavContents.style.transform = "translateX(-" + SETTINGS.navBarTravelDistance + "px)";
}
// We do want a transition (this is set in CSS) when moving so remove the class that would prevent that
pnProductNavContents.classList.remove("pn-ProductNav_Contents-no-transition");
// Update our settings
SETTINGS.navBarTravelDirection = "right";
SETTINGS.navBarTravelling = true;
}
// Now update the attribute in the DOM
pnProductNav.setAttribute("data-overflowing", determineOverflow(pnProductNavContents, pnProductNav));
});

pnProductNavContents.addEventListener(
"transitionend",
function() {
// get the value of the transform, apply that to the current scroll position (so get the scroll pos first) and then remove the transform
var styleOfTransform = window.getComputedStyle(pnProductNavContents, null);
var tr = styleOfTransform.getPropertyValue("-webkit-transform") || styleOfTransform.getPropertyValue("transform");
// If there is no transition we want to default to 0 and not null
var amount = Math.abs(parseInt(tr.split(",")[4]) || 0);
pnProductNavContents.style.transform = "none";
pnProductNavContents.classList.add("pn-ProductNav_Contents-no-transition");
// Now lets set the scroll position
if (SETTINGS.navBarTravelDirection === "left") {
pnProductNav.scrollLeft = pnProductNav.scrollLeft - amount;
} else {
pnProductNav.scrollLeft = pnProductNav.scrollLeft + amount;
}
SETTINGS.navBarTravelling = false;
},
false
);
// var count = 0;
function moveIndicator(item, color) {
var textPosition = item.getBoundingClientRect();
var container = pnProductNavContents.getBoundingClientRect().left;
var distance = textPosition.left - container;
var scroll = pnProductNavContents.scrollLeft;
pnIndicator.style.transform = "translateX(" + (distance + scroll) + "px) scaleX(" + textPosition.width * 0.01 + ")";
// count = count += 100;
// pnIndicator.style.transform = "translateX(" + count + "px)";

if (color) {
pnIndicator.style.backgroundColor = color;
}
}

function determineOverflow(content, container) {
var containerMetrics = container.getBoundingClientRect();
var containerMetricsRight = Math.floor(containerMetrics.right);
var containerMetricsLeft = Math.floor(containerMetrics.left);
var contentMetrics = content.getBoundingClientRect();
var contentMetricsRight = Math.floor(contentMetrics.right);
var contentMetricsLeft = Math.floor(contentMetrics.left);
if (containerMetricsLeft > contentMetricsLeft && containerMetricsRight < contentMetricsRight) {
return "both";
} else if (contentMetricsLeft < containerMetricsLeft) {
return "left";
} else if (contentMetricsRight > containerMetricsRight) {
return "right";
} else {
return "none";
}
}
(function (root, factory) {
if (typeof define === 'function' && define.amd) {
define(['exports'], factory);
} else if (typeof exports !== 'undefined') {
factory(exports);
} else {
factory((root.dragscroll = {}));
}
}(this, function (exports) {
var _window = window;
var _document = document;
var mousemove = 'mousemove';
var mouseup = 'mouseup';
var mousedown = 'mousedown';
var EventListener = 'EventListener';
var addEventListener = 'add'+EventListener;
var removeEventListener = 'remove'+EventListener;
var newScrollX, newScrollY;

var dragged = [];
var reset = function(i, el) {
for (i = 0; i < dragged.length;) {
el = dragged[i++];
el = el.container || el;
el[removeEventListener](mousedown, el.md, 0);
_window[removeEventListener](mouseup, el.mu, 0);
_window[removeEventListener](mousemove, el.mm, 0);
}
// cloning into array since HTMLCollection is updated dynamically
dragged = [].slice.call(_document.getElementsByClassName('dragscroll'));
for (i = 0; i < dragged.length;) {
(function(el, lastClientX, lastClientY, pushed, scroller, cont){
  (cont = el.container || el)[addEventListener](
      mousedown,
      cont.md = function(e) {
          if (!el.hasAttribute('nochilddrag') ||
              _document.elementFromPoint(
                  e.pageX, e.pageY
              ) == cont
          ) {
              pushed = 1;
              lastClientX = e.clientX;
              lastClientY = e.clientY;

              e.preventDefault();
          }
      }, 0
  );

  _window[addEventListener](
      mouseup, cont.mu = function() {pushed = 0;}, 0
  );

  _window[addEventListener](
      mousemove,
      cont.mm = function(e) {
          if (pushed) {
              (scroller = el.scroller||el).scrollLeft -=
                  newScrollX = (- lastClientX + (lastClientX=e.clientX));
              scroller.scrollTop -=
                  newScrollY = (- lastClientY + (lastClientY=e.clientY));
              if (el == _document.body) {
                  (scroller = _document.documentElement).scrollLeft -= newScrollX;
                  scroller.scrollTop -= newScrollY;
              }
          }
      }, 0
  );
})(dragged[i++]);
}
}


if (_document.readyState == 'complete') {
reset();
} else {
_window[addEventListener]('load', reset, 0);
}
exports.reset = reset;
}));
    </script>

<script async>
function remove_group_alert_icon(){
        group_alert_header=  document.getElementById('pills-home-tab')
      group_alert_container_count=  document.getElementById('notification_alert_count')
        group_alert_container=  document.getElementById('notification_alert_count')
      group_alert_container_count.textContent = "0"
    //  $('#notification_alert_container').removeClass('animated fade delay-3s');
       group_alert_container.style.display = 'none'

  }
  function remove_group_board_icon(){

          group_alert_header=  document.getElementById('pills-profile-tab')
          board_alert_container=  document.getElementById('board_alert_count')

        group_alert_container_count=  document.getElementById('board_alert_count')
        group_alert_container_count.textContent = "0"
  //      $('#board_alert_container').removeClass('animated fade delay-3s');
         board_alert_container.style.display = 'none'
    }
</script>
{% endblock %}
